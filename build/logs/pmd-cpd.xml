<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
  <duplication lines="29" tokens="108">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="60"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="154"/>
    <codefragment>        if($publish_id==3){
            $dateTTP= $this-&gt;input-&gt;post('NowPublishDate');
            $timeTTP= $this-&gt;input-&gt;post('NowPublishTime');
            /*$datetimeTTP=$dateTTP." ".$timeTTP; 
            $dt = strtotime("$datetimeTTP GMT");*/
            $timezone = $this-&gt;input-&gt;post('timezoneoffset') * 60;
            $datetimeTTP=$dateTTP." ".$timeTTP; 
            $dt = strtotime("$datetimeTTP")+($timezone);
            $TTP=date("Y-m-d H:i:s", $dt); 
        }else{

            $dateTTP= $this-&gt;input-&gt;post('time_to_publish_date');
            $timeTTP= $this-&gt;input-&gt;post('time_to_publish_time');
            /*$datetimeTTP=$dateTTP." ".$timeTTP; 
            $dt = strtotime("$datetimeTTP GMT");*/
            $timezone = $this-&gt;input-&gt;post('timezoneoffset') * 60;
            $datetimeTTP=$dateTTP." ".$timeTTP; 
            $dt = strtotime("$datetimeTTP")+($timezone);
            $TTP=date("Y-m-d H:i:s", $dt); 

       }

        //$hourTTL= $this-&gt;input-&gt;post('TTL-hour');
        //$minuteTTL= $this-&gt;input-&gt;post('TTL-min'); 
        //$TTl= date("H:i:s", strtotime("$hourTTL:$minuteTTL"));
        $hourTTA=00;
        $minTTA= $this-&gt;input-&gt;post('TTA-min');
        $secTTA= $this-&gt;input-&gt;post('TTA-sec'); 
        $TTA= date("H:i:s", strtotime("$hourTTA:$minTTA:$secTTA")); 
</codefragment>
  </duplication>
  <duplication lines="20" tokens="92">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="332"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="362"/>
    <codefragment>        $storeDate= $this-&gt;input-&gt;post('date');
        $dt = strtotime("$storeDate");
        $dateStore=date("Y-m-d", $dt); 
        $storeTime= $this-&gt;input-&gt;post('time'); 
        $timeStore= date("H:i:s", strtotime("$storeTime"));
        $channel_published_at=  date("Y-m-d H:i:s");


        $data = array(
            'league'               =&gt; $this-&gt;input-&gt;post('news_league_id'),
            'team1'                =&gt; $this-&gt;input-&gt;post('add_store_team1'),
            'team2'                =&gt; $this-&gt;input-&gt;post('add_store_team2'),
            'venue'                =&gt; $this-&gt;input-&gt;post('venue'),
            'country'              =&gt; $this-&gt;input-&gt;post('country'),
            'points'               =&gt; $this-&gt;input-&gt;post('points'),
            'date'                 =&gt; $dateStore,
            'time'                 =&gt; $timeStore,
            'channel_published_at' =&gt; $channel_published_at,
        ); 

</codefragment>
  </duplication>
  <duplication lines="68" tokens="151">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="657"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="736"/>
    <codefragment>        $registrationIds = array();
        $android_res = '';
        foreach($androidDeviceidAry as $value){
            $registrationIds[] = $value['device_token'];
        }
        //print_r($registrationIds); exit;
        if ( count($registrationIds)&gt;0) {
            $msg = array(
                'title' =&gt; $contentAry['title'],
                'data' =&gt; $contentAry,
                'vibrate' =&gt; 1,
                'sound' =&gt; 1,
                'largeIcon' =&gt; 'large_icon',
                'image_url'=&gt;'image_url',
                'description'=&gt;'news_description',
                'smallIcon' =&gt; 'small_icon'
            );

            $fields = array(
                'registration_ids' =&gt; $registrationIds,
                'data' =&gt; $msg
            );

            $headers = array(
                'Authorization: key=' . API_ACCESS_KEY,
                'Content-Type: application/json'
            );

            $ch = curl_init();
            curl_setopt($ch, CURLOPT_URL, 'https://android.googleapis.com/gcm/send');
            curl_setopt($ch, CURLOPT_POST, true);
            curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
            curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($fields));
            $result = curl_exec($ch);
            curl_close($ch);

            $android_res = json_decode($result);

        }

        if(count($iosDeviceidAry)&gt;0){
            $CurlConnect = curl_init();
            $req = json_encode(array('ios_arn_arr'=&gt;$iosDeviceidAry,'ios_content'=&gt;$contentAry));
            curl_setopt($CurlConnect, CURLOPT_URL, NOTIFICATION_API_PATH.'ios_push');
            curl_setopt($CurlConnect, CURLOPT_POST,   1);
            curl_setopt($CurlConnect, CURLOPT_RETURNTRANSFER, 1 );
            curl_setopt($CurlConnect, CURLOPT_POSTFIELDS, $req);

            curl_setopt($CurlConnect, CURLOPT_HTTPHEADER, array(                                                                          
               'Content-Type: application/json',                                                                                
               'Content-Length: ' . strlen($req))                                                                       
            );

            $Result = curl_exec($CurlConnect);
            $ios_res = $Result;
        }
        
        $data['contentAry']     = $contentAry;
        $data['android_res']    = $android_res;
        $data['ios_res']        = $ios_res;

        header("Content-type: application/json");
        echo json_encode($data);   
    }

    public function push_notification_ticket($ticketid,$level){
</codefragment>
  </duplication>
  <duplication lines="28" tokens="117">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="59"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="194"/>
    <codefragment>                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_sports_id'].'"&gt;Source : '.$news['rss_sports_source'].'&lt;/p&gt;'; 

                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_source'].'"&gt;';
                            echo '&lt;input type="hidden" id="news_tags_'.$news['rss_sports_id'].'" value="'.$news['tags'].'"&gt;';

                            echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_sports_id'].'"&gt;';
                            if(isset($news['activity'])){
                            foreach($news['activity'] as $activity){
                                    if($activity['activity_action'] == 'edit'){
                                        echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                    }else if($activity['activity_action'] == 'publish'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'notify'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'read'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }
                                }
                            }
                            echo '&lt;/div&gt;';
                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_edit_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-news_category="'.$news['news_category'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_detail_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Detail" type="button" class="btn btn-default btn-sm btn_detail_news"&gt;  &lt;span class="glyphicon glyphicon-list" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

</codefragment>
  </duplication>
  <duplication lines="43" tokens="146">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="101"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="237"/>
    <codefragment>                                    &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }
                    else{
                    //else if($news['news_category'] != 31){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_hide_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_copy_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Copy" type="button" class="btn btn-default btn-sm btn_copy_news"&gt;  &lt;span class="glyphicon glyphicon-export" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_game_add_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Game" type="button" class="btn btn-default btn-sm btn_game_add_news"&gt;  &lt;span class="fa fa-trophy" aria-hidden="true" '. (($news['game_id']&gt;0)?'style="color:#00AC14;"':''). '&gt;&lt;/span&gt;&lt;/button&gt;';                    


                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['sports_edited_by_admin_id'] != 0){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_sports_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_sports_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['sports_published_at'] != 0){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['sports_notified_at'] != 0){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_sports_created_at'];
                $last_news_id = $news['rss_sports_id'];
</codefragment>
  </duplication>
  <duplication lines="21" tokens="74">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="64"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/waiver_listing.php" line="63"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/player_listing.php" line="63"/>
    <codefragment>                            echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_sports_id'].'"&gt;';
                            if(isset($news['activity'])){
                            foreach($news['activity'] as $activity){
                                    if($activity['activity_action'] == 'edit'){
                                        echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                    }else if($activity['activity_action'] == 'publish'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'notify'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'read'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }
                                }
                            }
                            echo '&lt;/div&gt;';
                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_edit_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-news_category="'.$news['news_category'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

</codefragment>
  </duplication>
  <duplication lines="27" tokens="102">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/waiver_listing.php" line="59"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/waiver_listing.php" line="184"/>
    <codefragment>                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_waiver_id'].'"&gt;Source : '.$news['rss_waiver_source'].'&lt;/p&gt;'; 

                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_source'].'"&gt;';

                            echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_waiver_id'].'"&gt;';
                            if(isset($news['activity'])){
                            foreach($news['activity'] as $activity){
                                    if($activity['activity_action'] == 'edit'){
                                        echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                    }else if($activity['activity_action'] == 'publish'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'notify'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'read'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }
                                }
                            }
                            echo '&lt;/div&gt;';

                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_edit_'.$news['rss_waiver_id'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    if($news['waiver_published_at'] == 0){
</codefragment>
  </duplication>
  <duplication lines="82" tokens="332">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="5"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/video_listing.php" line="5"/>
    <codefragment>if(!empty($kroo_news)){
    $k=0;
    foreach($kroo_news as $news){
        

            if($news['rss_sports_news_id'] &amp;&amp; $news['sports_is_deleted'] == 0){

                echo '&lt;tr id="k_news_'.$news['rss_sports_id'].'"&gt;';

                if($news['sports_published_at'] != 0){
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input type="checkbox" class="checkbox" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input name="locationthemes" type="checkbox" class="checkbox" value="'.$news['rss_sports_id'].'" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }


                if(empty($news['league_team_logo'])){
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.ASSETS.'Artboard1.png"&gt;&lt;/a&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$news['league_team_logo'].'"&gt; &lt;/a&gt;&lt;/td&gt;';
                }

                echo '&lt;td&gt;';
                    echo '&lt;div class="media"&gt;';
                        echo '&lt;div class="pull-left"&gt;';
                            echo '&lt;a href="javascript:void(0);"&gt;';

                            if($news['sports_image'] == '' || $news['sports_image'] == 'noimage'){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.ASSETS.'Artboard1.png"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }                                                                        
                            else if(strpos($news['sports_image'], 'www') !== false || strpos($news['sports_image'], 'http') !== false){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.$news['sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }
                            else{
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.newsimage.''.$news['sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';                                                                           
                            }

                            echo '&lt;/a&gt;';
                        echo '&lt;/div&gt;';
                        echo '&lt;div class="media-body"&gt;';
                            echo '&lt;div style="display:flex;color:gray;font-size:11px;margin-bottom:-9px;"&gt;&lt;p&gt;'.$news['channel_name'].'&lt;/p&gt;&amp;nbsp;/&amp;nbsp;&lt;p id="kroo_news_at_'.$news['rss_sports_id'].'"&gt;'.$news['rss_sports_created_at'].'&lt;/p&gt;&lt;/div&gt;'; 
                            echo '&lt;h4 class="tControl" data-id="'.$news['rss_sports_id'].'" id="title_read_news"&gt;&lt;a data-id="'.$news['rss_sports_id'].'" id="title_'.$news['rss_sports_id'].'" href="'.$news['sports_url'].'" target="_blank"&gt;'.$news['sports_title'].'&lt;/a&gt;&lt;/h4&gt;';


                            echo '&lt;input type="hidden" id="rss_title_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_title'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_summary_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_summary'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_url_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_url'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_image_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_image'].'"&gt;';

                            echo '&lt;p data-id="'.$news['rss_sports_id'].'" id="summary_'.$news['rss_sports_id'].'"  class="tControl"&gt;'.$news['sports_summary'].'&lt;/p&gt;';

                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_sports_id'].'"&gt;Source : '.$news['rss_sports_source'].'&lt;/p&gt;'; 

                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_source'].'"&gt;';
                            echo '&lt;input type="hidden" id="news_tags_'.$news['rss_sports_id'].'" value="'.$news['tags'].'"&gt;';

                            echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_sports_id'].'"&gt;';
                            if(isset($news['activity'])){
                            foreach($news['activity'] as $activity){
                                    if($activity['activity_action'] == 'edit'){
                                        echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                    }else if($activity['activity_action'] == 'publish'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'notify'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'read'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }
                                }
                            }
                            echo '&lt;/div&gt;';
                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_edit_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-news_category="'.$news['news_category'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_detail_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Detail" type="button" class="btn btn-default btn-sm btn_detail_news"&gt;  &lt;span class="glyphicon glyphicon-list" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

</codefragment>
  </duplication>
  <duplication lines="30" tokens="98">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="87"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/video_listing.php" line="90"/>
    <codefragment>                    if($news['sports_published_at'] == 0){
                       echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_publish_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Publish" type="button" class="btn btn-default btn-sm btn_publish_news"&gt;  &lt;span class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }
                    else{
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_publish_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_publish_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }

                    //if($news['sports_notified_at']== 0 &amp;&amp; $news['news_category'] != 31){
                    if($news['sports_notified_at']== 0){
                        // echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Notify" type="button" class="btn btn-default btn-sm btn_notify_news"&gt;  &lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                         echo    '&lt;div class="dropdown"&gt;
                                &lt;button type="button" onclick="myFunction(this)" class="btn btn-default btn-sm dropbtn" title="Notify"&gt;&lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;
                                  &lt;div id="myDropdown" class="dropdown-content myDropdown"&gt;
                                    &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }
                    else{
                    //else if($news['news_category'] != 31){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_hide_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_copy_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Copy" type="button" class="btn btn-default btn-sm btn_copy_news"&gt;  &lt;span class="glyphicon glyphicon-export" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

</codefragment>
  </duplication>
  <duplication lines="107" tokens="386">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="117"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/video_listing.php" line="119"/>
    <codefragment>                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_game_add_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Game" type="button" class="btn btn-default btn-sm btn_game_add_news"&gt;  &lt;span class="fa fa-trophy" aria-hidden="true" '. (($news['game_id']&gt;0)?'style="color:#00AC14;"':''). '&gt;&lt;/span&gt;&lt;/button&gt;';                    


                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['sports_edited_by_admin_id'] != 0){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_sports_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_sports_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['sports_published_at'] != 0){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['sports_notified_at'] != 0){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_sports_created_at'];
                $last_news_id = $news['rss_sports_id'];
            }
            else if($news['rss_sports_is_deleted'] == 0)
            {

                echo '&lt;tr id="k_news_'.$news['rss_sports_id'].'"&gt;';

                if($news['sports_published_at']){
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input type="checkbox" class="checkbox" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input name="locationthemes" type="checkbox" class="checkbox" value="'.$news['rss_sports_id'].'" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }


                if(empty($news['league_team_logo'])){
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.ASSETS.'Artboard1.png"&gt;&lt;/a&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$news['league_team_logo'].'"&gt;&lt;/a&gt;&lt;/td&gt;';
                }

                echo '&lt;td&gt;';
                    echo '&lt;div class="media"&gt;';
                        echo '&lt;div class="pull-left"&gt;';
                            echo '&lt;a href="javascript:void(0);"&gt;';

                            if($news['rss_sports_image'] == '' || $news['rss_sports_image'] == 'noimage'){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.ASSETS.'Artboard1.png"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }                                                                        
                            else if(strpos($news['rss_sports_image'], 'www') !== false || strpos($news['rss_sports_image'], 'http') !== false){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.$news['rss_sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }
                            else{
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.newsimage.''.$news['rss_sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }

                            echo '&lt;/a&gt;';
                         echo '&lt;/div&gt;';
                        echo '&lt;div class="media-body"&gt;';
                            echo '&lt;div style="display:flex;color:gray;font-size:11px;margin-bottom:-9px;"&gt;&lt;p&gt;'.$news['channel_name'].'&lt;/p&gt;&amp;nbsp;/&amp;nbsp;&lt;p id="kroo_news_at_'.$news['rss_sports_id'].'"&gt;'.$news['rss_sports_created_at'].'&lt;/p&gt;&lt;/div&gt;'; 
                            echo '&lt;input type="hidden" id="rss_title_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_title'].'"&gt;';
                            echo '&lt;h4 class="tControl" data-id="'.$news['rss_sports_id'].'" id="title_read_news"&gt;&lt;a data-id="'.$news['rss_sports_id'].'" id="title_'.$news['rss_sports_id'].'" href="'.$news['rss_sports_url'].'" target="_blank"&gt;'.$news['rss_sports_title'].'&lt;/a&gt;&lt;/h4&gt;';
                            echo '&lt;p data-id="'.$news['rss_sports_id'].'" id="summary_'.$news['rss_sports_id'].'"  class="tControl"&gt;'.$news['rss_sports_summary'].'&lt;/p&gt;';


                            echo '&lt;input type="hidden" id="rss_summary_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_summary'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_url_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_url'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_image_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_image'].'"&gt;';

                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_sports_id'].'"&gt;Source : '.$news['rss_sports_source'].'&lt;/p&gt;'; 
                            
                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_source'].'"&gt;';
                            echo '&lt;input type="hidden" id="news_tags_'.$news['rss_sports_id'].'" value="'.$news['tags'].'"&gt;';

                             echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_sports_id'].'"&gt;';
                            if(isset($news['activity'])){
                                foreach($news['activity'] as $activity){
                                        if($activity['activity_action'] == 'edit'){
                                            echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                        }else if($activity['activity_action'] == 'publish'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }else if($activity['activity_action'] == 'notify'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }else if($activity['activity_action'] == 'read'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }                                                                     
                                    }
                            }
                            echo '&lt;/div&gt;';

                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_edit_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-news_category="'.$news['news_category'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_detail_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-news_category="'.$news['news_category'].'" data-toggle="tooltip" data-placement="top" title="Detail" type="button" class="btn btn-default btn-sm btn_detail_news"&gt;  &lt;span class="glyphicon glyphicon-list" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    if(!$news['sports_published_at']){
</codefragment>
  </duplication>
  <duplication lines="29" tokens="97">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="223"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/video_listing.php" line="225"/>
    <codefragment>                    if(!$news['sports_published_at']){
                       echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_publish_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Publish" type="button" class="btn btn-default btn-sm btn_publish_news"&gt;  &lt;span class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }
                    else{
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_publish_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_publish_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }

                    if(!$news['sports_notified_at']){
                    //if(!$news['sports_notified_at'] &amp;&amp;  $news['news_category'] != 31){
                        // echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Notify" type="button" class="btn btn-default btn-sm btn_notify_news"&gt;  &lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                         echo    '&lt;div class="dropdown"&gt;
                                &lt;button type="button" onclick="myFunction(this)" class="btn btn-default btn-sm dropbtn" title="Notify"&gt;&lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;
                                  &lt;div id="myDropdown" class="dropdown-content myDropdown"&gt;
                                     &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }else{
                    //}else if( $news['news_category'] != 31){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_notify_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_hide_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_copy_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Copy" type="button" class="btn btn-default btn-sm btn_copy_news"&gt;  &lt;span class="glyphicon glyphicon-export" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
</codefragment>
  </duplication>
  <duplication lines="32" tokens="75">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="117"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/video_listing.php" line="253"/>
    <codefragment>                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_game_add_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Game" type="button" class="btn btn-default btn-sm btn_game_add_news"&gt;  &lt;span class="fa fa-trophy" aria-hidden="true" '. (($news['game_id']&gt;0)?'style="color:#00AC14;"':''). '&gt;&lt;/span&gt;&lt;/button&gt;';                    


                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['sports_edited_by_admin_id'] != 0){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_sports_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_sports_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['sports_published_at'] != 0){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['sports_notified_at'] != 0){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_sports_created_at'];
                $last_news_id = $news['rss_sports_id'];
            }
            else if($news['rss_sports_is_deleted'] == 0)
            {

                echo '&lt;tr id="k_news_'.$news['rss_sports_id'].'"&gt;';
</codefragment>
  </duplication>
  <duplication lines="27" tokens="102">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/player_listing.php" line="59"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/player_listing.php" line="184"/>
    <codefragment>                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_player_id'].'"&gt;Source : '.$news['rss_player_source'].'&lt;/p&gt;'; 

                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_player_id'].'" value="'.$news['rss_player_source'].'"&gt;';

                            echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_player_id'].'"&gt;';
                            if(isset($news['activity'])){
                            foreach($news['activity'] as $activity){
                                    if($activity['activity_action'] == 'edit'){
                                        echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                    }else if($activity['activity_action'] == 'publish'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'notify'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'read'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }
                                }
                            }
                            echo '&lt;/div&gt;';

                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_edit_'.$news['rss_player_id'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    if($news['player_published_at'] == 0){
</codefragment>
  </duplication>
  <duplication lines="308" tokens="121">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/dashboard--.php" line="133"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/dashboard.php" line="83"/>
    <codefragment>                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                   echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   foreach($kroo_news['all_leagues'] as $news){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-left:10px;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_team_text" type="button" data-toggle="dropdown"&gt;Select Team
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu" id="select_team" style="height: auto; max-height: 500px; overflow-x:hidden; "&gt;
                               &lt;li style="text-align:center"&gt;&lt;h4&gt;Select League&lt;/h4&gt;&lt;/li&gt;
                           &lt;/ul&gt;
                       &lt;/div&gt;                     
                      

                       &lt;div class="dropdown" style="padding-left:10px;"&gt;

                           &lt;button class="btn btn-default dropdown-toggle select_news_type" type="button" data-toggle="dropdown"&gt;Select News
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu"&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="2" data-name="All News"&gt;All News&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="1" data-name="Published"&gt;Published&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="0" data-name="Not Published"&gt;Not Published&lt;/a&gt;
                               &lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" id="notified_sort" href="javascript:void(0);" data-id="3" data-name="Notified"&gt;Notified&lt;/a&gt;&lt;/li&gt;
                           &lt;/ul&gt;

                       &lt;/div&gt;

                       &lt;div style="padding-left:10px;"&gt;
                           &lt;form class="form-inline" id="news_date_form"&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker1" autocomplete="off" placeholder="From Date" id="datepicker1" name="datepicker1" /&gt;
                               &lt;/div&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker2" autocomplete="off" placeholder="To Date" id="datepicker2" name="datepicker2" /&gt;
                               &lt;/div&gt;
                               &lt;button id="btn_get_date" class="btn btn-default"&gt;Get News&lt;/button&gt;
                           &lt;/form&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-right:10px; float: right; margin-left:auto;"&gt;
                           &lt;button class="btn btn-default btn-add-news" data-toggle="modal" data-target="#myAddNewsModel" type="button"&gt;Add News&lt;/button&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-right:10px; float: right;"&gt;
                           &lt;button class="btn btn-default clr-fltr" type="button"&gt;Clear Filter&lt;/button&gt;
                       &lt;/div&gt;

                       &lt;div style="padding-right:10px; float: right;"&gt;
                           &lt;a href="javascript:void(0);" id="mass_publish" class="btn btn-default"&gt;Publish Selected&lt;/a&gt;
                       &lt;/div&gt;

                        &lt;div class="dropdown" style="padding-right:10px; float: right;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_channel_text" type="button" data-toggle="dropdown"&gt;Select Channel
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;?php
                               if(!empty($channel2)){
                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                    foreach($channel2 as $row){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_channel" data-id="'.$row['id'].'" data-name="'.$row['name'].'" href="javascript:void(0);"&gt;&lt;span&gt;'.$row['name'].'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                       &lt;/div&gt;



                   &lt;/div&gt;

                   &lt;br&gt;

                   &lt;div&gt;

                       &lt;table class="table table-hover kroo_data_table" id="kroo_team_news"&gt;
                           &lt;thead&gt;
                               &lt;tr&gt;
                                   &lt;th class="col-md-*"&gt;&lt;input type="checkbox" class="checkall" /&gt;
                                       &lt;input type="hidden" id="listCNT0" value="0"&gt;
                                       &lt;input type="hidden" id="listTYPE0" autocomplete="off" value=""&gt;
                                   &lt;/th&gt;
                                   &lt;th class="col-md-*"&gt;Team&lt;/th&gt;
                                   &lt;th class="col-md-8"&gt;Feeds&lt;/th&gt;
                                   &lt;th class="col-md-2 text-center"&gt;Actions&lt;/th&gt;
                                   &lt;th class="col-md-* text-right" style="padding-right:40px;"&gt;&lt;span class="glyphicon glyphicon-flag" aria-hidden="true"&gt;&lt;/span&gt;&lt;/th&gt;
                               &lt;/tr&gt;
                           &lt;/thead&gt; 
                           &lt;tbody&gt;&lt;/tbody&gt;   
                           &lt;/table&gt;
                       &lt;/div&gt;
               &lt;/div&gt;

               &lt;!-- HEADLINES CONTENT --&gt;
               &lt;div role="tabpanel" class="tab-pane" id="headlines"&gt;

                   &lt;div style="display:flex; padding-top:20px; padding-left:20px;" id="left_filters"&gt;

                      
                       &lt;div class="dropdown"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_league_text" type="button" data-toggle="dropdown"&gt;Select League
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;?php
                               if(!empty($kroo_news['all_leagues'])){
                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                   echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                    foreach($kroo_news['all_leagues'] as $news){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                       &lt;/div&gt;

                      &lt;!--  &lt;div class="dropdown" style="padding-left:10px;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_team_text" type="button" data-toggle="dropdown"&gt;Select Team
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu" id="select_team" style="height: auto; max-height: 500px; overflow-x:hidden; "&gt;
                               &lt;li style="text-align:center"&gt;&lt;h4&gt;Select League&lt;/h4&gt;&lt;/li&gt;
                           &lt;/ul&gt;
                       &lt;/div&gt; --&gt;
                      &lt;div class="dropdown" style="padding-left:10px;"&gt;

                           &lt;button class="btn btn-default dropdown-toggle select_news_type" type="button" data-toggle="dropdown"&gt;Select News
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu"&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="2" data-name="All News"&gt;All News&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="1" data-name="Published"&gt;Published&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="0" data-name="Not Published"&gt;Not Published&lt;/a&gt;
                               &lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" id="notified_sort" href="javascript:void(0);" data-id="3" data-name="Notified"&gt;Notified&lt;/a&gt;&lt;/li&gt;
                           &lt;/ul&gt;

                       &lt;/div&gt;

                       &lt;div style="padding-left:10px;"&gt;
                           &lt;form class="form-inline" id="headline_date_form"&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker1" autocomplete="off" placeholder="From Date" id="datepicker1" name="datepicker1" /&gt;
                               &lt;/div&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker2" autocomplete="off" placeholder="To Date" id="datepicker2" name="datepicker2" /&gt;
                               &lt;/div&gt;
                               &lt;button id="btn_get_date" class="btn btn-default"&gt;Get News&lt;/button&gt;
                           &lt;/form&gt;
                       &lt;/div&gt;
                       &lt;div class="dropdown" style="padding-right:10px; float: right; margin-left:auto;"&gt;
                           &lt;button class="btn btn-default btn-add-news" data-toggle="modal" data-target="#myAddNewsModel" type="button"&gt;Add News&lt;/button&gt;
                       &lt;/div&gt;


                       &lt;div class="dropdown" style="padding-right:10px; float: right;"&gt;
                           &lt;button class="btn btn-default clr-fltr" type="button"&gt;Clear Filter&lt;/button&gt;
                       &lt;/div&gt;

                       &lt;div style="padding-right:10px; float: right;"&gt;
                           &lt;a href="javascript:void(0);" id="mass_publish" class="btn btn-default"&gt;Publish Selected&lt;/a&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-right:10px; float: right;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_channel_text" type="button" data-toggle="dropdown"&gt;Select Channel
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;?php
                               if(!empty($channel31)){
                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                    foreach($channel31 as $row){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_channel" data-id="'.$row['id'].'" data-name="'.$row['name'].'" href="javascript:void(0);"&gt;&lt;span&gt;'.$row['name'].'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                       &lt;/div&gt;

                   &lt;/div&gt;

                   &lt;br&gt;

                   &lt;div&gt;

                        &lt;table class="table table-hover kroo_data_table" id="kroo_headlines"&gt;
                           &lt;thead&gt;
                               &lt;tr&gt;
                                   &lt;th class="col-md-*"&gt;&lt;input type="checkbox" class="checkall" /&gt;
                                       &lt;input type="hidden" id="listCNT1" value="0"&gt;
                                       &lt;input type="hidden" id="listTYPE1" autocomplete="off" value=""&gt;
                                   &lt;/th&gt;
                                   &lt;th class="col-md-*"&gt;League&lt;/th&gt;
                                   &lt;th class="col-md-8"&gt;Feeds&lt;/th&gt;
                                   &lt;th class="col-md-2 text-center"&gt;Actions&lt;/th&gt;
                                   &lt;th class="col-md-* text-right" style="padding-right:40px;"&gt;&lt;span class="glyphicon glyphicon-flag" aria-hidden="true"&gt;&lt;/span&gt;&lt;/th&gt;
                               &lt;/tr&gt;
                           &lt;/thead&gt; 
                           &lt;tbody&gt;&lt;/tbody&gt;   
                           &lt;/table&gt;
                       &lt;/div&gt;
               &lt;/div&gt;

                &lt;!-- Add game Modal start --&gt;
                  &lt;div class="modal fade" id="myAddModal" role="dialog"&gt;
                    &lt;div class="modal-dialog"&gt;
                    
                      &lt;!-- Modal content--&gt;
                      &lt;div class="modal-content" style="width: 128%;"&gt;
                        &lt;div class="modal-header"&gt;
                          &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                          &lt;h4 class="modal-title" id="add"&gt;&lt;/h4&gt;
                        &lt;/div&gt;

                        &lt;div class=""&gt;

                              &lt;form class="form-horizontal" id="gameAdd" name="gameinfo"&gt;
                              &lt;fieldset&gt;
                              &lt;legend&gt;  &lt;/legend&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label"&gt;Game Type&lt;/label&gt;  
                                &lt;div class="col-md-9" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-4"&gt;
                                  &lt;select name="select_game_category" id="select_game_category" class="form-control"&gt;
                                    &lt;option class="select_leagues" data-id="1" value="1"&gt;LevelUp&lt;/option&gt;
                                    &lt;option class="select_leagues" data-id="2" value="2" selected="selected"&gt;News Feed Based&lt;/option&gt;
                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                  &lt;div id="difficulty_block" style="display:none;"&gt;
                                    &lt;label class="col-md-3 control-label"&gt;Difficulty Type&lt;/label&gt;
                                    &lt;div class="col-md-3"&gt;
                                      &lt;select id="select_difficulty" name="select_difficulty" class="form-control"&gt; 
                                        &lt;option class="select_leagues" data-id="1" value="1"&gt;Easy&lt;/option&gt;
                                        &lt;option class="select_leagues" data-id="2" value="2"&gt;Medium&lt;/option&gt;
                                        &lt;option class="select_leagues" data-id="3" value="3"&gt;Hard&lt;/option&gt;  
                                      &lt;/select&gt;                                
                                    &lt;/div&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;!-- Text input--&gt;

                              &lt;div class="form-group"&gt;
                                &lt;span id="hiddenId"&gt;&lt;input type="hidden"  name="id" id="qus_id"&gt;&lt;/span&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Question&lt;/label&gt;  
                                &lt;div class="col-md-7"&gt;
                                &lt;input type="hidden" name="news_id" id="news_id"&gt;
                                &lt;input type="hidden" name="publish_id" id="publish_id"&gt;

                                &lt;input id="NowPublishDate" name="NowPublishDate" value="" type="hidden"&gt;
                                &lt;input id="NowPublishTime" name="NowPublishTime" value="" type="hidden"&gt;
                                &lt;span id="qustions"&gt;
                                &lt;textarea id="question" name="question" class="form-control" placeholder="question" rows="3" maxlength="500" value="" onKeyDown="limitText(this,100);" onKeyUp="limitText(this,300);"&gt;&lt;/textarea&gt;
                                &lt;/span&gt;
                                &lt;p style="font-size: 11px;"&gt;Max 100 characters allowed&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="col-md-8" style="margin-left: 30px;" id="radio_list"&gt;

                                  &lt;label class="" style="width: 55px;"&gt;Options&lt;/label&gt;

                                  &lt;label id="option_1" class="radio-inline"&gt;
                                      &lt;span&gt;1&lt;/span&gt;
                                      &lt;input id="ansTxtOpt1" name="ans_opt1" placeholder="option1" class="" type="text" value="" style="height: 35px; margin-left: 12px;width: 383px; border: 1px solid #ccc; border-radius: 4px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,100);"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;
                                  &lt;label id="option_2" class="radio-inline"&gt;
                                    &lt;span&gt;2&lt;/span&gt;
                                      &lt;input id="ansTxtOpt2" type="text" name="ans_opt2" placeholder="option2" style="height
                                    : 35px; margin-left: 12px;width: 383px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 12px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,40);"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;
                                  &lt;label id="option_3" class="radio-inline"&gt;
                                    &lt;span&gt;3&lt;/span&gt;
                                    &lt;input id="ansTxtOpt3" type="text" name="ans_opt3" placeholder="option3" style="height
                                    : 35px; margin-left: 12px;width: 383px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 12px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,40);"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;                
                                  &lt;label id="option_4" class="radio-inline" style="margin-bottom: 6px;"&gt;
                                    &lt;span&gt;4&lt;/span&gt;
                                    &lt;input id="ansTxtOpt4" type="text" name="ans_opt4" placeholder="option4" style="height
                                    : 35px; margin-left: 12px;width: 383px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 3px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,40);"&gt;
                                   &lt;div style="font-size: 9px; margin-left: 21px;"&gt;Max 40 characters allowed&lt;/div&gt;
                                  &lt;/label&gt;
                                  
                                  &lt;br&gt;
                              &lt;/div&gt; 
                              
                              &lt;div&gt; 
                                &lt;label class="" style="width: 139px; margin-top: 6px;"&gt;Choose answer&lt;/label&gt; 
                                &lt;br&gt;
                                  &lt;label id="option_1" class="radio-inline" style=""&gt;
                                    &lt;input id="option1" type="radio" class="chexbox" name="optradio" value="1" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;
                                  &lt;label id="option_2" class="radio-inline" style="margin-top: 22px;"&gt;
                                    &lt;input id="option2" type="radio" class="chexbox" name="optradio" value="2" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt; 
                                  &lt;label id="option_3" class="radio-inline " style="margin-top: 28px;"&gt;
                                    &lt;input id="option3" type="radio" class="chexbox" name="optradio" value="3" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt; 
                                  &lt;br&gt;                              
                                  &lt;label id="option_4" class="radio-inline" style="margin-top: 26px;"&gt;
                                    &lt;input id="option4" type="radio" class="chexbox" name="optradio" value="4" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt; 
                                
</codefragment>
  </duplication>
  <duplication lines="701" tokens="124">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/dashboard--.php" line="506"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/dashboard.php" line="390"/>
    <codefragment>                                              echo '&lt;option class="" id="" data-id="'.$sponser-&gt;id.'" value="'.$sponser-&gt;id.'"&gt;'.$sponser-&gt;label.'&lt;/option&gt;';
                                              }

                                           }
                                      ?&gt;

                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 
                              
                              &lt;div class="form-group" id="ques_hint"&gt;
                                &lt;label class="col-md-2 control-label" for="ques_hint"&gt;Hint&lt;/label&gt;  
                                &lt;div class="col-md-6"&gt;
                                  &lt;input id="hint" name="hint" placeholder="Hint" class="form-control input-md" type="text" value=""&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Link&lt;/label&gt;  
                                &lt;div class="col-md-6" id="link"&gt;
                                  &lt;input id="linkid" name="link" placeholder="Link" class="form-control input-md" type="text" value=""&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;


                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Explanation&lt;/label&gt;  
                                &lt;div class="col-md-7" id="exp"&gt;
                                  &lt;textarea id="explanation_answer" class="form-control" rows="3" maxlength="500" name="exp_answer" onKeyDown="limitText(this,100);" onKeyUp="limitText(this,300);"&gt;&lt;/textarea&gt;
                                &lt;p style="font-size: 11px;"&gt;Max 100 characters allowed&lt;/p&gt;    
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                               &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Time to Answer (TTA)&lt;/label&gt;  
                                &lt;div class="col-md-10" style="padding-left: 0px;"&gt;
                                    &lt;div class="col-md-6" style="width: 38%;"&gt;
                                    &lt;input type="hidden" id="TTA-min" name="TTA-min" value="00"&gt;
                                      &lt;select id="TTA-sec" name="TTA-sec" class="form-control TTA-sec"&gt; 
                                        &lt;option value="0"&gt;sec&lt;/option&gt;
                                        &lt;?php
                                        $i=1;
                                        for($i=1; $i&lt;=60; $i++){
                                          echo'&lt;option value="'. str_pad($i, 2, "0", STR_PAD_LEFT) .'"&gt;'.$i.' sec&lt;/option&gt;'; 
                                        }
                                        ?&gt;

                                      &lt;/select&gt;
                                  &lt;/div&gt;                                  
                                &lt;div id="login_duration_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;  

                              &lt;div class="form-group" style="display:none;"&gt;
                                     
                                     &lt;label class="col-md-2 control-label" for="user_email"&gt;Time to publish(TTP)&lt;/label&gt;
                                     &lt;div class="col-md-9"&gt;
                                         &lt;div class="col-md-5" style="padding-left: 0px;"&gt;                     
                                           &lt;input type='text' name="time_to_publish_date" placeholder="Date" class="form-control" id='datepicker' /&gt;
                                           &lt;div id="login_datepicker_err" class="error"&gt;&lt;/div&gt;
                                         &lt;/div&gt;
                                         &lt;div class="col-md-4"&gt;
                                            &lt;input type="text" name="time_to_publish_time" placeholder="Time" class="form-control" id="datetimepicker3"&gt;

                                         &lt;/div&gt;
                                    &lt;/div&gt;
                                       

                              &lt;/div&gt;

                              &lt;/fieldset&gt;
                              &lt;input type="hidden" name="timezoneoffset" value="0"&gt;
                              &lt;/form&gt;

                              &lt;div class="form-group" style="margin-left: 3%; margin-top:5px;"&gt;

                              &lt;/div&gt;

                        &lt;/div&gt;
                        &lt;div class="modal-footer" style="text-align: left;"&gt;
                          &lt;button class="btn btn-primary"  id="submit_form" style="width: 75px;" &gt;Save&lt;/button&gt;
                          &lt;button class="btn btn-primary"  id="submit_publish_form" style="width: 100px; display:none;"; value="2" &gt;Publish Later&lt;/button&gt; 
                          &lt;button class="btn btn-primary"  id="submit_now_form"style="width: 94px;"; value="3" &gt; Publish Now&lt;/button&gt;                                                   
                      
                          &lt;button type="button" class=" btn btn-default" style="width: 75px; margin-left: 2px;" data-dismiss="modal"&gt;Close&lt;/button&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                      
                    &lt;/div&gt;
                  &lt;/div&gt; 
                  
                &lt;!-- Add game modal End----------------&gt; 


                 &lt;!-- ..................Modal  Start...................... --&gt;
               &lt;div class="modal fade" id="myModal" role="dialog"&gt;
                   &lt;div class="modal-dialog"&gt;                            
                         &lt;!-- Modal content--&gt;
                           &lt;div class="modal-content"&gt;
                               &lt;div class="modal-header"&gt;
                                 &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                                 &lt;h4 class="modal-title"&gt;&lt;b&gt;Edit News&lt;/b&gt;&lt;/h4&gt;
                                 &lt;p style="margin-bottom: -10px;color:gray;font-size:11px;" id="edit_news_at"&gt;&lt;/p&gt; 

                               &lt;/div&gt;

                               &lt;div class="modal-body"&gt;
                                   &lt;div id="edit_activity_detail"&gt;&lt;/div&gt;  
                                  &lt;form id="edit_form" enctype="multipart/form-data" accept-charset="utf-8" name="fileinfo"&gt;
                                       &lt;input type="hidden" name="edit_tab_index" id="edit_tab_index" class="form-control"&gt;
                                       &lt;input type="hidden" name="edit_news_id" id="edit_news_id" class="form-control"&gt;
                                       &lt;input type="hidden" name="news_image_url" id="news_image_url" class="form-control"&gt;

                                       &lt;p&gt;Title: &lt;span id="rss_title"&gt;&lt;/span&gt;&lt;/p&gt;
                                       &lt;input type="text" class="form-control" name="edit_news_title" id="edit_news_title" placeholder="Title"&gt;

                                       &lt;p&gt;Summary: &lt;span id="rss_summary"&gt;&lt;/span&gt;&lt;/p&gt;
                                       &lt;p&gt;&lt;b&gt;NOTE :&lt;/b&gt; Max 300 characters allowed&lt;/p&gt;
                                       &lt;textarea class="form-control" name="edit_news_summary" id="edit_news_summary" maxlength="300" rows="3"&gt;&lt;/textarea&gt;

                                       &lt;p&gt;Url: &lt;a id="news_url" target="_blank"&gt;&lt;span id="rss_url"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
                                       &lt;input type="text" class="form-control" name="edit_news_url" id="edit_news_url" placeholder="Url"&gt;

                                       &lt;p&gt;Image&lt;/p&gt;
                                       
                                       &lt;img id="news_image" class="thumbnl" style="width: 250px;" src=""&gt;
                                       &lt;img id="original_news_image" style="width: 250px;" class="pull-right" src=""&gt;
                                       &lt;input type="hidden" name="news_img" value=""&gt;
                                       &lt;div style="clear: both;"&gt;
                                       &lt;div id="file-uploader-myModal"&gt;
                                        &lt;button id="upload"&gt;Change Image&lt;/button&gt;
                                        &lt;noscript&gt; &lt;p&gt;Please enable JavaScript to use file uploader.&lt;/p&gt; &lt;/noscript&gt; 
                                       &lt;/div&gt;
                                       &lt;button id="Search_From_Getty"&gt;Getty&lt;/button&gt;
                                       &lt;button id="useOriginal"&gt;Use Original&lt;/button&gt;
                                       &lt;/div&gt;
                                       &lt;hr&gt;

                                       &lt;p&gt;Source: &lt;span id="rss_source"&gt;&lt;/span&gt;&lt;/p&gt;
                                       &lt;!-- &lt;input type="text" class="form-control" name="edit_news_source" id="edit_news_source" placeholder="Source"&gt; --&gt;

                                       &lt;div style="display: none;" id="edit_league_team"&gt;
                                           &lt;div&gt;
                                               &lt;p&gt;League&lt;/p&gt;
                                               &lt;select name="news_league_ids" class="form-control news_leagues news_leagues" required="required"&gt;  
                                               &lt;option value="0"&gt;Select League&lt;/option&gt;      
                                               &lt;?php
                                                    echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                                       if(!empty($kroo_news['all_leagues'])){

                                                            foreach($kroo_news['all_leagues'] as $news){
                                                               //echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                                               echo '&lt;option id="select_news_league" data-id="'.$news-&gt;id.'" value="'.$news-&gt;id.'"&gt;'.$news-&gt;name.'&lt;/option&gt;';
                                                           }

                                                       }
                                               ?&gt;                                           
                                               &lt;/select&gt;                                                                                         
                                           &lt;/div&gt;

                                           &lt;div style="margin-left: 30px;"&gt;                                                       
                                               &lt;p&gt;Team&lt;/p&gt;
                                               &lt;select id="news_league_id" name="news_league_id" class="form-control" required&gt;   
                                               &lt;/select&gt;
                                           &lt;/div&gt;

                                       &lt;/div&gt;

                                       &lt;hr&gt;

                                       &lt;button type="submit" id="btn_update" class="btn btn-primary"&gt;Update&lt;/button&gt;
                                       &lt;button type="button" class="btn btn-default" data-dismiss="modal"&gt;Close&lt;/button&gt;

                                   &lt;/form&gt;
                               &lt;/div&gt;

                           &lt;/div&gt;

                   &lt;/div&gt;
               &lt;/div&gt;

               &lt;!--  Detail modal box start --&gt;
                &lt;div class="modal fade" id="myDetailModal" role="dialog"&gt;
                   &lt;div class="modal-dialog"&gt;                            
                         &lt;!-- Modal content--&gt;
                           &lt;div class="modal-content"&gt;
                               &lt;div class="modal-header"&gt;
                                 &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                                 &lt;h4 id="modal_title" class="modal-title"&gt;&lt;b&gt;Detail&lt;/b&gt;&lt;/h4&gt;                                
                               &lt;/div&gt;

                               &lt;div class="modal-body"&gt;
                                  &lt;div id="edit_activity_detail"&gt;&lt;/div&gt;  
                                    &lt;form enctype="multipart/form-data" accept-charset="utf-8" name="detailInfo"&gt;
                                      &lt;input type="hidden" name="detail_id" id="detail_id" class="form-control"&gt;
                                      &lt;p&gt;Title: &lt;span id="m_news_detail"&gt;&lt;/span&gt;&lt;/p&gt;
                                      &lt;p&gt;Detail: &lt;span id=""&gt;&lt;/span&gt;&lt;/p&gt;
                                      &lt;textarea name="editor1" id="editor1" rows="5" cols="60"&gt; 
                                      &lt;/textarea&gt;
                                      &lt;hr&gt;
                                       &lt;button type="submit" id="btn_detail_update" class="btn btn-primary"&gt;Update&lt;/button&gt;
                                       &lt;button type="button" class="btn btn-default" data-dismiss="modal"&gt;Close&lt;/button&gt;

                                   &lt;/form&gt;
                               &lt;/div&gt;

                           &lt;/div&gt;

                   &lt;/div&gt;
               &lt;/div&gt;

               &lt;div class="modal fade" id="myAddNewsModel" role="dialog"&gt;
                   &lt;div class="modal-dialog"&gt;                            
                         &lt;!-- Modal content--&gt;
                           &lt;div class="modal-content"&gt;
                               &lt;div class="modal-header"&gt;
                                 &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                                 &lt;h4 class="modal-title"&gt;&lt;b&gt;Add News&lt;/b&gt;&lt;/h4&gt;
                                 &lt;p style="margin-bottom: -10px;color:gray;font-size:11px;" id="edit_news_at"&gt;&lt;/p&gt; 

                               &lt;/div&gt;

                               &lt;div class="modal-body"&gt;                                    
                                  &lt;form id="edit_form" enctype="multipart/form-data" accept-charset="utf-8" name="Addfileinfo"&gt;                                     

                                       &lt;p&gt;Title: &lt;span id="rss_title"&gt;&lt;/span&gt;&lt;/p&gt;
                                       &lt;input type="text" class="form-control" name="news_title" id="news_title" placeholder="Title" required&gt;

                                       &lt;p&gt;Summary: &lt;span id="rss_summary"&gt;&lt;/span&gt;&lt;/p&gt;
                                       &lt;p&gt;&lt;b&gt;NOTE :&lt;/b&gt; Max 300 characters allowed&lt;/p&gt;
                                       &lt;textarea class="form-control" name="news_summary" id="news_summary" maxlength="300" rows="3"&gt;&lt;/textarea&gt;
                                       &lt;p&gt;Url: &lt;a id="news_url" target="_blank"&gt;&lt;span id="rss_url"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
                                       &lt;input type="text" class="form-control" name="news_url" id="news_url" placeholder="Url"&gt;
                                       &lt;p&gt;Image&lt;/p&gt;
                                       &lt;img id="news_image" class="thumbnl" style="width: 250px;" src=""&gt;
                                       &lt;input type="hidden" name="news_img" value=""&gt;
                                       &lt;div style="clear: both;"&gt;
                                       &lt;div id="file-uploader-myAddNewsModel"&gt;
                                        &lt;button id="upload"&gt;Change Image&lt;/button&gt;
                                        &lt;noscript&gt; &lt;p&gt;Please enable JavaScript to use file uploader.&lt;/p&gt; &lt;/noscript&gt; 
                                       &lt;/div&gt;
                                      
                                       &lt;/div&gt;
                                       &lt;hr&gt;

                                       &lt;div  id="edit_league_team"&gt;
                                           &lt;div&gt;
                                               &lt;p&gt;League&lt;/p&gt;
                                               &lt;select name="news_league_id" class="form-control news_leagues "&gt;  
                                               &lt;option value="select"&gt;Select League&lt;/option&gt;      
                                               &lt;?php
                                                       if(!empty($kroo_news['all_leagues'])){

                                                            foreach($kroo_news['all_leagues'] as $news){
                                                               //echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                                               echo '&lt;option id="select_news_league" data-id="'.$news-&gt;id.'" value="'.$news-&gt;id.'"&gt;'.$news-&gt;name.'&lt;/option&gt;';
                                                           }

                                                       }
                                               ?&gt;                                           
                                               &lt;/select&gt;                                                                                         
                                           &lt;/div&gt;

                                           &lt;div&gt;                                                       
                                               &lt;p&gt;Team&lt;/p&gt;
                                               &lt;select id="add_news_team" name="news_team_id" class="form-control"&gt;   
                                               &lt;/select&gt;
                                           &lt;/div&gt;

                                       &lt;/div&gt;

                                       &lt;hr&gt;

                                       &lt;button type="submit" id="btn_add_news" class="btn btn-primary"&gt;Add News&lt;/button&gt;
                                       &lt;button type="button" class="btn btn-default" data-dismiss="modal"&gt;Close&lt;/button&gt;

                                   &lt;/form&gt;
                               &lt;/div&gt;

                           &lt;/div&gt;

                   &lt;/div&gt;
               &lt;/div&gt;

               &lt;div class="modal fade" id="gettyModal" role="dialog"&gt;
                   &lt;div class="modal-dialog"&gt;                            
                         &lt;!-- Modal content--&gt;
                           &lt;div class="modal-content"&gt;
                               &lt;div class="modal-header"&gt;
                                 &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                                 &lt;h4 class="modal-title"&gt;&lt;b&gt;Search Image from Getty&lt;/b&gt;&lt;/h4&gt;
                               &lt;/div&gt;

                               &lt;div class="modal-body"&gt;
                                  &lt;form id="getty_form" enctype="multipart/form-data" accept-charset="utf-8" name="fileinfo"&gt;
                                       &lt;input type="hidden" name="edit_tab_index" id="edit_tab_index" class="form-control"&gt;
                                       &lt;input type="hidden" name="edit_news_id" id="edit_news_id" class="form-control"&gt;
                                       &lt;input type="hidden" name="news_image_url" id="news_image_url" class="form-control"&gt;

                                       &lt;p&gt;Title: &lt;span id="rss_title"&gt;&lt;/span&gt;&lt;/p&gt;
                                       &lt;input type="text" class="form-control" id="serch" placeholder="Search" style="width:80%; float:left; margin-right:20px;"&gt; 
                                       &lt;button type="submit" class="btn btn-success"&gt;Search&lt;/button&gt;
                                  &lt;/form&gt;
                                  &lt;hr&gt;
                                  &lt;div id="getImgList" style="min-height:200px; max-height:500px; overflow-y:scroll;"&gt;&lt;/div&gt;
                               &lt;/div&gt;

                           &lt;/div&gt;

                   &lt;/div&gt;
               &lt;/div&gt;

               &lt;?php /*&lt;div class="modal fade" id="myAddPlayerNewsModel" role="dialog"&gt;
                   &lt;div class="modal-dialog"&gt;                            
                         &lt;!-- Modal content--&gt;
                           &lt;div class="modal-content"&gt;
                               &lt;div class="modal-header"&gt;
                                 &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                                 &lt;h4 class="modal-title"&gt;&lt;b&gt;Add News&lt;/b&gt;&lt;/h4&gt;
                                 &lt;p style="margin-bottom: -10px;color:gray;font-size:11px;" id="edit_news_at"&gt;&lt;/p&gt; 

                               &lt;/div&gt;

                               &lt;div class="modal-body"&gt;                                    
                                  &lt;form id="edit_form" enctype="multipart/form-data" accept-charset="utf-8" name="addPlayerNews"&gt;                                     

                                       &lt;p&gt;Title: &lt;span id="rss_title"&gt;&lt;/span&gt;&lt;/p&gt;
                                       &lt;input type="text" class="form-control" name="news_title" id="news_title" placeholder="Title"&gt;

                                       &lt;p&gt;Summary: &lt;span id="rss_summary"&gt;&lt;/span&gt;&lt;/p&gt;
                                       &lt;p&gt;&lt;b&gt;NOTE :&lt;/b&gt; Max 300 characters allowed&lt;/p&gt;
                                       &lt;textarea class="form-control" name="news_summary" id="news_summary" maxlength="300" rows="3"&gt;&lt;/textarea&gt;

                                       &lt;p&gt;Url: &lt;a id="news_url" target="_blank"&gt;&lt;span id="rss_url"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
                                       &lt;input type="text" class="form-control" name="news_url" id="news_url" placeholder="Url"&gt;

                                       &lt;p&gt;Image&lt;/p&gt;
                                       
                                       &lt;img id="news_image" class="thumbnl" style="width: 250px;" src=""&gt;
                                       &lt;input type="hidden" name="news_img" value=""&gt;
                                       &lt;div style="clear: both;"&gt;
                                       &lt;div id="file-uploader-myAddPlayerNewsModel"&gt;
                                        &lt;button id="upload"&gt;Upload Image&lt;/button&gt;
                                        &lt;noscript&gt; &lt;p&gt;Please enable JavaScript to use file uploader.&lt;/p&gt; &lt;/noscript&gt; 
                                       &lt;/div&gt;
                                      
                                       &lt;/div&gt;
                                       &lt;hr&gt;

                                      
                                       &lt;!-- &lt;input type="text" class="form-control" name="edit_news_source" id="edit_news_source" placeholder="Source"&gt; --&gt;

                                       &lt;div  id="edit_league_team"&gt;
                                           &lt;div&gt;
                                               &lt;p&gt;League&lt;/p&gt;
                                               &lt;select name="news_league_id" id="news_league_id" class="form-control"&gt;  
                                               &lt;option value="0"&gt;Select League&lt;/option&gt;      
                                               &lt;?php
                                                       if(!empty($kroo_news['all_leagues'])){

                                                            foreach($kroo_news['all_leagues'] as $news){
                                                               //echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                                               echo '&lt;option id="select_player_league" data-id="'.$news-&gt;id.'" value="'.$news-&gt;id.'"&gt;'.$news-&gt;name.'&lt;/option&gt;';
                                                           }

                                                       }
                                               ?&gt;                                           
                                               &lt;/select&gt;                                                                                         
                                           &lt;/div&gt;

                                           &lt;div&gt;                                                       
                                               &lt;p&gt;Player Name&lt;/p&gt;
                                                &lt;input type="text" class="form-control" name="txt_player_name" id="txt_player_name" placeholder="start type to search"&gt;
                                                &lt;div id="suggesstion-box"&gt;                                                    
                                                      &lt;ul id="country-list"&gt; 

                                                      &lt;/ul&gt;
                                                &lt;/div&gt;
                                                &lt;p&gt;Team Code&lt;/p&gt;
                                                &lt;input type="text" class="form-control" name="txt_player_code" id="txt_player_code"&gt;
                                           &lt;/div&gt;

                                       &lt;/div&gt;

                                       &lt;hr&gt;

                                       &lt;button type="submit" id="btn_add_player_news" class="btn btn-primary"&gt;Add News&lt;/button&gt;
                                       &lt;button type="button" class="btn btn-default" data-dismiss="modal"&gt;Close&lt;/button&gt;

                                   &lt;/form&gt;
                               &lt;/div&gt;

                           &lt;/div&gt;

                   &lt;/div&gt;
               &lt;/div&gt; */ ?&gt;

                &lt;div class="modal fade" id="myCopyModal" role="dialog"&gt;
                   &lt;div class="modal-dialog"&gt;                            
                         &lt;!-- Modal content--&gt;
                           &lt;div class="modal-content"&gt;
                               &lt;div class="modal-header"&gt;
                                 &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                                 &lt;h4 id="modal_title" class="modal-title"&gt;&lt;b&gt;Copy To Headlines&lt;/b&gt;&lt;/h4&gt;                                

                               &lt;/div&gt;

                               &lt;div class="modal-body"&gt;
                                  &lt;div id="edit_activity_detail"&gt;&lt;/div&gt;  
                                  &lt;form enctype="multipart/form-data" accept-charset="utf-8" name="copyInfo"&gt;
                                      &lt;input type="hidden" name="copy_news_id" id="copy_news_id" class="form-control"&gt;
                                       &lt;div style="display: flex;" id="copy_team_list"&gt;
                                           &lt;div&gt;
                                               &lt;p&gt;Team&lt;/p&gt;
                                               &lt;select name="copy_team_id" id="copy_team_id" class="form-control"&gt;  
                                               &lt;option value="0"&gt;Select Team&lt;/option&gt;     
                                                                                      
                                               &lt;/select&gt;                                                                                         
                                           &lt;/div&gt;
                                       &lt;/div&gt;

                                       &lt;hr&gt;

                                       &lt;button type="submit" id="btn_copy_update" class="btn btn-primary"&gt;Confirm&lt;/button&gt;
                                       &lt;button type="button" class="btn btn-default" data-dismiss="modal"&gt;Close&lt;/button&gt;

                                   &lt;/form&gt;
                               &lt;/div&gt;

                           &lt;/div&gt;

                   &lt;/div&gt;
               &lt;/div&gt;

              &lt;!-- modal box --&gt;
                &lt;div id="imgModal" class="reveal-modal modal fade" align="center"&gt;
                    &lt;h2&gt;Select Image To Crop&lt;/h2&gt;
                    &lt;div&gt;
                        &lt;img src="" id="thumbnail" alt="Edit Image" /&gt;
                        &lt;div id="thumb_preview_holder"&gt;
                            &lt;img src=""  alt="Thumbnail Preview" id="thumb_preview" /&gt;
                        &lt;/div&gt;
                        &lt;div class="clear"&gt;&lt;/div&gt;
                            &lt;input type="hidden" name="filename" value="" id="filename" /&gt;
                            &lt;input type="hidden" name="x1" value="" id="x1" /&gt;
                            &lt;input type="hidden" name="y1" value="" id="y1" /&gt;
                            &lt;input type="hidden" name="x2" value="" id="x2" /&gt;
                            &lt;input type="hidden" name="y2" value="" id="y2" /&gt;
                            &lt;input type="hidden" name="w" value="" id="w" /&gt;
                            &lt;input type="hidden" name="h" value="" id="h" /&gt;
                            &lt;input type="submit" name="upload_thumbnail" value="Crop &amp; Save" id="save_thumb" class="button" /&gt;
                            &lt;input type="button" name="cancel" value="X" class="close-reveal-modal" id="cancel_button"/&gt;
                    &lt;/div&gt;
                &lt;/div&gt; &lt;!-- end modal box--&gt;

               &lt;!-- ..................Modal  End...................... --&gt;

               &lt;?php /* &lt;div role="tabpanel" class="tab-pane" id="fantasy"&gt;

                   &lt;div style="display:flex; padding-top:20px; padding-left:20px;" id="left_filters"&gt;
                       &lt;div class="dropdown"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_league_text" type="button" data-toggle="dropdown"&gt;Select League
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;?php
                               if(!empty($kroo_news['all_leagues'])){
                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                   echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                    foreach($kroo_news['all_leagues'] as $news){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-left:10px;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_team_text" type="button" data-toggle="dropdown"&gt;Select Team
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu" id="select_team" style="height: auto; max-height: 500px; overflow-x:hidden; "&gt;
                               &lt;li style="text-align:center"&gt;&lt;h4&gt;Select Team&lt;/h4&gt;&lt;/li&gt;
                           &lt;/ul&gt;
                       &lt;/div&gt;

                        &lt;div class="dropdown" style="padding-left:10px;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_player_text" type="button" data-toggle="dropdown"&gt;Select Player
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu" id="select_player" style="height: auto; max-height: 500px; overflow-x:hidden; "&gt;
                               &lt;li style="text-align:center"&gt;&lt;h4&gt;Select Player&lt;/h4&gt;&lt;/li&gt;
                           &lt;/ul&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-left:10px;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_position_text" type="button" data-toggle="dropdown"&gt;Select Position
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu" id="select_position" style="height: auto; max-height: 500px; overflow-x:hidden; "&gt;
                               &lt;li style="text-align:center"&gt;&lt;h4&gt;Select Position&lt;/h4&gt;&lt;/li&gt;
                           &lt;/ul&gt;
                       &lt;/div&gt;



                       &lt;div class="dropdown" style="padding-left:10px;"&gt;

                           &lt;button class="btn btn-default dropdown-toggle select_news_type" type="button" data-toggle="dropdown"&gt;Select News
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu"&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="2" data-name="All News"&gt;All News&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="1" data-name="Published"&gt;Published&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="0" data-name="Not Published"&gt;Not Published&lt;/a&gt;
                               &lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" id="notified_sort" href="javascript:void(0);" data-id="3" data-name="Notified"&gt;Notified&lt;/a&gt;&lt;/li&gt;
                           &lt;/ul&gt;

                       &lt;/div&gt;

                       &lt;div style="padding-left:10px;"&gt;
                           &lt;form class="form-inline" id="news_date_form"&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker1" autocomplete="off" placeholder="From Date" id="datepicker1" name="datepicker1" /&gt;
                               &lt;/div&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker2" autocomplete="off" placeholder="To Date" id="datepicker2" name="datepicker2" /&gt;
                               &lt;/div&gt;
                               &lt;button id="btn_get_date" class="btn btn-default"&gt;Get News&lt;/button&gt;
                           &lt;/form&gt;
                       &lt;/div&gt;

                      &lt;div class="dropdown" style="padding-right:10px; float: right; margin-left:auto;"&gt;
                           &lt;button class="btn btn-default btn-addplayer-news" data-toggle="modal" data-target="#myAddPlayerNewsModel" type="button"&gt;Add News&lt;/button&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-right:10px; float: right;"&gt;
                           &lt;button class="btn btn-default clr-fltr" type="button"&gt;Clear Filter&lt;/button&gt;
                       &lt;/div&gt;

                       &lt;div style="padding-right:10px; float: right;"&gt;
                           &lt;a href="javascript:void(0);" id="mass_publish" class="btn btn-default"&gt;Publish Selected&lt;/a&gt;
                       &lt;/div&gt;
                   &lt;/div&gt;

                   &lt;br&gt;

                   &lt;div&gt;

                       &lt;table class="table table-hover kroo_data_table"&gt;
                           &lt;thead&gt;
                               &lt;tr&gt;
                                   &lt;th class="col-md-*"&gt;&lt;input type="checkbox" class="checkall" /&gt;
                                       &lt;input type="hidden" id="listCNT2" value="0"&gt;
                                       &lt;input type="hidden" id="listTYPE2" autocomplete="off" value=""&gt;
                                   &lt;/th&gt;
                                   &lt;th class="col-md-*"&gt;League&lt;/th&gt;
                                   &lt;th class="col-md-8"&gt;Feeds&lt;/th&gt;
                                   &lt;th class="col-md-2 text-center"&gt;Actions&lt;/th&gt;
                                   &lt;th class="col-md-* text-right" style="padding-right:40px;"&gt;&lt;span class="glyphicon glyphicon-flag" aria-hidden="true"&gt;&lt;/span&gt;&lt;/th&gt;
                               &lt;/tr&gt;
                           &lt;/thead&gt; 
                           &lt;tbody&gt;&lt;/tbody&gt;   
                           &lt;/table&gt;
                       &lt;/div&gt;
               &lt;/div&gt;

               &lt;div role="tabpanel" class="tab-pane" id="article"&gt;

                   &lt;div style="display:flex; padding-top:20px; padding-left:20px;" id="left_filters"&gt;
                       &lt;div class="dropdown"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_league_text" type="button" data-toggle="dropdown"&gt;Select League
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;?php
                               if(!empty($kroo_news['all_leagues'])){
                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                   echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                    foreach($kroo_news['all_leagues'] as $news){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                      &lt;/div&gt;

                      &lt;div class="dropdown" style="padding-left:10px;"&gt;

                           &lt;button class="btn btn-default dropdown-toggle select_news_type" type="button" data-toggle="dropdown"&gt;Select News
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu"&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="2" data-name="All News"&gt;All News&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="1" data-name="Published"&gt;Published&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="0" data-name="Not Published"&gt;Not Published&lt;/a&gt;
                               &lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" id="notified_sort" href="javascript:void(0);" data-id="3" data-name="Notified"&gt;Notified&lt;/a&gt;&lt;/li&gt;
                           &lt;/ul&gt;

                      &lt;/div&gt;

                       &lt;div style="padding-left:10px;"&gt;
                           &lt;form class="form-inline" id="headline_date_form"&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker1" autocomplete="off" placeholder="From Date" id="datepicker1" name="datepicker1" /&gt;
                               &lt;/div&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker2" autocomplete="off" placeholder="To Date" id="datepicker2" name="datepicker2" /&gt;
                               &lt;/div&gt;
                               &lt;button id="btn_get_date" class="btn btn-default"&gt;Get News&lt;/button&gt;
                           &lt;/form&gt;
                       &lt;/div&gt;

                        &lt;div class="dropdown" style="padding-right:10px; float: right; margin-left:auto;"&gt;
                           &lt;button class="btn btn-default btn-addplayer-news" data-toggle="modal" data-target="#myAddPlayerNewsModel" type="button"&gt;Add News&lt;/button&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-right:10px; float: right;"&gt;
                           &lt;button class="btn btn-default clr-fltr" type="button"&gt;Clear Filter&lt;/button&gt;
                       &lt;/div&gt;

                       &lt;div style="padding-right:10px; float: right;"&gt;
                           &lt;a href="javascript:void(0);" id="mass_publish" class="btn btn-default"&gt;Publish Selected&lt;/a&gt;
                       &lt;/div&gt;

                   &lt;/div&gt;

                   &lt;br&gt;

                   &lt;div&gt;

                        &lt;table class="table table-hover kroo_data_table"&gt;
                           &lt;thead&gt;
                               &lt;tr&gt;
                                   &lt;th class="col-md-*"&gt;&lt;input type="checkbox" class="checkall" /&gt;
                                       &lt;input type="hidden" id="listCNT3" value="0"&gt;
                                       &lt;input type="hidden" id="listTYPE3" autocomplete="off" value=""&gt;
                                   &lt;/th&gt;
                                   &lt;th class="col-md-*"&gt;League&lt;/th&gt;
                                   &lt;th class="col-md-8"&gt;Feeds&lt;/th&gt;
                                   &lt;th class="col-md-2 text-center"&gt;Actions&lt;/th&gt;
                                   &lt;th class="col-md-* text-right" style="padding-right:40px;"&gt;&lt;span class="glyphicon glyphicon-flag" aria-hidden="true"&gt;&lt;/span&gt;&lt;/th&gt;
                               &lt;/tr&gt;
                           &lt;/thead&gt; 
                           &lt;tbody&gt;&lt;/tbody&gt;   
                           &lt;/table&gt;
                       &lt;/div&gt;
               &lt;/div&gt; */ ?&gt;

              &lt;div role="tabpanel" class="tab-pane" id="krooCastVideo"&gt;

                   &lt;div style="display:flex; padding-top:20px; padding-left:20px;" id="left_filters"&gt;
                       &lt;div class="dropdown"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_league_text" type="button" data-toggle="dropdown"&gt;Select League
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;?php
                               if(!empty($kroo_news['all_leagues'])){
                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                   echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   foreach($kroo_news['all_leagues'] as $news){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-left:10px;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_team_text" type="button" data-toggle="dropdown"&gt;Select Team
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu" id="select_team" style="height: auto; max-height: 500px; overflow-x:hidden; "&gt;
                               &lt;li style="text-align:center"&gt;&lt;h4&gt;Select League&lt;/h4&gt;&lt;/li&gt;
                           &lt;/ul&gt;
                       &lt;/div&gt;                     
                      

                       &lt;div class="dropdown" style="padding-left:10px;"&gt;

                           &lt;button class="btn btn-default dropdown-toggle select_news_type" type="button" data-toggle="dropdown"&gt;Select News
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu"&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="2" data-name="All News"&gt;All News&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="1" data-name="Published"&gt;Published&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="0" data-name="Not Published"&gt;Not Published&lt;/a&gt;
                               &lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" id="notified_sort" href="javascript:void(0);" data-id="3" data-name="Notified"&gt;Notified&lt;/a&gt;&lt;/li&gt;
                           &lt;/ul&gt;

                       &lt;/div&gt;

                       &lt;div style="padding-left:10px;"&gt;
                           &lt;form class="form-inline" id="news_date_form"&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker1" autocomplete="off" placeholder="From Date" id="datepicker1" name="datepicker1" /&gt;
                               &lt;/div&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker2" autocomplete="off" placeholder="To Date" id="datepicker2" name="datepicker2" /&gt;
                               &lt;/div&gt;
                               &lt;button id="btn_get_date" class="btn btn-default"&gt;Get News&lt;/button&gt;
                           &lt;/form&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-right:10px; float: right; margin-left:auto;"&gt;
                           
</codefragment>
  </duplication>
  <duplication lines="7" tokens="94">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="79"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="154"/>
    <codefragment>        $fltr['channelID']   =($this-&gt;input-&gt;post('channelID'))?$this-&gt;input-&gt;post('channelID'):'';
        $fltr['leagueID']   =($this-&gt;input-&gt;post('leagueId'))?$this-&gt;input-&gt;post('leagueId'):'';
        $fltr['teamID']     =($this-&gt;input-&gt;post('teamId'))?$this-&gt;input-&gt;post('teamId'):'';
        $fltr['newsType']   =($this-&gt;input-&gt;post('news_type')!='')?$this-&gt;input-&gt;post('news_type'):'';
        $fltr['dateFrom']   =($this-&gt;input-&gt;post('from_date'))?$this-&gt;input-&gt;post('from_date'):'';
        $fltr['dateTo']     =($this-&gt;input-&gt;post('to_date'))?$this-&gt;input-&gt;post('to_date'):'';
        $fltr['news_category']     = array();
</codefragment>
  </duplication>
  <duplication lines="29" tokens="167">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="101"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="172"/>
    <codefragment>                $data['kroo_news'][$k]['rss_sports_title']          = $knews['rss_sports_title'];
                $data['kroo_news'][$k]['rss_sports_summary']        = $knews['rss_sports_summary'];
                $data['kroo_news'][$k]['rss_sports_image']          = $knews['rss_sports_image'];
                $data['kroo_news'][$k]['rss_sports_url']            = $knews['rss_sports_url'];
                $data['kroo_news'][$k]['rss_sports_created_at']     = date('D d M, Y  g:i a',$dd);
                $source =  explode('.com', $knews['rss_sports_url']);                           
                $data['kroo_news'][$k]['rss_sports_source']         = str_replace('http://','',$source[0].'.com');  
                $data['kroo_news'][$k]['rss_sports_is_deleted']     = $knews['rss_sports_is_deleted'];

                $source =  explode('.com', $knews['sports_url']);
                $data['kroo_news'][$k]['sports_source']             = str_replace('http://','',$source[0].'.com');                
                $data['kroo_news'][$k]['sports_id']                 = $knews['sports_id'];  
                $data['kroo_news'][$k]['rss_sports_news_id']        = $knews['rss_sports_news_id'];              
                $data['kroo_news'][$k]['sports_title']              = $knews['sports_title'];
                $data['kroo_news'][$k]['sports_summary']            = $knews['sports_summary'];
                $data['kroo_news'][$k]['sports_image']              = $knews['sports_image'];
                $data['kroo_news'][$k]['sports_url']                = $knews['sports_url'];

                $data['kroo_news'][$k]['sports_published_at']       = $knews['sports_published_at'];
                $data['kroo_news'][$k]['sports_notified_at']        = $knews['sports_notified_at'];
                $data['kroo_news'][$k]['sports_is_deleted']         = $knews['sports_is_deleted'];
                $data['kroo_news'][$k]['sports_edited_by_admin_id'] = $knews['sports_edited_by_admin_id']; 

                $data['kroo_news'][$k]['rss_team_name']             = $knews['rss_team_name'];            
                $data['kroo_news'][$k]['rss_league_name']           = $knews['rss_league_name'];              
                $data['kroo_news'][$k]['league_team_logo']          = ($fltr['news_category']==2)? $knews['rss_team_logo']:$knews['rss_league_logo'];  
                $channel                                            = explode('_', $knews['channel_name']);
                $data['kroo_news'][$k]['channel_name']              = strtoupper($channel[0]);  
                $data['kroo_news'][$k]['news_category']             = $knews['news_category'];
</codefragment>
  </duplication>
  <duplication lines="32" tokens="161">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="95"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="263"/>
    <codefragment>            foreach($kroo['kroo_news'] as $knews){

                $dd = strtotime($knews['rss_sports_created_at']);

                $data['kroo_news'][$k]['rss_sports_id']             = $knews['rss_sports_id'];
                $data['kroo_news'][$k]['league_team_id']            = $knews['rss_team_id'];
                $data['kroo_news'][$k]['rss_sports_title']          = $knews['rss_sports_title'];
                $data['kroo_news'][$k]['rss_sports_summary']        = $knews['rss_sports_summary'];
                $data['kroo_news'][$k]['rss_sports_image']          = $knews['rss_sports_image'];
                $data['kroo_news'][$k]['rss_sports_url']            = $knews['rss_sports_url'];
                $data['kroo_news'][$k]['rss_sports_created_at']     = date('D d M, Y  g:i a',$dd);
                $source =  explode('.com', $knews['rss_sports_url']);                           
                $data['kroo_news'][$k]['rss_sports_source']         = str_replace('http://','',$source[0].'.com');  
                $data['kroo_news'][$k]['rss_sports_is_deleted']     = $knews['rss_sports_is_deleted'];

                $source =  explode('.com', $knews['sports_url']);
                $data['kroo_news'][$k]['sports_source']             = str_replace('http://','',$source[0].'.com');                
                $data['kroo_news'][$k]['sports_id']                 = $knews['sports_id'];  
                $data['kroo_news'][$k]['rss_sports_news_id']        = $knews['rss_sports_news_id'];              
                $data['kroo_news'][$k]['sports_title']              = $knews['sports_title'];
                $data['kroo_news'][$k]['sports_summary']            = $knews['sports_summary'];
                $data['kroo_news'][$k]['sports_image']              = $knews['sports_image'];
                $data['kroo_news'][$k]['sports_url']                = $knews['sports_url'];

                $data['kroo_news'][$k]['sports_published_at']       = $knews['sports_published_at'];
                $data['kroo_news'][$k]['sports_notified_at']        = $knews['sports_notified_at'];
                $data['kroo_news'][$k]['sports_is_deleted']         = $knews['sports_is_deleted'];
                $data['kroo_news'][$k]['sports_edited_by_admin_id'] = $knews['sports_edited_by_admin_id']; 

                $data['kroo_news'][$k]['rss_team_name']             = $knews['rss_team_name'];            
                $data['kroo_news'][$k]['rss_league_name']           = $knews['rss_league_name'];              
                $data['kroo_news'][$k]['league_team_logo']          = ($fltr['news_category']==2)? $knews['rss_team_logo']:$knews['rss_league_logo'];  
</codefragment>
  </duplication>
  <duplication lines="59" tokens="199">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="370"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="438"/>
    <codefragment>                foreach($responce['news'] as $wnews){

                    $dd = strtotime($wnews['rss_waiver_created_at']);

                    $data['waiver_news'][$k]['rss_waiver_id']             = $wnews['rss_waiver_id'];               
                    $data['waiver_news'][$k]['rss_waiver_title']          = $wnews['rss_waiver_title'];
                    $data['waiver_news'][$k]['rss_waiver_summary']        = $wnews['rss_waiver_summary'];
                    $data['waiver_news'][$k]['rss_waiver_image']          = $wnews['rss_waiver_image'];
                    $data['waiver_news'][$k]['rss_waiver_url']            = $wnews['rss_waiver_url'];
                    $data['waiver_news'][$k]['rss_waiver_created_at']     = date('D d M, Y  g:i a',$dd);                                          
                    $data['waiver_news'][$k]['rss_waiver_source']         = $wnews['rss_waiver_source'];
                    $data['waiver_news'][$k]['rss_waiver_is_deleted']     = $wnews['rss_waiver_is_deleted'];

                    
                    $data['waiver_news'][$k]['waiver_source']             = $wnews['rss_waiver_source'];
                    $data['waiver_news'][$k]['waiver_id']                 = $wnews['waiver_id'];  
                    $data['waiver_news'][$k]['rss_waiver_news_id']        = $wnews['rss_waiver_news_id'];              
                    $data['waiver_news'][$k]['waiver_title']              = $wnews['waiver_title'];
                    $data['waiver_news'][$k]['waiver_summary']            = $wnews['waiver_summary'];
                    $data['waiver_news'][$k]['waiver_image']              = $wnews['waiver_image'];
                    $data['waiver_news'][$k]['waiver_url']                = $wnews['waiver_url'];

                    $data['waiver_news'][$k]['waiver_published_at']       = $wnews['waiver_published_at'];
                    $data['waiver_news'][$k]['waiver_notified_at']        = $wnews['waiver_notified_at'];
                    $data['waiver_news'][$k]['waiver_is_deleted']         = $wnews['waiver_is_deleted'];
                    $data['waiver_news'][$k]['waiver_edited_by_admin_id'] = $wnews['waiver_edited_by_admin_id']; 

                    $data['waiver_news'][$k]['league_id']                 = $wnews['league_id'];            
                    $data['waiver_news'][$k]['league_name']               = $wnews['league_name'];              
                    $data['waiver_news'][$k]['league_logo']               = $wnews['league_logo'];
                    
                    $data['waiver_news'][$k]['channel_name']              = $wnews['channel_name'];
                    //$data['waiver_news'][$k]['news_category']              = $fltr['news_category'];


                   
                    $news_type = 'waiver';
                    $admin_activity = $this-&gt;dashboard_model-&gt;get_activity_by_news($wnews['rss_waiver_id'],$news_type);
                    $x=0;
                    foreach($admin_activity as $val){
                        $data['waiver_news'][$k]['activity'][$x]['activity_user']     = $this-&gt;dashboard_model-&gt;get_username_by_id($val['activity_user_id']);
                        $data['waiver_news'][$k]['activity'][$x]['activity_action']   = $val['activity_action']; 
                        $x++;                
                    }

                    $k++;
                }            
                $this-&gt;load-&gt;view('waiver_listing',$data);
            }


        }else{
            echo "END";
        }
    }


    public function waiver_news_listing(){
        $fltr['leagueID']   =($this-&gt;input-&gt;post('leagueId'))?$this-&gt;input-&gt;post('leagueId'):'';
</codefragment>
  </duplication>
  <duplication lines="6" tokens="78">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="80"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="497"/>
    <codefragment>        $fltr['leagueID']   =($this-&gt;input-&gt;post('leagueId'))?$this-&gt;input-&gt;post('leagueId'):'';
        $fltr['teamID']     =($this-&gt;input-&gt;post('teamId'))?$this-&gt;input-&gt;post('teamId'):'';
        $fltr['newsType']   =($this-&gt;input-&gt;post('news_type')!='')?$this-&gt;input-&gt;post('news_type'):'';
        $fltr['dateFrom']   =($this-&gt;input-&gt;post('from_date'))?$this-&gt;input-&gt;post('from_date'):'';
        $fltr['dateTo']     =($this-&gt;input-&gt;post('to_date'))?$this-&gt;input-&gt;post('to_date'):'';
        $fltr['news_category']     = array();
</codefragment>
  </duplication>
  <duplication lines="53" tokens="213">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="315"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="509"/>
    <codefragment>                foreach($responce['news'] as $pnews){

                    $dd = strtotime($pnews['rss_player_created_at']);

                    $data['player_news'][$k]['rss_player_id']             = $pnews['rss_player_id'];               
                    $data['player_news'][$k]['rss_player_title']          = $pnews['rss_player_title'];
                    $data['player_news'][$k]['rss_player_summary']        = $pnews['rss_player_summary'];
                    $data['player_news'][$k]['rss_player_image']          = $pnews['rss_player_image'];
                    $data['player_news'][$k]['rss_player_url']            = $pnews['rss_player_url'];
                    $data['player_news'][$k]['rss_player_created_at']     = date('D d M, Y  g:i a',$dd);                                          
                    $data['player_news'][$k]['rss_player_source']         = $pnews['rss_player_source'];
                    $data['player_news'][$k]['rss_player_is_deleted']     = $pnews['rss_player_is_deleted'];

                    
                    $data['player_news'][$k]['player_source']             = $pnews['rss_player_source'];
                    $data['player_news'][$k]['player_id']                 = $pnews['player_id'];  
                    $data['player_news'][$k]['rss_player_news_id']        = $pnews['rss_player_news_id'];              
                    $data['player_news'][$k]['player_title']              = $pnews['player_title'];
                    $data['player_news'][$k]['player_summary']            = $pnews['player_summary'];
                    $data['player_news'][$k]['player_image']              = $pnews['player_image'];
                    $data['player_news'][$k]['player_url']                = $pnews['player_url'];

                    $data['player_news'][$k]['player_published_at']       = $pnews['player_published_at'];
                    $data['player_news'][$k]['player_notified_at']        = $pnews['player_notified_at'];
                    $data['player_news'][$k]['player_is_deleted']         = $pnews['player_is_deleted'];
                    $data['player_news'][$k]['player_edited_by_admin_id'] = $pnews['player_edited_by_admin_id']; 

                    $data['player_news'][$k]['league_id']                 = $pnews['league_id'];            
                    $data['player_news'][$k]['league_name']               = $pnews['league_name'];              
                    $data['player_news'][$k]['league_logo']               = $pnews['league_logo'];

                    $data['player_news'][$k]['team_id']                   = $pnews['team_id'];            
                    $data['player_news'][$k]['team_name']                 = $pnews['team_name'];              
                    $data['player_news'][$k]['team_logo']                 = $pnews['team_logo'];
                    
                    $data['player_news'][$k]['channel_name']              = $pnews['channel_name'];
                    //$data['player_news'][$k]['news_category']              = $fltr['news_category'];


                   
                    $news_type = 'player';
                    $admin_activity = $this-&gt;dashboard_model-&gt;get_activity_by_news($pnews['rss_player_id'],$news_type);
                    $x=0;
                    foreach($admin_activity as $val){
                        $data['player_news'][$k]['activity'][$x]['activity_user']     = $this-&gt;dashboard_model-&gt;get_username_by_id($val['activity_user_id']);
                        $data['player_news'][$k]['activity'][$x]['activity_action']   = $val['activity_action']; 
                        $x++;                
                    }

                    $k++;
                }
                $this-&gt;load-&gt;view('player_listing',$data);
            }
</codefragment>
  </duplication>
  <duplication lines="20" tokens="75">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="24"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="77"/>
    <codefragment>            $this-&gt;db-&gt;where('IF(rsn.news_category = 31, `lg`.`id`, `l`.`id` ) = ',$leagueID);
            $maxId+=500;
        }
        if($teamID&gt;0){
            $this-&gt;db-&gt;where('rsn.team_id',$teamID);
            $maxId=$max;
        }
        if($newsType &gt;= '0'){
            if($newsType == '0')
                $this-&gt;db-&gt;where('sn.published_at IS NULL', null, false);
            if($newsType == '1')
                 $this-&gt;db-&gt;where('sn.published_at !=', '0');
            if($newsType == '3')
                $this-&gt;db-&gt;where('sn.notified_at !=', '0');
            $maxId+=500;
        }
        $lmt=50+$this-&gt;input-&gt;post('lmt');
        $maxId=($lmt/50)*$maxId;
        $maxId=$max-$maxId;
        $maxId=($maxId&gt;1)?10000:1;
</codefragment>
  </duplication>
  <duplication lines="26" tokens="121">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="225"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="268"/>
    <codefragment>        if($leagueID &gt; 0){
             $this-&gt;db-&gt;where('rpn.league_id',$leagueID);
        }
        if($teamID &gt; 0){
            $this-&gt;db-&gt;where('t.id',$teamID);   
        }
        if($name_abbr != ''){
            $this-&gt;db-&gt;where('rpn.name_abbr',$name_abbr);
        }
        if($position != ''){
            $this-&gt;db-&gt;where('p.position',$position);
        }
        if($newsType &gt;= '0'){
            if($newsType == '0')
                $this-&gt;db-&gt;where('pn.published_at IS NULL', null, false);
            if($newsType == '1')
                 $this-&gt;db-&gt;where('pn.published_at !=', '0');
            if($newsType == '3')
                $this-&gt;db-&gt;where('pn.notified_at !=', '0');
        }
        if(!empty($dateFrom) &amp;&amp; !empty($dateTo)){
            $this-&gt;db-&gt;where("rpn.created_at BETWEEN '". $dateFrom . "' AND '" . $dateTo ."'");
        }
        $this-&gt;db-&gt;order_by('rpn.created_at','DESC');
        $this-&gt;db-&gt;limit(50,$this-&gt;input-&gt;post('lmt'));
        $query = $this-&gt;db-&gt;get();
</codefragment>
  </duplication>
  <duplication lines="59" tokens="237">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="5"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/listing.php" line="5"/>
    <codefragment>if(!empty($kroo_news)){
    $k=0;
    foreach($kroo_news as $news){
        

            if($news['rss_sports_news_id'] &amp;&amp; $news['sports_is_deleted'] == 0){

                echo '&lt;tr id="k_news_'.$news['rss_sports_id'].'"&gt;';

                if($news['sports_published_at'] != 0){
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input type="checkbox" class="checkbox" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input name="locationthemes" type="checkbox" class="checkbox" value="'.$news['rss_sports_id'].'" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }


                if(empty($news['league_team_logo'])){
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.ASSETS.'Artboard1.png"&gt;&lt;/a&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$news['league_team_logo'].'"&gt; &lt;/a&gt;&lt;/td&gt;';
                }

                echo '&lt;td&gt;';
                    echo '&lt;div class="media"&gt;';
                        echo '&lt;div class="pull-left"&gt;';
                            echo '&lt;a href="javascript:void(0);"&gt;';

                            if($news['sports_image'] == '' || $news['sports_image'] == 'noimage'){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.ASSETS.'Artboard1.png"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }                                                                        
                            else if(strpos($news['sports_image'], 'www') !== false || strpos($news['sports_image'], 'http') !== false){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.$news['sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }
                            else{
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.newsimage.''.$news['sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';                                                                           
                            }

                            echo '&lt;/a&gt;';
                        echo '&lt;/div&gt;';
                        echo '&lt;div class="media-body"&gt;';
                            echo '&lt;div style="display:flex;color:gray;font-size:11px;margin-bottom:-9px;"&gt;&lt;p&gt;'.$news['channel_name'].'&lt;/p&gt;&amp;nbsp;/&amp;nbsp;&lt;p id="kroo_news_at_'.$news['rss_sports_id'].'"&gt;'.$news['rss_sports_created_at'].'&lt;/p&gt;&lt;/div&gt;'; 
                            echo '&lt;h4 class="tControl" data-id="'.$news['rss_sports_id'].'" id="title_read_news"&gt;&lt;a data-id="'.$news['rss_sports_id'].'" id="title_'.$news['rss_sports_id'].'" href="'.$news['sports_url'].'" target="_blank"&gt;'.$news['sports_title'].'&lt;/a&gt;&lt;/h4&gt;';


                            echo '&lt;input type="hidden" id="rss_title_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_title'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_summary_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_summary'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_url_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_url'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_image_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_image'].'"&gt;';

                            echo '&lt;p data-id="'.$news['rss_sports_id'].'" id="summary_'.$news['rss_sports_id'].'"  class="tControl"&gt;'.$news['sports_summary'].'&lt;/p&gt;';

                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_sports_id'].'"&gt;Source : '.$news['rss_sports_source'].'&lt;/p&gt;'; 

                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_source'].'"&gt;';
                            echo '&lt;input type="hidden" id="news_tags_'.$news['rss_sports_id'].'" value="'.$news['tags'].'"&gt;';

</codefragment>
  </duplication>
  <duplication lines="22" tokens="86">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="62"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/listing.php" line="61"/>
    <codefragment>                            echo '&lt;input type="hidden" id="news_tags_'.$news['rss_sports_id'].'" value="'.$news['tags'].'"&gt;';

                            echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_sports_id'].'"&gt;';
                            if(isset($news['activity'])){
                            foreach($news['activity'] as $activity){
                                    if($activity['activity_action'] == 'edit'){
                                        echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                    }else if($activity['activity_action'] == 'publish'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'notify'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'read'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }
                                }
                            }
                            echo '&lt;/div&gt;';
                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_edit_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-news_category="'.$news['news_category'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
</codefragment>
  </duplication>
  <duplication lines="79" tokens="277">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="120"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/listing.php" line="119"/>
    <codefragment>                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['sports_edited_by_admin_id'] != 0){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_sports_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_sports_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['sports_published_at'] != 0){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['sports_notified_at'] != 0){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_sports_created_at'];
                $last_news_id = $news['rss_sports_id'];
            }
            else if($news['rss_sports_is_deleted'] == 0)
            {

                echo '&lt;tr id="k_news_'.$news['rss_sports_id'].'"&gt;';

                if($news['sports_published_at']){
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input type="checkbox" class="checkbox" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input name="locationthemes" type="checkbox" class="checkbox" value="'.$news['rss_sports_id'].'" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }


                if(empty($news['league_team_logo'])){
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.ASSETS.'Artboard1.png"&gt;&lt;/a&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$news['league_team_logo'].'"&gt;&lt;/a&gt;&lt;/td&gt;';
                }

                echo '&lt;td&gt;';
                    echo '&lt;div class="media"&gt;';
                        echo '&lt;div class="pull-left"&gt;';
                            echo '&lt;a href="javascript:void(0);"&gt;';

                            if($news['rss_sports_image'] == '' || $news['rss_sports_image'] == 'noimage'){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.ASSETS.'Artboard1.png"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }                                                                        
                            else if(strpos($news['rss_sports_image'], 'www') !== false || strpos($news['rss_sports_image'], 'http') !== false){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.$news['rss_sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }
                            else{
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.newsimage.''.$news['rss_sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }

                            echo '&lt;/a&gt;';
                         echo '&lt;/div&gt;';
                        echo '&lt;div class="media-body"&gt;';
                            echo '&lt;div style="display:flex;color:gray;font-size:11px;margin-bottom:-9px;"&gt;&lt;p&gt;'.$news['channel_name'].'&lt;/p&gt;&amp;nbsp;/&amp;nbsp;&lt;p id="kroo_news_at_'.$news['rss_sports_id'].'"&gt;'.$news['rss_sports_created_at'].'&lt;/p&gt;&lt;/div&gt;'; 
                            echo '&lt;input type="hidden" id="rss_title_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_title'].'"&gt;';
                            echo '&lt;h4 class="tControl" data-id="'.$news['rss_sports_id'].'" id="title_read_news"&gt;&lt;a data-id="'.$news['rss_sports_id'].'" id="title_'.$news['rss_sports_id'].'" href="'.$news['rss_sports_url'].'" target="_blank"&gt;'.$news['rss_sports_title'].'&lt;/a&gt;&lt;/h4&gt;';
                            echo '&lt;p data-id="'.$news['rss_sports_id'].'" id="summary_'.$news['rss_sports_id'].'"  class="tControl"&gt;'.$news['rss_sports_summary'].'&lt;/p&gt;';


                            echo '&lt;input type="hidden" id="rss_summary_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_summary'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_url_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_url'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_image_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_image'].'"&gt;';

                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_sports_id'].'"&gt;Source : '.$news['rss_sports_source'].'&lt;/p&gt;'; 
                            
                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_source'].'"&gt;';
                            echo '&lt;input type="hidden" id="news_tags_'.$news['rss_sports_id'].'" value="'.$news['tags'].'"&gt;';

</codefragment>
  </duplication>
  <duplication lines="29" tokens="116">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/listing.php" line="59"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/listing.php" line="193"/>
    <codefragment>                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_sports_id'].'"&gt;Source : '.$news['rss_sports_source'].'&lt;/p&gt;'; 

                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_source'].'"&gt;';

                            echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_sports_id'].'"&gt;';
                            if(isset($news['activity'])){
                            foreach($news['activity'] as $activity){
                                    if($activity['activity_action'] == 'edit'){
                                        echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                    }else if($activity['activity_action'] == 'publish'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'notify'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'read'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }
                                }
                            }
                            echo '&lt;/div&gt;';
                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_edit_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_detail_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Detail" type="button" class="btn btn-default btn-sm btn_detail_news"&gt;  &lt;span class="glyphicon glyphicon-list" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    if($news['sports_published_at'] == 0){
                       echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_publish_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Publish" type="button" class="btn btn-default btn-sm btn_publish_news"&gt;  &lt;span class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
</codefragment>
  </duplication>
  <duplication lines="43" tokens="119">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/listing.php" line="100"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/listing.php" line="235"/>
    <codefragment>                                    &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }
                    else{
                    //else if($news['news_category'] != 31){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_hide_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_copy_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Copy" type="button" class="btn btn-default btn-sm btn_copy_news"&gt;  &lt;span class="glyphicon glyphicon-export" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_game_add_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="game" type="button" class="btn btn-default btn-sm btn_game_add_news"&gt;  &lt;span class="fa fa-trophy" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';                    


                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['sports_edited_by_admin_id'] != 0){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_sports_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_sports_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['sports_published_at'] != 0){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['sports_notified_at'] != 0){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_sports_created_at'];
                $last_news_id = $news['rss_sports_id'];
</codefragment>
  </duplication>
  <duplication lines="261" tokens="821">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/waiver_listing.php" line="5"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/waiver_listing.php" line="5"/>
    <codefragment>if(!empty($waiver_news)){
    $k=0;
    foreach($waiver_news as $news){
        

            if($news['rss_waiver_news_id'] &amp;&amp; $news['waiver_is_deleted'] == 0){

                echo '&lt;tr id="w_news_'.$news['rss_waiver_id'].'"&gt;';

                if($news['waiver_published_at'] != 0){
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input type="checkbox" class="checkbox" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input name="locationthemes" type="checkbox" class="checkbox" value="'.$news['rss_waiver_id'].'" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }


                if(empty($news['league_logo'])){
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.ASSETS.'Artboard1.png"&gt;&lt;/a&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$news['league_logo'].'"&gt; &lt;/a&gt;&lt;/td&gt;';
                }

                echo '&lt;td&gt;';
                    echo '&lt;div class="media"&gt;';
                        echo '&lt;div class="pull-left"&gt;';
                            echo '&lt;a href="javascript:void(0);"&gt;';

                             if($news['waiver_image'] == '' || $news['waiver_image'] == 'noimage'){
                                echo '&lt;img data-id="'.$news['rss_waiver_id'].'" id="image_'.$news['rss_waiver_id'].'" class="media-object" style="width:120px;" src="'.ASSETS.'Artboard1.png"&gt;';
                                // echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;/p&gt;';
                            }                                                                        
                            else if(strpos($news['waiver_image'], 'www') !== false || strpos($news['waiver_image'], 'http') !== false){
                                echo '&lt;img data-id="'.$news['rss_waiver_id'].'" id="image_'.$news['rss_waiver_id'].'" class="media-object" style="width:120px;" src="'.$news['waiver_image'].'"&gt;';
                                 //echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;/p&gt;';
                            }
                            else{
                                echo '&lt;img data-id="'.$news['rss_waiver_id'].'" id="image_'.$news['rss_waiver_id'].'" class="media-object" style="width:120px;" src="'.articleimage.''.$news['waiver_image'].'"&gt;';
                                //echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;/p&gt;';                                                                           
                            }

                            echo '&lt;/a&gt;';
                         echo '&lt;/div&gt;';
                        echo '&lt;div class="media-body"&gt;';
                            echo '&lt;div style="display:flex;color:gray;font-size:11px;margin-bottom:-9px;"&gt;&lt;p&gt;'.$news['channel_name'].'&lt;/p&gt;&amp;nbsp;/&amp;nbsp;&lt;p id="kroo_news_at_'.$news['rss_waiver_id'].'"&gt;'.$news['rss_waiver_created_at'].'&lt;/p&gt;&lt;/div&gt;'; 
                            echo '&lt;h4 class="tControl" data-id="'.$news['rss_waiver_id'].'" id="title_read_news"&gt;&lt;a data-id="'.$news['rss_waiver_id'].'" id="title_'.$news['rss_waiver_id'].'" href="'.$news['waiver_url'].'" target="_blank"&gt;'.$news['waiver_title'].'&lt;/a&gt;&lt;/h4&gt;';


                            echo '&lt;input type="hidden" id="rss_title_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_title'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_summary_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_summary'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_url_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_url'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_image_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_image'].'"&gt;';

                            echo '&lt;p data-id="'.$news['rss_waiver_id'].'" id="summary_'.$news['rss_waiver_id'].'"  class="tControl"&gt;'.$news['waiver_summary'].'&lt;/p&gt;';

                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_waiver_id'].'"&gt;Source : '.$news['rss_waiver_source'].'&lt;/p&gt;'; 

                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_source'].'"&gt;';

                            echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_waiver_id'].'"&gt;';
                            if(isset($news['activity'])){
                            foreach($news['activity'] as $activity){
                                    if($activity['activity_action'] == 'edit'){
                                        echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                    }else if($activity['activity_action'] == 'publish'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'notify'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'read'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }
                                }
                            }
                            echo '&lt;/div&gt;';

                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_edit_'.$news['rss_waiver_id'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    if($news['waiver_published_at'] == 0){
                       echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_publish_'.$news['rss_waiver_id'].'" data-toggle="tooltip" data-placement="top" title="Publish" type="button" class="btn btn-default btn-sm btn_publish_news"&gt;  &lt;span class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }
                    else{
                        echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_publish_'.$news['rss_waiver_id'].'" type="button" class="btn btn-default btn-sm btn_publish_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }

                    if($news['waiver_notified_at'] == 0){
                        // echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_notify_'.$news['rss_waiver_id'].'" data-toggle="tooltip" data-placement="top" title="Notify" type="button" class="btn btn-default btn-sm btn_notify_news"&gt;  &lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                         echo    '&lt;div class="dropdown"&gt;
                                &lt;button type="button" onclick="myFunction(this)" class="btn btn-default btn-sm dropbtn"&gt;&lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;
                                  &lt;div id="myDropdown" class="dropdown-content myDropdown"&gt;
                                    &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_waiver_id'].'" id="btn_notify_'.$news['rss_waiver_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_waiver_id'].'" id="btn_notify_'.$news['rss_waiver_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_waiver_id'].'" id="btn_notify_'.$news['rss_waiver_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }else{
                        echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_notify_'.$news['rss_waiver_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_hide_'.$news['rss_waiver_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['waiver_edited_by_admin_id'] != 0){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_waiver_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_waiver_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['waiver_published_at'] != 0){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_waiver_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['waiver_notified_at'] != 0){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_waiver_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_waiver_created_at'];
                $last_news_id = $news['rss_waiver_id'];
            }
            else if($news['rss_waiver_is_deleted'] == 0)
            {

                echo '&lt;tr id="w_news_'.$news['rss_waiver_id'].'"&gt;';

                if($news['waiver_published_at']){
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input type="checkbox" class="checkbox" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input name="locationthemes" type="checkbox" class="checkbox" value="'.$news['rss_waiver_id'].'" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }


                if(empty($news['league_logo'])){
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.ASSETS.'Artboard1.png"&gt;&lt;/a&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$news['league_logo'].'"&gt;&lt;/a&gt;&lt;/td&gt;';
                }

                echo '&lt;td&gt;';
                    echo '&lt;div class="media"&gt;';
                        echo '&lt;div class="pull-left"&gt;';
                            echo '&lt;a href="javascript:void(0);"&gt;';

                            if($news['rss_waiver_image'] == '' || $news['rss_waiver_image'] == 'noimage'){
                                echo '&lt;img data-id="'.$news['rss_waiver_id'].'" id="image_'.$news['rss_waiver_id'].'" class="media-object" style="width:120px;" src="'.ASSETS.'Artboard1.png"&gt;';
                                //echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }                                                                        
                            else if(strpos($news['rss_waiver_image'], 'www') !== false || strpos($news['rss_waiver_image'], 'http') !== false){
                                echo '&lt;img data-id="'.$news['rss_waiver_id'].'" id="image_'.$news['rss_waiver_id'].'" class="media-object" style="width:120px;" src="'.$news['rss_waiver_image'].'"&gt;';
                                //echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }
                            else{
                                echo '&lt;img data-id="'.$news['rss_waiver_id'].'" id="image_'.$news['rss_waiver_id'].'" class="media-object" style="width:120px;" src="'.articleimage.''.$news['rss_waiver_image'].'"&gt;';
                                //echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }

                            echo '&lt;/a&gt;';
                         echo '&lt;/div&gt;';
                        echo '&lt;div class="media-body"&gt;';
                            echo '&lt;div style="display:flex;color:gray;font-size:11px;margin-bottom:-9px;"&gt;&lt;p&gt;'.$news['channel_name'].'&lt;/p&gt;&amp;nbsp;/&amp;nbsp;&lt;p id="kroo_news_at_'.$news['rss_waiver_id'].'"&gt;'.$news['rss_waiver_created_at'].'&lt;/p&gt;&lt;/div&gt;'; 
                            echo '&lt;input type="hidden" id="rss_title_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_title'].'"&gt;';
                            echo '&lt;h4 class="tControl" data-id="'.$news['rss_waiver_id'].'" id="title_read_news"&gt;&lt;a data-id="'.$news['rss_waiver_id'].'" id="title_'.$news['rss_waiver_id'].'" href="'.$news['rss_waiver_url'].'" target="_blank"&gt;'.$news['rss_waiver_title'].'&lt;/a&gt;&lt;/h4&gt;';
                            echo '&lt;p data-id="'.$news['rss_waiver_id'].'" id="summary_'.$news['rss_waiver_id'].'"  class="tControl"&gt;'.$news['rss_waiver_summary'].'&lt;/p&gt;';


                            echo '&lt;input type="hidden" id="rss_summary_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_summary'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_url_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_url'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_image_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_image'].'"&gt;';

                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_waiver_id'].'"&gt;Source : '.$news['rss_waiver_source'].'&lt;/p&gt;'; 
                            
                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_waiver_id'].'" value="'.$news['rss_waiver_source'].'"&gt;';

                             echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_waiver_id'].'"&gt;';
                            if(isset($news['activity'])){
                                foreach($news['activity'] as $activity){
                                        if($activity['activity_action'] == 'edit'){
                                            echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                        }else if($activity['activity_action'] == 'publish'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }else if($activity['activity_action'] == 'notify'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }else if($activity['activity_action'] == 'read'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }                                                                     
                                    }
                            }
                            echo '&lt;/div&gt;';

                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_edit_'.$news['rss_waiver_id'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    if(!$news['waiver_published_at']){
                       echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_publish_'.$news['rss_waiver_id'].'" data-toggle="tooltip" data-placement="top" title="Publish" type="button" class="btn btn-default btn-sm btn_publish_news"&gt;  &lt;span class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }
                    else{
                        echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_publish_'.$news['rss_waiver_id'].'" type="button" class="btn btn-default btn-sm btn_publish_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }

                    if(!$news['waiver_notified_at']){
                        // echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_notify_'.$news['rss_waiver_id'].'" data-toggle="tooltip" data-placement="top" title="Notify" type="button" class="btn btn-default btn-sm btn_notify_news"&gt;  &lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                         echo    '&lt;div class="dropdown"&gt;
                                &lt;button type="button" onclick="myFunction(this)" class="btn btn-default btn-sm dropbtn"&gt;&lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;
                                  &lt;div id="myDropdown" class="dropdown-content myDropdown"&gt;
                                    &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_waiver_id'].'" id="btn_notify_'.$news['rss_waiver_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_waiver_id'].'" id="btn_notify_'.$news['rss_waiver_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_waiver_id'].'" id="btn_notify_'.$news['rss_waiver_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }
                    else{
                        echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_notify_'.$news['rss_waiver_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_waiver_id'].'" id="btn_hide_'.$news['rss_waiver_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['waiver_edited_by_admin_id']){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_waiver_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_waiver_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['waiver_published_at']){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_waiver_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['waiver_notified_at']){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_waiver_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_waiver_created_at'];
                $last_news_id = $news['rss_waiver_id'];

            }
      

    $k++;
</codefragment>
  </duplication>
  <duplication lines="81" tokens="321">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="5"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/video_listing.php" line="5"/>
    <codefragment>if(!empty($kroo_news)){
    $k=0;
    foreach($kroo_news as $news){
        

            if($news['rss_sports_news_id'] &amp;&amp; $news['sports_is_deleted'] == 0){

                echo '&lt;tr id="k_news_'.$news['rss_sports_id'].'"&gt;';

                if($news['sports_published_at'] != 0){
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input type="checkbox" class="checkbox" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input name="locationthemes" type="checkbox" class="checkbox" value="'.$news['rss_sports_id'].'" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }


                if(empty($news['league_team_logo'])){
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.ASSETS.'Artboard1.png"&gt;&lt;/a&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$news['league_team_logo'].'"&gt; &lt;/a&gt;&lt;/td&gt;';
                }

                echo '&lt;td&gt;';
                    echo '&lt;div class="media"&gt;';
                        echo '&lt;div class="pull-left"&gt;';
                            echo '&lt;a href="javascript:void(0);"&gt;';

                            if($news['sports_image'] == '' || $news['sports_image'] == 'noimage'){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.ASSETS.'Artboard1.png"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }                                                                        
                            else if(strpos($news['sports_image'], 'www') !== false || strpos($news['sports_image'], 'http') !== false){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.$news['sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }
                            else{
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.newsimage.''.$news['sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';                                                                           
                            }

                            echo '&lt;/a&gt;';
                        echo '&lt;/div&gt;';
                        echo '&lt;div class="media-body"&gt;';
                            echo '&lt;div style="display:flex;color:gray;font-size:11px;margin-bottom:-9px;"&gt;&lt;p&gt;'.$news['channel_name'].'&lt;/p&gt;&amp;nbsp;/&amp;nbsp;&lt;p id="kroo_news_at_'.$news['rss_sports_id'].'"&gt;'.$news['rss_sports_created_at'].'&lt;/p&gt;&lt;/div&gt;'; 
                            echo '&lt;h4 class="tControl" data-id="'.$news['rss_sports_id'].'" id="title_read_news"&gt;&lt;a data-id="'.$news['rss_sports_id'].'" id="title_'.$news['rss_sports_id'].'" href="'.$news['sports_url'].'" target="_blank"&gt;'.$news['sports_title'].'&lt;/a&gt;&lt;/h4&gt;';


                            echo '&lt;input type="hidden" id="rss_title_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_title'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_summary_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_summary'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_url_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_url'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_image_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_image'].'"&gt;';

                            echo '&lt;p data-id="'.$news['rss_sports_id'].'" id="summary_'.$news['rss_sports_id'].'"  class="tControl"&gt;'.$news['sports_summary'].'&lt;/p&gt;';

                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_sports_id'].'"&gt;Source : '.$news['rss_sports_source'].'&lt;/p&gt;'; 

                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_source'].'"&gt;';
                            echo '&lt;input type="hidden" id="news_tags_'.$news['rss_sports_id'].'" value="'.$news['tags'].'"&gt;';

                            echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_sports_id'].'"&gt;';
                            if(isset($news['activity'])){
                            foreach($news['activity'] as $activity){
                                    if($activity['activity_action'] == 'edit'){
                                        echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                    }else if($activity['activity_action'] == 'publish'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'notify'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'read'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }
                                }
                            }
                            echo '&lt;/div&gt;';
                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_edit_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-news_category="'.$news['news_category'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" data-news_category="'.$news['news_category'].'" id="btn_detail_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Detail" type="button" class="btn btn-default btn-sm btn_detail_news"&gt;  &lt;span class="glyphicon glyphicon-list" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
</codefragment>
  </duplication>
  <duplication lines="31" tokens="74">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/listing.php" line="86"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/video_listing.php" line="89"/>
    <codefragment>                    if($news['sports_published_at'] == 0){
                       echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_publish_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Publish" type="button" class="btn btn-default btn-sm btn_publish_news"&gt;  &lt;span class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }
                    else{
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_publish_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_publish_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }

                    //if($news['sports_notified_at']== 0 &amp;&amp; $news['news_category'] != 31){
                    if($news['sports_notified_at']== 0){
                        // echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Notify" type="button" class="btn btn-default btn-sm btn_notify_news"&gt;  &lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                         echo    '&lt;div class="dropdown"&gt;
                                &lt;button type="button" onclick="myFunction(this)" class="btn btn-default btn-sm dropbtn"&gt;&lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;
                                  &lt;div id="myDropdown" class="dropdown-content myDropdown"&gt;
                                    &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }
                    else{
                    //else if($news['news_category'] != 31){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_hide_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_copy_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Copy" type="button" class="btn btn-default btn-sm btn_copy_news"&gt;  &lt;span class="glyphicon glyphicon-export" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_game_add_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="game" type="button" class="btn btn-default btn-sm btn_game_add_news"&gt;  &lt;span class="fa fa-trophy" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';                    
</codefragment>
  </duplication>
  <duplication lines="103" tokens="368">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/listing.php" line="120"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/video_listing.php" line="119"/>
    <codefragment>                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['sports_edited_by_admin_id'] != 0){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_sports_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_sports_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['sports_published_at'] != 0){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['sports_notified_at'] != 0){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_sports_created_at'];
                $last_news_id = $news['rss_sports_id'];
            }
            else if($news['rss_sports_is_deleted'] == 0)
            {

                echo '&lt;tr id="k_news_'.$news['rss_sports_id'].'"&gt;';

                if($news['sports_published_at']){
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input type="checkbox" class="checkbox" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input name="locationthemes" type="checkbox" class="checkbox" value="'.$news['rss_sports_id'].'" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }


                if(empty($news['league_team_logo'])){
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.ASSETS.'Artboard1.png"&gt;&lt;/a&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$news['league_team_logo'].'"&gt;&lt;/a&gt;&lt;/td&gt;';
                }

                echo '&lt;td&gt;';
                    echo '&lt;div class="media"&gt;';
                        echo '&lt;div class="pull-left"&gt;';
                            echo '&lt;a href="javascript:void(0);"&gt;';

                            if($news['rss_sports_image'] == '' || $news['rss_sports_image'] == 'noimage'){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.ASSETS.'Artboard1.png"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }                                                                        
                            else if(strpos($news['rss_sports_image'], 'www') !== false || strpos($news['rss_sports_image'], 'http') !== false){
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.$news['rss_sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }
                            else{
                                echo '&lt;img data-id="'.$news['rss_sports_id'].'" id="image_'.$news['rss_sports_id'].'" class="media-object" style="width:120px;" src="'.newsimage.''.$news['rss_sports_image'].'"&gt;';
                                echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }

                            echo '&lt;/a&gt;';
                         echo '&lt;/div&gt;';
                        echo '&lt;div class="media-body"&gt;';
                            echo '&lt;div style="display:flex;color:gray;font-size:11px;margin-bottom:-9px;"&gt;&lt;p&gt;'.$news['channel_name'].'&lt;/p&gt;&amp;nbsp;/&amp;nbsp;&lt;p id="kroo_news_at_'.$news['rss_sports_id'].'"&gt;'.$news['rss_sports_created_at'].'&lt;/p&gt;&lt;/div&gt;'; 
                            echo '&lt;input type="hidden" id="rss_title_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_title'].'"&gt;';
                            echo '&lt;h4 class="tControl" data-id="'.$news['rss_sports_id'].'" id="title_read_news"&gt;&lt;a data-id="'.$news['rss_sports_id'].'" id="title_'.$news['rss_sports_id'].'" href="'.$news['rss_sports_url'].'" target="_blank"&gt;'.$news['rss_sports_title'].'&lt;/a&gt;&lt;/h4&gt;';
                            echo '&lt;p data-id="'.$news['rss_sports_id'].'" id="summary_'.$news['rss_sports_id'].'"  class="tControl"&gt;'.$news['rss_sports_summary'].'&lt;/p&gt;';


                            echo '&lt;input type="hidden" id="rss_summary_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_summary'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_url_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_url'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_image_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_image'].'"&gt;';

                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_sports_id'].'"&gt;Source : '.$news['rss_sports_source'].'&lt;/p&gt;'; 
                            
                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_sports_id'].'" value="'.$news['rss_sports_source'].'"&gt;';
                            echo '&lt;input type="hidden" id="news_tags_'.$news['rss_sports_id'].'" value="'.$news['tags'].'"&gt;';

                             echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_sports_id'].'"&gt;';
                            if(isset($news['activity'])){
                                foreach($news['activity'] as $activity){
                                        if($activity['activity_action'] == 'edit'){
                                            echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                        }else if($activity['activity_action'] == 'publish'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }else if($activity['activity_action'] == 'notify'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }else if($activity['activity_action'] == 'read'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }                                                                     
                                    }
                            }
                            echo '&lt;/div&gt;';

                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_edit_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-news_category="'.$news['news_category'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_detail_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-news_category="'.$news['news_category'].'" data-toggle="tooltip" data-placement="top" title="Detail" type="button" class="btn btn-default btn-sm btn_detail_news"&gt;  &lt;span class="glyphicon glyphicon-list" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

</codefragment>
  </duplication>
  <duplication lines="30" tokens="70">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/listing.php" line="221"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/video_listing.php" line="221"/>
    <codefragment>                    if(!$news['sports_published_at']){
                       echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_publish_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Publish" type="button" class="btn btn-default btn-sm btn_publish_news"&gt;  &lt;span class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }
                    else{
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_publish_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_publish_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }

                    if(!$news['sports_notified_at']){
                    //if(!$news['sports_notified_at'] &amp;&amp;  $news['news_category'] != 31){
                        // echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Notify" type="button" class="btn btn-default btn-sm btn_notify_news"&gt;  &lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                         echo    '&lt;div class="dropdown"&gt;
                                &lt;button type="button" onclick="myFunction(this)" class="btn btn-default btn-sm dropbtn"&gt;&lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;
                                  &lt;div id="myDropdown" class="dropdown-content myDropdown"&gt;
                                     &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }else{
                    //}else if( $news['news_category'] != 31){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_hide_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_copy_'.$news['rss_sports_id'].'" data-team_id="'.$news['league_team_id'].'" data-toggle="tooltip" data-placement="top" title="Copy" type="button" class="btn btn-default btn-sm btn_copy_news"&gt;  &lt;span class="glyphicon glyphicon-export" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

</codefragment>
  </duplication>
  <duplication lines="39" tokens="97">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/video_listing.php" line="103"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/video_listing.php" line="235"/>
    <codefragment>                                    &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }
                    else{
                    //else if($news['news_category'] != 31){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_notify_'.$news['rss_sports_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_sports_id'].'" id="btn_hide_'.$news['rss_sports_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }


                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['sports_edited_by_admin_id'] != 0){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_sports_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_sports_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['sports_published_at'] != 0){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['sports_notified_at'] != 0){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_sports_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_sports_created_at'];
</codefragment>
  </duplication>
  <duplication lines="260" tokens="821">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/player_listing.php" line="5"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/player_listing.php" line="5"/>
    <codefragment>if(!empty($player_news)){
    $k=0;
    foreach($player_news as $news){
       

            if($news['rss_player_news_id'] &amp;&amp; $news['player_is_deleted'] == 0){

                echo '&lt;tr id="f_news_'.$news['rss_player_id'].'"&gt;';

                if($news['player_published_at'] != 0){
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input type="checkbox" class="checkbox" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input name="locationthemes" type="checkbox" class="checkbox" value="'.$news['rss_player_id'].'" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }


                if(empty($news['league_logo'])){
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.ASSETS.'Artboard1.png"&gt;&lt;/a&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$news['league_logo'].'"&gt; &lt;/a&gt;&lt;/td&gt;';
                }

                echo '&lt;td&gt;';
                    echo '&lt;div class="media"&gt;';
                        echo '&lt;div class="pull-left"&gt;';
                            echo '&lt;a href="javascript:void(0);"&gt;';

                             if($news['player_image'] == '' || $news['player_image'] == 'noimage'){
                                echo '&lt;img data-id="'.$news['rss_player_id'].'" id="image_'.$news['rss_player_id'].'" class="media-object" style="width:120px;" src="'.ASSETS.'Artboard1.png"&gt;';
                                // echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;/p&gt;';
                            }                                                                        
                            else if(strpos($news['player_image'], 'www') !== false || strpos($news['player_image'], 'http') !== false){
                                echo '&lt;img data-id="'.$news['rss_player_id'].'" id="image_'.$news['rss_player_id'].'" class="media-object" style="width:120px;" src="'.$news['player_image'].'"&gt;';
                                 //echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;/p&gt;';
                            }
                            else{
                                echo '&lt;img data-id="'.$news['rss_player_id'].'" id="image_'.$news['rss_player_id'].'" class="media-object" style="width:120px;" src="'.newsimage.''.$news['player_image'].'"&gt;';
                                //echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;/p&gt;';                                                                           
                            }

                            echo '&lt;/a&gt;';
                         echo '&lt;/div&gt;';
                        echo '&lt;div class="media-body"&gt;';
                            echo '&lt;div style="display:flex;color:gray;font-size:11px;margin-bottom:-9px;"&gt;&lt;p&gt;'.$news['channel_name'].'&lt;/p&gt;&amp;nbsp;/&amp;nbsp;&lt;p id="kroo_news_at_'.$news['rss_player_id'].'"&gt;'.$news['rss_player_created_at'].'&lt;/p&gt;&lt;/div&gt;'; 
                            echo '&lt;h4 class="tControl" data-id="'.$news['rss_player_id'].'" id="title_read_news"&gt;&lt;a data-id="'.$news['rss_player_id'].'" id="title_'.$news['rss_player_id'].'" href="'.$news['player_url'].'" target="_blank"&gt;'.$news['player_title'].'&lt;/a&gt;&lt;/h4&gt;';


                            echo '&lt;input type="hidden" id="rss_title_'.$news['rss_player_id'].'" value="'.$news['rss_player_title'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_summary_'.$news['rss_player_id'].'" value="'.$news['rss_player_summary'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_url_'.$news['rss_player_id'].'" value="'.$news['rss_player_url'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_image_'.$news['rss_player_id'].'" value="'.$news['rss_player_image'].'"&gt;';

                            echo '&lt;p data-id="'.$news['rss_player_id'].'" id="summary_'.$news['rss_player_id'].'"  class="tControl"&gt;'.$news['player_summary'].'&lt;/p&gt;';

                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_player_id'].'"&gt;Source : '.$news['rss_player_source'].'&lt;/p&gt;'; 

                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_player_id'].'" value="'.$news['rss_player_source'].'"&gt;';

                            echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_player_id'].'"&gt;';
                            if(isset($news['activity'])){
                            foreach($news['activity'] as $activity){
                                    if($activity['activity_action'] == 'edit'){
                                        echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                    }else if($activity['activity_action'] == 'publish'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'notify'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }else if($activity['activity_action'] == 'read'){
                                        echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                    }
                                }
                            }
                            echo '&lt;/div&gt;';

                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_edit_'.$news['rss_player_id'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    if($news['player_published_at'] == 0){
                       echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_publish_'.$news['rss_player_id'].'" data-toggle="tooltip" data-placement="top" title="Publish" type="button" class="btn btn-default btn-sm btn_publish_news"&gt;  &lt;span class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }
                    else{
                        echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_publish_'.$news['rss_player_id'].'" type="button" class="btn btn-default btn-sm btn_publish_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }

                    if($news['player_notified_at'] == 0){
                        // echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_notify_'.$news['rss_player_id'].'" data-toggle="tooltip" data-placement="top" title="Notify" type="button" class="btn btn-default btn-sm btn_notify_news"&gt;  &lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                        echo    '&lt;div class="dropdown"&gt;
                                &lt;button type="button" onclick="myFunction(this)" class="btn btn-default btn-sm dropbtn"&gt;&lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;
                                  &lt;div id="myDropdown" class="dropdown-content myDropdown"&gt;
                                    &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_player_id'].'" id="btn_notify_'.$news['rss_player_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_player_id'].'" id="btn_notify_'.$news['rss_player_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_player_id'].'" id="btn_notify_'.$news['rss_player_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }else{
                        echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_notify_'.$news['rss_player_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_hide_'.$news['rss_player_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['player_edited_by_admin_id'] != 0){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_player_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_player_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['player_published_at'] != 0){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_player_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['player_notified_at'] != 0){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_player_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_player_created_at'];
                $last_news_id = $news['rss_player_id'];
            }
            else if($news['rss_player_is_deleted'] == 0)
            {

                echo '&lt;tr id="f_news_'.$news['rss_player_id'].'"&gt;';

                if($news['player_published_at']){
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input type="checkbox" class="checkbox" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td &gt;&lt;label class="checkbox"&gt;&lt;input name="locationthemes" type="checkbox" class="checkbox" value="'.$news['rss_player_id'].'" /&gt;&lt;/label&gt;&lt;/td&gt;';
                }


                if(empty($news['league_logo'])){
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.ASSETS.'Artboard1.png"&gt;&lt;/a&gt;&lt;/td&gt;';
                }else{
                    echo '&lt;td&gt;&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$news['league_logo'].'"&gt;&lt;/a&gt;&lt;/td&gt;';
                }

                echo '&lt;td&gt;';
                    echo '&lt;div class="media"&gt;';
                        echo '&lt;div class="pull-left"&gt;';
                            echo '&lt;a href="javascript:void(0);"&gt;';

                            if($news['rss_player_image'] == '' || $news['rss_player_image'] == 'noimage'){
                                echo '&lt;img data-id="'.$news['rss_player_id'].'" id="image_'.$news['rss_player_id'].'" class="media-object" style="width:120px;" src="'.ASSETS.'Artboard1.png"&gt;';
                                //echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }                                                                        
                            else if(strpos($news['rss_player_image'], 'www') !== false || strpos($news['rss_player_image'], 'http') !== false){
                                echo '&lt;img data-id="'.$news['rss_player_id'].'" id="image_'.$news['rss_player_id'].'" class="media-object" style="width:120px;" src="'.$news['rss_player_image'].'"&gt;';
                                //echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }
                            else{
                                echo '&lt;img data-id="'.$news['rss_player_id'].'" id="image_'.$news['rss_player_id'].'" class="media-object" style="width:120px;" src="'.newsimage.''.$news['rss_player_image'].'"&gt;';
                                //echo '&lt;p&gt;'.$news['rss_league_name'].'&lt;br&gt;'.$news['rss_team_name'].'&lt;/p&gt;';
                            }

                            echo '&lt;/a&gt;';
                         echo '&lt;/div&gt;';
                        echo '&lt;div class="media-body"&gt;';
                            echo '&lt;div style="display:flex;color:gray;font-size:11px;margin-bottom:-9px;"&gt;&lt;p&gt;'.$news['channel_name'].'&lt;/p&gt;&amp;nbsp;/&amp;nbsp;&lt;p id="kroo_news_at_'.$news['rss_player_id'].'"&gt;'.$news['rss_player_created_at'].'&lt;/p&gt;&lt;/div&gt;'; 
                            echo '&lt;input type="hidden" id="rss_title_'.$news['rss_player_id'].'" value="'.$news['rss_player_title'].'"&gt;';
                            echo '&lt;h4 class="tControl" data-id="'.$news['rss_player_id'].'" id="title_read_news"&gt;&lt;a data-id="'.$news['rss_player_id'].'" id="title_'.$news['rss_player_id'].'" href="'.$news['rss_player_url'].'" target="_blank"&gt;'.$news['rss_player_title'].'&lt;/a&gt;&lt;/h4&gt;';
                            echo '&lt;p data-id="'.$news['rss_player_id'].'" id="summary_'.$news['rss_player_id'].'"  class="tControl"&gt;'.$news['rss_player_summary'].'&lt;/p&gt;';


                            echo '&lt;input type="hidden" id="rss_summary_'.$news['rss_player_id'].'" value="'.$news['rss_player_summary'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_url_'.$news['rss_player_id'].'" value="'.$news['rss_player_url'].'"&gt;';
                            echo '&lt;input type="hidden" id="rss_image_'.$news['rss_player_id'].'" value="'.$news['rss_player_image'].'"&gt;';

                            echo '&lt;p style="color:gray;" id="news_source_'.$news['rss_player_id'].'"&gt;Source : '.$news['rss_player_source'].'&lt;/p&gt;'; 
                            
                            echo '&lt;input type="hidden" id="rss_source_'.$news['rss_player_id'].'" value="'.$news['rss_player_source'].'"&gt;';

                             echo '&lt;div style="display:inline; font-size:12px;" id="activity_detail_'.$news['rss_player_id'].'"&gt;';
                            if(isset($news['activity'])){
                                foreach($news['activity'] as $activity){
                                        if($activity['activity_action'] == 'edit'){
                                            echo '&lt;p style="display:inline;"&gt;&lt;b&gt;Edited By&lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';                                                                                
                                        }else if($activity['activity_action'] == 'publish'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Published By &lt;/b&gt; : '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }else if($activity['activity_action'] == 'notify'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Notified By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }else if($activity['activity_action'] == 'read'){
                                            echo '&lt;p style="display:inline; margin-left:5px;"&gt;&lt;b&gt;Read By &lt;/b&gt;: '.$activity['activity_user'][0]['name'].'&lt;/p&gt;';
                                        }                                                                     
                                    }
                            }
                            echo '&lt;/div&gt;';

                        echo '&lt;/div&gt;';
                    echo '&lt;/div&gt;';
                echo '&lt;/td&gt;';
                echo '&lt;td class="text-center"&gt;';
                    echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_edit_'.$news['rss_player_id'].'" data-toggle="tooltip" data-placement="top" title="Edit" type="button" class="btn btn-default btn-sm btn_edit_news"&gt;  &lt;span class="glyphicon glyphicon-pencil" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';

                    if(!$news['player_published_at']){
                       echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_publish_'.$news['rss_player_id'].'" data-toggle="tooltip" data-placement="top" title="Publish" type="button" class="btn btn-default btn-sm btn_publish_news"&gt;  &lt;span class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }
                    else{
                        echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_publish_'.$news['rss_player_id'].'" type="button" class="btn btn-default btn-sm btn_publish_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-send notifi" aria-hidden="true" &gt;&lt;/span&gt;&lt;/button&gt;'; 
                    }

                    if(!$news['player_notified_at']){
                        // echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_notify_'.$news['rss_player_id'].'" data-toggle="tooltip" data-placement="top" title="Notify" type="button" class="btn btn-default btn-sm btn_notify_news"&gt;  &lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                         echo    '&lt;div class="dropdown"&gt;
                                &lt;button type="button" onclick="myFunction(this)" class="btn btn-default btn-sm dropbtn"&gt;&lt;span class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;
                                  &lt;div id="myDropdown" class="dropdown-content myDropdown"&gt;
                                    &lt;a class="btn_notify_news" data-level="3" data-id="'.$news['rss_player_id'].'" id="btn_notify_'.$news['rss_player_id'].'" href="javascript:void(0);"&gt;Everything&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="2" data-id="'.$news['rss_player_id'].'" id="btn_notify_'.$news['rss_player_id'].'" href="javascript:void(0);"&gt;Featured&lt;/a&gt;
                                    &lt;a class="btn_notify_news" data-level="1" data-id="'.$news['rss_player_id'].'" id="btn_notify_'.$news['rss_player_id'].'" href="javascript:void(0);"&gt;Important&lt;/a&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;';
                    }
                    else{
                        echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_notify_'.$news['rss_player_id'].'" type="button" class="btn btn-default btn-sm btn_notify_news" disabled="disabled"&gt;  &lt;span style="color:#6E6E6E;" class="glyphicon glyphicon-fire publis" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                    if($this-&gt;session-&gt;userdata('is_admin')=='admin'){
                        echo '&lt;button data-id="'.$news['rss_player_id'].'" id="btn_hide_'.$news['rss_player_id'].'" data-toggle="tooltip" data-placement="top" title="Delete" type="button" class="btn btn-default btn-sm btn_hide_news"&gt;  &lt;span class="glyphicon glyphicon-remove red" aria-hidden="true"&gt;&lt;/span&gt;&lt;/button&gt;';
                    }

                echo '&lt;/td&gt;';
                echo '&lt;td class="text-right"&gt;';
                    if($news['player_edited_by_admin_id']){
                        echo '&lt;span style="color:#5F6B76;" class="glyphicon glyphicon-ok-sign blue" id="hide_edited_news_'.$news['rss_player_id'].'" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    
                    }
                    echo '&lt;span style="color:#5F6B76; display:none" id="edited_news_'.$news['rss_player_id'].'"  class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';    

                    if($news['player_published_at']){
                        echo '&lt;span style="color:#7266BA;" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="color:#7266BA;display:none" id="publish_news_'.$news['rss_player_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';

                    if($news['player_notified_at']){
                        echo '&lt;span class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';
                    }
                    echo '&lt;span style="display:none;" id="notify_news_'.$news['rss_player_id'].'" class="glyphicon glyphicon-ok-sign blue" aria-hidden="true"&gt;&lt;/span&gt;&amp;nbsp;';


                echo '&lt;/td&gt;';

                echo '&lt;/tr&gt;';

                $last_news_at = $news['rss_player_created_at'];
                $last_news_id = $news['rss_player_id'];

            }
        

    $k++;
</codefragment>
  </duplication>
  <duplication lines="414" tokens="151">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/views/dashboard--.php" line="133"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/views/dashboard.php" line="133"/>
    <codefragment>                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                   echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   foreach($kroo_news['all_leagues'] as $news){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-left:10px;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_team_text" type="button" data-toggle="dropdown"&gt;Select Team
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu" id="select_team" style="height: auto; max-height: 500px; overflow-x:hidden; "&gt;
                               &lt;li style="text-align:center"&gt;&lt;h4&gt;Select League&lt;/h4&gt;&lt;/li&gt;
                           &lt;/ul&gt;
                       &lt;/div&gt;                     
                      

                       &lt;div class="dropdown" style="padding-left:10px;"&gt;

                           &lt;button class="btn btn-default dropdown-toggle select_news_type" type="button" data-toggle="dropdown"&gt;Select News
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu"&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="2" data-name="All News"&gt;All News&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="1" data-name="Published"&gt;Published&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="0" data-name="Not Published"&gt;Not Published&lt;/a&gt;
                               &lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" id="notified_sort" href="javascript:void(0);" data-id="3" data-name="Notified"&gt;Notified&lt;/a&gt;&lt;/li&gt;
                           &lt;/ul&gt;

                       &lt;/div&gt;

                       &lt;div style="padding-left:10px;"&gt;
                           &lt;form class="form-inline" id="news_date_form"&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker1" autocomplete="off" placeholder="From Date" id="datepicker1" name="datepicker1" /&gt;
                               &lt;/div&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker2" autocomplete="off" placeholder="To Date" id="datepicker2" name="datepicker2" /&gt;
                               &lt;/div&gt;
                               &lt;button id="btn_get_date" class="btn btn-default"&gt;Get News&lt;/button&gt;
                           &lt;/form&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-right:10px; float: right; margin-left:auto;"&gt;
                           &lt;button class="btn btn-default btn-add-news" data-toggle="modal" data-target="#myAddNewsModel" type="button"&gt;Add News&lt;/button&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-right:10px; float: right;"&gt;
                           &lt;button class="btn btn-default clr-fltr" type="button"&gt;Clear Filter&lt;/button&gt;
                       &lt;/div&gt;

                       &lt;div style="padding-right:10px; float: right;"&gt;
                           &lt;a href="javascript:void(0);" id="mass_publish" class="btn btn-default"&gt;Publish Selected&lt;/a&gt;
                       &lt;/div&gt;

                        &lt;div class="dropdown" style="padding-right:10px; float: right;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_channel_text" type="button" data-toggle="dropdown"&gt;Select Channel
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;?php
                               if(!empty($channel2)){
                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                    foreach($channel2 as $row){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_channel" data-id="'.$row['id'].'" data-name="'.$row['name'].'" href="javascript:void(0);"&gt;&lt;span&gt;'.$row['name'].'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                       &lt;/div&gt;



                   &lt;/div&gt;

                   &lt;br&gt;

                   &lt;div&gt;

                       &lt;table class="table table-hover kroo_data_table" id="kroo_team_news"&gt;
                           &lt;thead&gt;
                               &lt;tr&gt;
                                   &lt;th class="col-md-*"&gt;&lt;input type="checkbox" class="checkall" /&gt;
                                       &lt;input type="hidden" id="listCNT0" value="0"&gt;
                                       &lt;input type="hidden" id="listTYPE0" autocomplete="off" value=""&gt;
                                   &lt;/th&gt;
                                   &lt;th class="col-md-*"&gt;Team&lt;/th&gt;
                                   &lt;th class="col-md-8"&gt;Feeds&lt;/th&gt;
                                   &lt;th class="col-md-2 text-center"&gt;Actions&lt;/th&gt;
                                   &lt;th class="col-md-* text-right" style="padding-right:40px;"&gt;&lt;span class="glyphicon glyphicon-flag" aria-hidden="true"&gt;&lt;/span&gt;&lt;/th&gt;
                               &lt;/tr&gt;
                           &lt;/thead&gt; 
                           &lt;tbody&gt;&lt;/tbody&gt;   
                           &lt;/table&gt;
                       &lt;/div&gt;
               &lt;/div&gt;

               &lt;!-- HEADLINES CONTENT --&gt;
               &lt;div role="tabpanel" class="tab-pane" id="headlines"&gt;

                   &lt;div style="display:flex; padding-top:20px; padding-left:20px;" id="left_filters"&gt;

                      
                       &lt;div class="dropdown"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_league_text" type="button" data-toggle="dropdown"&gt;Select League
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;?php
                               if(!empty($kroo_news['all_leagues'])){
                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                   echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                    foreach($kroo_news['all_leagues'] as $news){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                       &lt;/div&gt;

                      &lt;!--  &lt;div class="dropdown" style="padding-left:10px;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_team_text" type="button" data-toggle="dropdown"&gt;Select Team
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu" id="select_team" style="height: auto; max-height: 500px; overflow-x:hidden; "&gt;
                               &lt;li style="text-align:center"&gt;&lt;h4&gt;Select League&lt;/h4&gt;&lt;/li&gt;
                           &lt;/ul&gt;
                       &lt;/div&gt; --&gt;
                      &lt;div class="dropdown" style="padding-left:10px;"&gt;

                           &lt;button class="btn btn-default dropdown-toggle select_news_type" type="button" data-toggle="dropdown"&gt;Select News
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;ul class="dropdown-menu"&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="2" data-name="All News"&gt;All News&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="1" data-name="Published"&gt;Published&lt;/a&gt;&lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" href="javascript:void(0);" data-id="0" data-name="Not Published"&gt;Not Published&lt;/a&gt;
                               &lt;/li&gt;
                               &lt;li style="text-align:center"&gt;&lt;a class="get_publish" id="notified_sort" href="javascript:void(0);" data-id="3" data-name="Notified"&gt;Notified&lt;/a&gt;&lt;/li&gt;
                           &lt;/ul&gt;

                       &lt;/div&gt;

                       &lt;div style="padding-left:10px;"&gt;
                           &lt;form class="form-inline" id="headline_date_form"&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker1" autocomplete="off" placeholder="From Date" id="datepicker1" name="datepicker1" /&gt;
                               &lt;/div&gt;
                               &lt;div class="form-group"&gt;
                                   &lt;input type="text" class="form-control datepicker datepicker2" autocomplete="off" placeholder="To Date" id="datepicker2" name="datepicker2" /&gt;
                               &lt;/div&gt;
                               &lt;button id="btn_get_date" class="btn btn-default"&gt;Get News&lt;/button&gt;
                           &lt;/form&gt;
                       &lt;/div&gt;
                       &lt;div class="dropdown" style="padding-right:10px; float: right; margin-left:auto;"&gt;
                           &lt;button class="btn btn-default btn-add-news" data-toggle="modal" data-target="#myAddNewsModel" type="button"&gt;Add News&lt;/button&gt;
                       &lt;/div&gt;


                       &lt;div class="dropdown" style="padding-right:10px; float: right;"&gt;
                           &lt;button class="btn btn-default clr-fltr" type="button"&gt;Clear Filter&lt;/button&gt;
                       &lt;/div&gt;

                       &lt;div style="padding-right:10px; float: right;"&gt;
                           &lt;a href="javascript:void(0);" id="mass_publish" class="btn btn-default"&gt;Publish Selected&lt;/a&gt;
                       &lt;/div&gt;

                       &lt;div class="dropdown" style="padding-right:10px; float: right;"&gt;
                           &lt;button class="btn btn-default dropdown-toggle select_channel_text" type="button" data-toggle="dropdown"&gt;Select Channel
                           &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                           &lt;?php
                               if(!empty($channel31)){
                                   echo '&lt;ul class="dropdown-menu"&gt;';
                                    foreach($channel31 as $row){
                                       echo '&lt;li style="text-align:center"&gt;&lt;a class="select_channel" data-id="'.$row['id'].'" data-name="'.$row['name'].'" href="javascript:void(0);"&gt;&lt;span&gt;'.$row['name'].'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                   }
                                   echo '&lt;/ul&gt;';
                               }
                           ?&gt;
                       &lt;/div&gt;

                   &lt;/div&gt;

                   &lt;br&gt;

                   &lt;div&gt;

                        &lt;table class="table table-hover kroo_data_table" id="kroo_headlines"&gt;
                           &lt;thead&gt;
                               &lt;tr&gt;
                                   &lt;th class="col-md-*"&gt;&lt;input type="checkbox" class="checkall" /&gt;
                                       &lt;input type="hidden" id="listCNT1" value="0"&gt;
                                       &lt;input type="hidden" id="listTYPE1" autocomplete="off" value=""&gt;
                                   &lt;/th&gt;
                                   &lt;th class="col-md-*"&gt;League&lt;/th&gt;
                                   &lt;th class="col-md-8"&gt;Feeds&lt;/th&gt;
                                   &lt;th class="col-md-2 text-center"&gt;Actions&lt;/th&gt;
                                   &lt;th class="col-md-* text-right" style="padding-right:40px;"&gt;&lt;span class="glyphicon glyphicon-flag" aria-hidden="true"&gt;&lt;/span&gt;&lt;/th&gt;
                               &lt;/tr&gt;
                           &lt;/thead&gt; 
                           &lt;tbody&gt;&lt;/tbody&gt;   
                           &lt;/table&gt;
                       &lt;/div&gt;
               &lt;/div&gt;

                &lt;!-- Add game Modal start --&gt;
                  &lt;div class="modal fade" id="myAddModal" role="dialog"&gt;
                    &lt;div class="modal-dialog"&gt;
                    
                      &lt;!-- Modal content--&gt;
                      &lt;div class="modal-content" style="width: 128%;"&gt;
                        &lt;div class="modal-header"&gt;
                          &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                          &lt;h4 class="modal-title" id="add"&gt;&lt;/h4&gt;
                        &lt;/div&gt;

                        &lt;div class=""&gt;

                              &lt;form class="form-horizontal" id="gameAdd" name="gameinfo"&gt;
                              &lt;fieldset&gt;
                              &lt;legend&gt;  &lt;/legend&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label"&gt;Game Type&lt;/label&gt;  
                                &lt;div class="col-md-9" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-4"&gt;
                                  &lt;select name="select_game_category" id="select_game_category" class="form-control"&gt;
                                    &lt;option class="select_leagues" data-id="1" value="1"&gt;LevelUp&lt;/option&gt;
                                    &lt;option class="select_leagues" data-id="2" value="2" selected="selected"&gt;News Feed Based&lt;/option&gt;
                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                  &lt;div id="difficulty_block" style="display:none;"&gt;
                                    &lt;label class="col-md-3 control-label"&gt;Difficulty Type&lt;/label&gt;
                                    &lt;div class="col-md-3"&gt;
                                      &lt;select id="select_difficulty" name="select_difficulty" class="form-control"&gt; 
                                        &lt;option class="select_leagues" data-id="1" value="1"&gt;Easy&lt;/option&gt;
                                        &lt;option class="select_leagues" data-id="2" value="2"&gt;Medium&lt;/option&gt;
                                        &lt;option class="select_leagues" data-id="3" value="3"&gt;Hard&lt;/option&gt;  
                                      &lt;/select&gt;                                
                                    &lt;/div&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;!-- Text input--&gt;

                              &lt;div class="form-group"&gt;
                                &lt;span id="hiddenId"&gt;&lt;input type="hidden"  name="id" id="qus_id"&gt;&lt;/span&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Question&lt;/label&gt;  
                                &lt;div class="col-md-7"&gt;
                                &lt;input type="hidden" name="news_id" id="news_id"&gt;
                                &lt;input type="hidden" name="publish_id" id="publish_id"&gt;

                                &lt;input id="NowPublishDate" name="NowPublishDate" value="" type="hidden"&gt;
                                &lt;input id="NowPublishTime" name="NowPublishTime" value="" type="hidden"&gt;
                                &lt;span id="qustions"&gt;
                                &lt;textarea id="question" name="question" class="form-control" placeholder="question" rows="3" maxlength="500" value="" onKeyDown="limitText(this,100);" onKeyUp="limitText(this,300);"&gt;&lt;/textarea&gt;
                                &lt;/span&gt;
                                &lt;p style="font-size: 11px;"&gt;Max 100 characters allowed&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="col-md-8" style="margin-left: 30px;" id="radio_list"&gt;

                                  &lt;label class="" style="width: 55px;"&gt;Options&lt;/label&gt;

                                  &lt;label id="option_1" class="radio-inline"&gt;
                                      &lt;span&gt;1&lt;/span&gt;
                                      &lt;input id="ansTxtOpt1" name="ans_opt1" placeholder="option1" class="" type="text" value="" style="height: 35px; margin-left: 12px;width: 383px; border: 1px solid #ccc; border-radius: 4px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,100);"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;
                                  &lt;label id="option_2" class="radio-inline"&gt;
                                    &lt;span&gt;2&lt;/span&gt;
                                      &lt;input id="ansTxtOpt2" type="text" name="ans_opt2" placeholder="option2" style="height
                                    : 35px; margin-left: 12px;width: 383px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 12px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,40);"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;
                                  &lt;label id="option_3" class="radio-inline"&gt;
                                    &lt;span&gt;3&lt;/span&gt;
                                    &lt;input id="ansTxtOpt3" type="text" name="ans_opt3" placeholder="option3" style="height
                                    : 35px; margin-left: 12px;width: 383px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 12px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,40);"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;                
                                  &lt;label id="option_4" class="radio-inline" style="margin-bottom: 6px;"&gt;
                                    &lt;span&gt;4&lt;/span&gt;
                                    &lt;input id="ansTxtOpt4" type="text" name="ans_opt4" placeholder="option4" style="height
                                    : 35px; margin-left: 12px;width: 383px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 3px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,40);"&gt;
                                   &lt;div style="font-size: 9px; margin-left: 21px;"&gt;Max 40 characters allowed&lt;/div&gt;
                                  &lt;/label&gt;
                                  
                                  &lt;br&gt;
                              &lt;/div&gt; 
                              
                              &lt;div&gt; 
                                &lt;label class="" style="width: 139px; margin-top: 6px;"&gt;Choose answer&lt;/label&gt; 
                                &lt;br&gt;
                                  &lt;label id="option_1" class="radio-inline" style=""&gt;
                                    &lt;input id="option1" type="radio" class="chexbox" name="optradio" value="1" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;
                                  &lt;label id="option_2" class="radio-inline" style="margin-top: 22px;"&gt;
                                    &lt;input id="option2" type="radio" class="chexbox" name="optradio" value="2" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt; 
                                  &lt;label id="option_3" class="radio-inline " style="margin-top: 28px;"&gt;
                                    &lt;input id="option3" type="radio" class="chexbox" name="optradio" value="3" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt; 
                                  &lt;br&gt;                              
                                  &lt;label id="option_4" class="radio-inline" style="margin-top: 26px;"&gt;
                                    &lt;input id="option4" type="radio" class="chexbox" name="optradio" value="4" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt; 
                                
                              &lt;/div&gt;
                              &lt;hr&gt;

                              &lt;div class="form-group" style="display:none;"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Image&lt;/label&gt;  
                                &lt;div class="col-md-4"&gt;
                                  &lt;!-- &lt;input type ="file" name="userfiles" id="imgs" &gt;  
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt; --&gt;
                                &lt;div class="product_image"&gt;
                                &lt;img class="thumbnl" src=""&gt;
                                &lt;input type="hidden" name="news_img" value=""&gt;
                              &lt;/div&gt;
                              &lt;div id="file-uploader-myAddModal"&gt;
                                  &lt;button id="upload"&gt;Change Image&lt;/button&gt;
                                  &lt;noscript&gt; &lt;p&gt;Please enable JavaScript to use file uploader.&lt;/p&gt; &lt;/noscript&gt; 
                                 &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 

                              &lt;div class="form-group" style="display:none;"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Credits&lt;/label&gt;  
                                &lt;div class="col-md-4" id="creditpnt"&gt;
                                &lt;!-- &lt;input id="credits" name="credits" placeholder="Credits" class="form-control input-md" type="text" value=""&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt; --&gt;
                                &lt;select name="credits" id="credits" class="form-control"&gt;&lt;/select&gt; 
                                &lt;/div&gt;
                              &lt;/div&gt; 


                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;League&lt;/label&gt;  
                                &lt;div class="col-md-9" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-4"&gt;
                                  &lt;select name="news_league_id" id="" class="form-control game_leagues"&gt;
                                    &lt;option value="0"&gt;select league&lt;/opton&gt;
                                       &lt;?php
                                          if(!empty($kroo_news['all_leagues'])){
                                            foreach($kroo_news['all_leagues'] as $news){
                                              echo '&lt;option class="select_leagues" id="select_news_league" data-id="'.$news-&gt;id.'" value="'.$news-&gt;id.'"&gt;'.$news-&gt;name.'&lt;/option&gt;';
                                              }

                                           }
                                      ?&gt;

                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                  &lt;label class="col-md-2 control-label" for="user_email"&gt;Team&lt;/label&gt;
                                  &lt;div class="col-md-4"&gt;
                                    &lt;select id="add_game_team" name="news_team_id" class="form-control new_team"&gt;   
                                    &lt;/select&gt;                                

                                  &lt;/div&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 

                              &lt;div class="form-group" style="display:none;"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Sponsor &lt;/label&gt;  
                                &lt;div class="col-md-9" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-4"&gt;
                                  &lt;select name="sponser" id="sponser_id" class="form-control sponser_class"&gt;
                                    &lt;option value="0"&gt;select sponsor &lt;/opton&gt;
                                       &lt;?php
                                          if(!empty($kroo_news['sponser'])){
                                            foreach($kroo_news['sponser'] as $sponser){ 
                                              echo '&lt;option class="" id="" data-id="'.$sponser-&gt;id.'" value="'.$sponser-&gt;id.'"&gt;'.$sponser-&gt;label.'&lt;/option&gt;';
                                              }

                                           }
                                      ?&gt;

                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 
                              
                              &lt;div class="form-group" id="ques_hint"&gt;
                                &lt;label class="col-md-2 control-label" for="ques_hint"&gt;Hint&lt;/label&gt;  
                                &lt;div class="col-md-6"&gt;
                                  &lt;input id="hint" name="hint" placeholder="Hint" class="form-control input-md" type="text" value=""&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Link&lt;/label&gt;  
                                &lt;div class="col-md-6" id="link"&gt;
                                  &lt;input id="linkid" name="link" placeholder="Link" class="form-control input-md" type="text" value=""&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;


                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Explanation&lt;/label&gt;  
                                &lt;div class="col-md-7" id="exp"&gt;
                                  &lt;textarea id="explanation_answer" class="form-control" rows="3" maxlength="500" name="exp_answer" onKeyDown="limitText(this,100);" onKeyUp="limitText(this,300);"&gt;&lt;/textarea&gt;
                                &lt;p style="font-size: 11px;"&gt;Max 100 characters allowed&lt;/p&gt;    
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                               &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Time to Answer (TTA)&lt;/label&gt;  
                                &lt;div class="col-md-10" style="padding-left: 0px;"&gt;
                                    &lt;div class="col-md-6" style="width: 38%;"&gt;
</codefragment>
  </duplication>
  <duplication lines="28" tokens="79">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="3"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/controllers/dashboard.php" line="3"/>
    <codefragment>class Dashboard extends Controller {
    
    function __construct()
    {
        parent::__construct();
        $this-&gt;apiKey = "e9mggbacu8jee2sb7ahy53uk";
        $this-&gt;apiSecret = "6nUUnHkTZUqz5Qf5hDXnYTeZG4VtJ75D4SNF5pBPWKqM2";
        $this-&gt;token='';
        $this-&gt;tokenType='';
        $this-&gt;load-&gt;model('dashboard_model');
        $this-&gt;load-&gt;helper('getty_helper');
    }

    function index()
    {
        $this-&gt;main();
    }
    
    public function main()
    {
        if($this-&gt;session-&gt;userdata('id'))
        {           

            $data['header'] = "News | Kroo Admin";
            $data['kroo_news']['all_leagues'] = $this-&gt;dashboard_model-&gt;all_leagues();
            $data['kroo_news']['sponser'] = $this-&gt;dashboard_model-&gt;sponser();                              
            $data['getNewsSummary'] = $this-&gt;dashboard_model-&gt;getNewsSummary(); 
            //$data['getFantasySummary'] = $this-&gt;dashboard_model-&gt;getFantasySummary();
</codefragment>
  </duplication>
  <duplication lines="54" tokens="219">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="32"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/controllers/dashboard.php" line="32"/>
    <codefragment>            $data['main_content']='dashboard';

            $ch_fltr2 = $this-&gt;dashboard_model-&gt;get_all_channels(2);            
            $full_name = '';
            $i=0;
            foreach($ch_fltr2 as $row){
                $ch_name = explode("_",$row['value']);                
                foreach($ch_name as $col){
                    $name = strtoupper($col);
                    $full_name = $full_name.$name.' ';
                }
                $data['channel2'][$i]['id'] = $row['channel'];
                $data['channel2'][$i]['name'] = $full_name;
                $i++;
                $full_name = '';
            }

            $ch_fltr31 = $this-&gt;dashboard_model-&gt;get_all_channels(31);            
            $full_name = '';
            $j=0;
            foreach($ch_fltr31 as $row){
                $ch_name = explode("_",$row['value']);                
                foreach($ch_name as $col){
                    $name = strtoupper($col);
                    $full_name = $full_name.$name.' ';
                }
                $data['channel31'][$j]['id'] = $row['channel'];
                $data['channel31'][$j]['name'] = $full_name;
                $j++;
                $full_name = '';
            }

            $this-&gt;load-&gt;view('layout/admin_template',$data);
            //header("Content-type: application/json");
            //echo json_encode($data);
        }
        else{

            $this-&gt;load-&gt;view('home/home');
            //redirect(SITEURL);
        }
    }
        
               
        // Get the news listing
    public function kroo_news_listing()
    {
        $fltr['channelID']   =($this-&gt;input-&gt;post('channelID'))?$this-&gt;input-&gt;post('channelID'):'';
        $fltr['leagueID']   =($this-&gt;input-&gt;post('leagueId'))?$this-&gt;input-&gt;post('leagueId'):'';
        $fltr['teamID']     =($this-&gt;input-&gt;post('teamId'))?$this-&gt;input-&gt;post('teamId'):'';
        $fltr['newsType']   =($this-&gt;input-&gt;post('news_type')!='')?$this-&gt;input-&gt;post('news_type'):'';
        $fltr['dateFrom']   =($this-&gt;input-&gt;post('from_date'))?$this-&gt;input-&gt;post('from_date'):'';
        $fltr['dateTo']     =($this-&gt;input-&gt;post('to_date'))?$this-&gt;input-&gt;post('to_date'):'';
        $fltr['news_category']     = array();
</codefragment>
  </duplication>
  <duplication lines="38" tokens="218">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="92"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/controllers/dashboard.php" line="86"/>
    <codefragment>        $kroo['kroo_news']=$this-&gt;dashboard_model-&gt;kroo_news_list($fltr['channelID'],$fltr['leagueID'],$fltr['teamID'],$fltr['newsType'],$fltr['dateFrom'],$fltr['dateTo'],$fltr['news_category']);
        $k=0;
        if(count($kroo['kroo_news'])&gt;0){
            foreach($kroo['kroo_news'] as $knews){

                $dd = strtotime($knews['rss_sports_created_at']);

                $data['kroo_news'][$k]['rss_sports_id']             = $knews['rss_sports_id'];
                $data['kroo_news'][$k]['league_team_id']            = $knews['rss_team_id'];
                $data['kroo_news'][$k]['rss_sports_title']          = $knews['rss_sports_title'];
                $data['kroo_news'][$k]['rss_sports_summary']        = $knews['rss_sports_summary'];
                $data['kroo_news'][$k]['rss_sports_image']          = $knews['rss_sports_image'];
                $data['kroo_news'][$k]['rss_sports_url']            = $knews['rss_sports_url'];
                $data['kroo_news'][$k]['rss_sports_created_at']     = date('D d M, Y  g:i a',$dd);
                $source =  explode('.com', $knews['rss_sports_url']);                           
                $data['kroo_news'][$k]['rss_sports_source']         = str_replace('http://','',$source[0].'.com');  
                $data['kroo_news'][$k]['rss_sports_is_deleted']     = $knews['rss_sports_is_deleted'];

                $source =  explode('.com', $knews['sports_url']);
                $data['kroo_news'][$k]['sports_source']             = str_replace('http://','',$source[0].'.com');                
                $data['kroo_news'][$k]['sports_id']                 = $knews['sports_id'];  
                $data['kroo_news'][$k]['rss_sports_news_id']        = $knews['rss_sports_news_id'];              
                $data['kroo_news'][$k]['sports_title']              = $knews['sports_title'];
                $data['kroo_news'][$k]['sports_summary']            = $knews['sports_summary'];
                $data['kroo_news'][$k]['sports_image']              = $knews['sports_image'];
                $data['kroo_news'][$k]['sports_url']                = $knews['sports_url'];

                $data['kroo_news'][$k]['sports_published_at']       = $knews['sports_published_at'];
                $data['kroo_news'][$k]['sports_notified_at']        = $knews['sports_notified_at'];
                $data['kroo_news'][$k]['sports_is_deleted']         = $knews['sports_is_deleted'];
                $data['kroo_news'][$k]['sports_edited_by_admin_id'] = $knews['sports_edited_by_admin_id']; 

                $data['kroo_news'][$k]['rss_team_name']             = $knews['rss_team_name'];            
                $data['kroo_news'][$k]['rss_league_name']           = $knews['rss_league_name'];              
                $data['kroo_news'][$k]['league_team_logo']          = ($fltr['news_category']==2)? $knews['rss_team_logo']:$knews['rss_league_logo'];  
                $channel                                            = explode('_', $knews['channel_name']);
                $data['kroo_news'][$k]['channel_name']              = strtoupper($channel[0]);  
                $data['kroo_news'][$k]['news_category']             = $knews['news_category'];
</codefragment>
  </duplication>
  <duplication lines="82" tokens="450">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="133"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/controllers/dashboard.php" line="127"/>
    <codefragment>                $news_type = 'kroo';
                $admin_activity = $this-&gt;dashboard_model-&gt;get_activity_by_news($knews['rss_sports_id'],$news_type);
                $x=0;
                foreach($admin_activity as $val){
                    $data['kroo_news'][$k]['activity'][$x]['activity_user']     = $this-&gt;dashboard_model-&gt;get_username_by_id($val['activity_user_id']);
                    $data['kroo_news'][$k]['activity'][$x]['activity_action']   = $val['activity_action']; 
                    $x++;                
                }

                $k++;
            }
            //echo '&lt;pre&gt;'; var_dump($data); echo '&lt;/pre&gt;'; exit;
            $this-&gt;load-&gt;view('listing',$data);
        }else{
            echo "END";
        }
    }


    public function kroo_news_video()
    {      
        $fltr['channelID']   =($this-&gt;input-&gt;post('channelID'))?$this-&gt;input-&gt;post('channelID'):'';
        $fltr['leagueID']   =($this-&gt;input-&gt;post('leagueId'))?$this-&gt;input-&gt;post('leagueId'):'';
        $fltr['teamID']     =($this-&gt;input-&gt;post('teamId'))?$this-&gt;input-&gt;post('teamId'):'';
        $fltr['newsType']   =($this-&gt;input-&gt;post('news_type')!='')?$this-&gt;input-&gt;post('news_type'):'';
        $fltr['dateFrom']   =($this-&gt;input-&gt;post('from_date'))?$this-&gt;input-&gt;post('from_date'):'';
        $fltr['dateTo']     =($this-&gt;input-&gt;post('to_date'))?$this-&gt;input-&gt;post('to_date'):'';
        $fltr['news_category']     = ($this-&gt;input-&gt;post('newsCategory'))?$this-&gt;input-&gt;post('newsCategory'):'';
        $fltr['content_type']     = ($this-&gt;input-&gt;post('contentType'))?$this-&gt;input-&gt;post('contentType'):'';
        $kroo['kroo_news']=$this-&gt;dashboard_model-&gt;kroo_news_video($fltr['channelID'],$fltr['leagueID'],$fltr['teamID'],$fltr['newsType'],$fltr['dateFrom'],$fltr['dateTo'],$fltr['news_category'],$fltr['content_type']);
        $k=0;
        if(count($kroo['kroo_news'])&gt;0){
            foreach($kroo['kroo_news'] as $knews){

                $dd = strtotime($knews['rss_sports_created_at']);

                $data['kroo_news'][$k]['rss_sports_id']             = $knews['rss_sports_id'];
                $data['kroo_news'][$k]['league_team_id']            = $knews['rss_team_id'];
                $data['kroo_news'][$k]['rss_league_id']             = $knews['rss_league_id'];
                $data['kroo_news'][$k]['rss_sports_title']          = $knews['rss_sports_title'];
                $data['kroo_news'][$k]['rss_sports_summary']        = $knews['rss_sports_summary'];
                $data['kroo_news'][$k]['rss_sports_image']          = $knews['rss_sports_image'];
                $data['kroo_news'][$k]['rss_sports_url']            = $knews['rss_sports_url'];
                $data['kroo_news'][$k]['rss_sports_created_at']     = date('D d M, Y  g:i a',$dd);
                $source =  explode('.com', $knews['rss_sports_url']);                           
                $data['kroo_news'][$k]['rss_sports_source']         = str_replace('http://','',$source[0].'.com');  
                $data['kroo_news'][$k]['rss_sports_is_deleted']     = $knews['rss_sports_is_deleted'];

                $source =  explode('.com', $knews['sports_url']);
                $data['kroo_news'][$k]['sports_source']             = str_replace('http://','',$source[0].'.com');                
                $data['kroo_news'][$k]['sports_id']                 = $knews['sports_id'];  
                $data['kroo_news'][$k]['rss_sports_news_id']        = $knews['rss_sports_news_id'];              
                $data['kroo_news'][$k]['sports_title']              = $knews['sports_title'];
                $data['kroo_news'][$k]['sports_summary']            = $knews['sports_summary'];
                $data['kroo_news'][$k]['sports_image']              = $knews['sports_image'];
                $data['kroo_news'][$k]['sports_url']                = $knews['sports_url'];

                $data['kroo_news'][$k]['sports_published_at']       = $knews['sports_published_at'];
                $data['kroo_news'][$k]['sports_notified_at']        = $knews['sports_notified_at'];
                $data['kroo_news'][$k]['sports_is_deleted']         = $knews['sports_is_deleted'];
                $data['kroo_news'][$k]['sports_edited_by_admin_id'] = $knews['sports_edited_by_admin_id']; 

                $data['kroo_news'][$k]['rss_team_name']             = $knews['rss_team_name'];            
                $data['kroo_news'][$k]['rss_league_name']           = $knews['rss_league_name'];              
                $data['kroo_news'][$k]['league_team_logo']          = ($fltr['news_category']==2)? $knews['rss_team_logo']:$knews['rss_league_logo'];  
                $channel                                            = explode('_', $knews['channel_name']);
                $data['kroo_news'][$k]['channel_name']              = strtoupper($channel[0]);  
                $data['kroo_news'][$k]['news_category']             = $fltr['news_category'];
                $data['kroo_news'][$k]['game_id']                   = $knews['game_id'];
                $data['kroo_news'][$k]['tags']                      = $knews['tags'];

               
                $news_type = 'kroo';
                $admin_activity = $this-&gt;dashboard_model-&gt;get_activity_by_news($knews['rss_sports_id'],$news_type);
                $x=0;
                foreach($admin_activity as $val){
                    $data['kroo_news'][$k]['activity'][$x]['activity_user']     = $this-&gt;dashboard_model-&gt;get_username_by_id($val['activity_user_id']);
                    $data['kroo_news'][$k]['activity'][$x]['activity_action']   = $val['activity_action']; 
                    $x++;                
                }

                $k++;
</codefragment>
  </duplication>
  <duplication lines="372" tokens="1484">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="205"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/controllers/dashboard.php" line="197"/>
    <codefragment>                $news_type = 'kroo';
                $admin_activity = $this-&gt;dashboard_model-&gt;get_activity_by_news($knews['rss_sports_id'],$news_type);
                $x=0;
                foreach($admin_activity as $val){
                    $data['kroo_news'][$k]['activity'][$x]['activity_user']     = $this-&gt;dashboard_model-&gt;get_username_by_id($val['activity_user_id']);
                    $data['kroo_news'][$k]['activity'][$x]['activity_action']   = $val['activity_action']; 
                    $x++;                
                }

                $k++;
            }
            $this-&gt;load-&gt;view('video_listing',$data);
        }else{
            echo "END";
        }
    }

    

    public function get_team($league_id){
        $league_teams = $this-&gt;dashboard_model-&gt;league_teams($league_id);
        $data =  array();
        $i=0;
        foreach($league_teams as $league_teams){

            $data[$i]['league_team_id']     = $league_teams['id'];
            $data[$i]['league_team_name']   = $league_teams['name'];
            $data[$i]['league_team_logo']   = $league_teams['logo'];
            $i++;
        }
        echo json_encode($data);
    }

    public function get_player($league_id,$team_id){
        $league_players = $this-&gt;dashboard_model-&gt;league_players($league_id,$team_id);
        $data =  array();
        $i=0;
        foreach($league_players as $league_players){
          
            $data[$i]['player_name']        = $league_players['name_full'];
            $data[$i]['player_name_abbr']   = $league_players['name_abbr'];
            $data[$i]['player_position']    = $league_players['position'];
            $i++;
        }
        echo json_encode($data);
    }
        
    public function kroo_news_search(){

        $search_key = $this-&gt;input-&gt;post('search_key');
        $tab_index = $this-&gt;input-&gt;post('tab_index');

        $responce['news'] = $this-&gt;dashboard_model-&gt;kroo_news_search($search_key, $tab_index);
        $k=0;
        if(count($responce['news'])&gt;0){

            if($tab_index == 0 || $tab_index ==1){

                foreach($responce['news'] as $knews){

                    $dd = strtotime($knews['rss_sports_created_at']);
                    
                    $data['kroo_news'][$k]['rss_sports_id']             = $knews['rss_sports_id'];
                    $data['kroo_news'][$k]['league_team_id']            = $knews['rss_team_id'];
                    $data['kroo_news'][$k]['rss_sports_title']          = $knews['rss_sports_title'];
                    $data['kroo_news'][$k]['rss_sports_summary']        = $knews['rss_sports_summary'];
                    $data['kroo_news'][$k]['rss_sports_image']          = $knews['rss_sports_image'];
                    $data['kroo_news'][$k]['rss_sports_url']            = $knews['rss_sports_url'];
                    $data['kroo_news'][$k]['rss_sports_created_at']     = date('D d M, Y  g:i a',$dd);
                    $source =  explode('.com', $knews['rss_sports_url']);                           
                    $data['kroo_news'][$k]['rss_sports_source']         = str_replace('http://','',$source[0].'.com'); 
                    $data['kroo_news'][$k]['rss_sports_is_deleted']     = $knews['rss_sports_is_deleted'];

                    $source =  explode('.com', $knews['sports_url']);
                    $data['kroo_news'][$k]['sports_source']             = str_replace('http://','',$source[0].'.com');                   
                    $data['kroo_news'][$k]['sports_id']                 = $knews['sports_id'];  
                    $data['kroo_news'][$k]['rss_sports_news_id']        = $knews['rss_sports_news_id'];              
                    $data['kroo_news'][$k]['sports_title']              = $knews['sports_title'];
                    $data['kroo_news'][$k]['sports_summary']            = $knews['sports_summary'];
                    $data['kroo_news'][$k]['sports_image']              = $knews['sports_image'];
                    $data['kroo_news'][$k]['sports_url']                = $knews['sports_url'];

                    $data['kroo_news'][$k]['sports_published_at']       = $knews['sports_published_at'];
                    $data['kroo_news'][$k]['sports_notified_at']        = $knews['sports_notified_at'];
                    $data['kroo_news'][$k]['sports_is_deleted']         = $knews['sports_is_deleted'];
                    $data['kroo_news'][$k]['sports_edited_by_admin_id'] = $knews['sports_edited_by_admin_id'];               

                    $data['kroo_news'][$k]['rss_team_name']             = $knews['rss_team_name'];            
                    $data['kroo_news'][$k]['rss_league_name']           = $knews['rss_league_name'];              
                    $data['kroo_news'][$k]['league_team_logo']          = $knews['rss_team_logo'];  
                    $channel                                            = explode('_', $knews['channel_name']);
                    $data['kroo_news'][$k]['channel_name']              = strtoupper($channel[0]);                

                   

                    $news_type = 'kroo';
                    $admin_activity = $this-&gt;dashboard_model-&gt;get_activity_by_news($knews['rss_sports_id']);
                    $x=0;
                    foreach($admin_activity as $val){
                        $data['kroo_news'][$k]['activity'][$x]['activity_user']     = $this-&gt;dashboard_model-&gt;get_username_by_id($val['activity_user_id']);
                        $data['kroo_news'][$k]['activity'][$x]['activity_action']   = $val['activity_action']; 
                        $x++;                
                    }

                    $k++;
                }
                $this-&gt;load-&gt;view('listing',$data);

            }else if($tab_index == 2){

                foreach($responce['news'] as $pnews){

                    $dd = strtotime($pnews['rss_player_created_at']);

                    $data['player_news'][$k]['rss_player_id']             = $pnews['rss_player_id'];               
                    $data['player_news'][$k]['rss_player_title']          = $pnews['rss_player_title'];
                    $data['player_news'][$k]['rss_player_summary']        = $pnews['rss_player_summary'];
                    $data['player_news'][$k]['rss_player_image']          = $pnews['rss_player_image'];
                    $data['player_news'][$k]['rss_player_url']            = $pnews['rss_player_url'];
                    $data['player_news'][$k]['rss_player_created_at']     = date('D d M, Y  g:i a',$dd);                                          
                    $data['player_news'][$k]['rss_player_source']         = $pnews['rss_player_source'];
                    $data['player_news'][$k]['rss_player_is_deleted']     = $pnews['rss_player_is_deleted'];

                    
                    $data['player_news'][$k]['player_source']             = $pnews['rss_player_source'];
                    $data['player_news'][$k]['player_id']                 = $pnews['player_id'];  
                    $data['player_news'][$k]['rss_player_news_id']        = $pnews['rss_player_news_id'];              
                    $data['player_news'][$k]['player_title']              = $pnews['player_title'];
                    $data['player_news'][$k]['player_summary']            = $pnews['player_summary'];
                    $data['player_news'][$k]['player_image']              = $pnews['player_image'];
                    $data['player_news'][$k]['player_url']                = $pnews['player_url'];

                    $data['player_news'][$k]['player_published_at']       = $pnews['player_published_at'];
                    $data['player_news'][$k]['player_notified_at']        = $pnews['player_notified_at'];
                    $data['player_news'][$k]['player_is_deleted']         = $pnews['player_is_deleted'];
                    $data['player_news'][$k]['player_edited_by_admin_id'] = $pnews['player_edited_by_admin_id']; 

                    $data['player_news'][$k]['league_id']                 = $pnews['league_id'];            
                    $data['player_news'][$k]['league_name']               = $pnews['league_name'];              
                    $data['player_news'][$k]['league_logo']               = $pnews['league_logo'];

                    $data['player_news'][$k]['team_id']                   = $pnews['team_id'];            
                    $data['player_news'][$k]['team_name']                 = $pnews['team_name'];              
                    $data['player_news'][$k]['team_logo']                 = $pnews['team_logo'];
                    
                    $data['player_news'][$k]['channel_name']              = $pnews['channel_name'];
                    //$data['player_news'][$k]['news_category']              = $fltr['news_category'];


                   
                    $news_type = 'player';
                    $admin_activity = $this-&gt;dashboard_model-&gt;get_activity_by_news($pnews['rss_player_id'],$news_type);
                    $x=0;
                    foreach($admin_activity as $val){
                        $data['player_news'][$k]['activity'][$x]['activity_user']     = $this-&gt;dashboard_model-&gt;get_username_by_id($val['activity_user_id']);
                        $data['player_news'][$k]['activity'][$x]['activity_action']   = $val['activity_action']; 
                        $x++;                
                    }

                    $k++;
                }
                $this-&gt;load-&gt;view('player_listing',$data);
            }
            else if($tab_index == 3){

                foreach($responce['news'] as $wnews){

                    $dd = strtotime($wnews['rss_waiver_created_at']);

                    $data['waiver_news'][$k]['rss_waiver_id']             = $wnews['rss_waiver_id'];               
                    $data['waiver_news'][$k]['rss_waiver_title']          = $wnews['rss_waiver_title'];
                    $data['waiver_news'][$k]['rss_waiver_summary']        = $wnews['rss_waiver_summary'];
                    $data['waiver_news'][$k]['rss_waiver_image']          = $wnews['rss_waiver_image'];
                    $data['waiver_news'][$k]['rss_waiver_url']            = $wnews['rss_waiver_url'];
                    $data['waiver_news'][$k]['rss_waiver_created_at']     = date('D d M, Y  g:i a',$dd);                                          
                    $data['waiver_news'][$k]['rss_waiver_source']         = $wnews['rss_waiver_source'];
                    $data['waiver_news'][$k]['rss_waiver_is_deleted']     = $wnews['rss_waiver_is_deleted'];

                    
                    $data['waiver_news'][$k]['waiver_source']             = $wnews['rss_waiver_source'];
                    $data['waiver_news'][$k]['waiver_id']                 = $wnews['waiver_id'];  
                    $data['waiver_news'][$k]['rss_waiver_news_id']        = $wnews['rss_waiver_news_id'];              
                    $data['waiver_news'][$k]['waiver_title']              = $wnews['waiver_title'];
                    $data['waiver_news'][$k]['waiver_summary']            = $wnews['waiver_summary'];
                    $data['waiver_news'][$k]['waiver_image']              = $wnews['waiver_image'];
                    $data['waiver_news'][$k]['waiver_url']                = $wnews['waiver_url'];

                    $data['waiver_news'][$k]['waiver_published_at']       = $wnews['waiver_published_at'];
                    $data['waiver_news'][$k]['waiver_notified_at']        = $wnews['waiver_notified_at'];
                    $data['waiver_news'][$k]['waiver_is_deleted']         = $wnews['waiver_is_deleted'];
                    $data['waiver_news'][$k]['waiver_edited_by_admin_id'] = $wnews['waiver_edited_by_admin_id']; 

                    $data['waiver_news'][$k]['league_id']                 = $wnews['league_id'];            
                    $data['waiver_news'][$k]['league_name']               = $wnews['league_name'];              
                    $data['waiver_news'][$k]['league_logo']               = $wnews['league_logo'];
                    
                    $data['waiver_news'][$k]['channel_name']              = $wnews['channel_name'];
                    //$data['waiver_news'][$k]['news_category']              = $fltr['news_category'];


                   
                    $news_type = 'waiver';
                    $admin_activity = $this-&gt;dashboard_model-&gt;get_activity_by_news($wnews['rss_waiver_id'],$news_type);
                    $x=0;
                    foreach($admin_activity as $val){
                        $data['waiver_news'][$k]['activity'][$x]['activity_user']     = $this-&gt;dashboard_model-&gt;get_username_by_id($val['activity_user_id']);
                        $data['waiver_news'][$k]['activity'][$x]['activity_action']   = $val['activity_action']; 
                        $x++;                
                    }

                    $k++;
                }            
                $this-&gt;load-&gt;view('waiver_listing',$data);
            }


        }else{
            echo "END";
        }
    }


    public function waiver_news_listing(){
        $fltr['leagueID']   =($this-&gt;input-&gt;post('leagueId'))?$this-&gt;input-&gt;post('leagueId'):'';
        //$fltr['teamID']     =($this-&gt;input-&gt;post('teamId'))?$this-&gt;input-&gt;post('teamId'):'';
        $fltr['newsType']   =($this-&gt;input-&gt;post('news_type')!='')?$this-&gt;input-&gt;post('news_type'):'';
        $fltr['dateFrom']   =($this-&gt;input-&gt;post('from_date'))?$this-&gt;input-&gt;post('from_date'):'';
        $fltr['dateTo']     =($this-&gt;input-&gt;post('to_date'))?$this-&gt;input-&gt;post('to_date'):'';
        //$fltr['news_category']     = ($this-&gt;input-&gt;post('newsCategory'))?$this-&gt;input-&gt;post('newsCategory'):'';
        $kroo['waiver_news']=$this-&gt;dashboard_model-&gt;waiver_news_listing($fltr['leagueID'],$fltr['newsType'],$fltr['dateFrom'],$fltr['dateTo']);

        $k=0;
        if(count($kroo['waiver_news'])&gt;0){
            foreach($kroo['waiver_news'] as $wnews){

                $dd = strtotime($wnews['rss_waiver_created_at']);

                $data['waiver_news'][$k]['rss_waiver_id']             = $wnews['rss_waiver_id'];               
                $data['waiver_news'][$k]['rss_waiver_title']          = $wnews['rss_waiver_title'];
                $data['waiver_news'][$k]['rss_waiver_summary']        = $wnews['rss_waiver_summary'];
                $data['waiver_news'][$k]['rss_waiver_image']          = $wnews['rss_waiver_image'];
                $data['waiver_news'][$k]['rss_waiver_url']            = $wnews['rss_waiver_url'];
                $data['waiver_news'][$k]['rss_waiver_created_at']     = date('D d M, Y  g:i a',$dd);                                          
                $data['waiver_news'][$k]['rss_waiver_source']         = $wnews['rss_waiver_source'];
                $data['waiver_news'][$k]['rss_waiver_is_deleted']     = $wnews['rss_waiver_is_deleted'];

                
                $data['waiver_news'][$k]['waiver_source']             = $wnews['rss_waiver_source'];
                $data['waiver_news'][$k]['waiver_id']                 = $wnews['waiver_id'];  
                $data['waiver_news'][$k]['rss_waiver_news_id']        = $wnews['rss_waiver_news_id'];              
                $data['waiver_news'][$k]['waiver_title']              = $wnews['waiver_title'];
                $data['waiver_news'][$k]['waiver_summary']            = $wnews['waiver_summary'];
                $data['waiver_news'][$k]['waiver_image']              = $wnews['waiver_image'];
                $data['waiver_news'][$k]['waiver_url']                = $wnews['waiver_url'];

                $data['waiver_news'][$k]['waiver_published_at']       = $wnews['waiver_published_at'];
                $data['waiver_news'][$k]['waiver_notified_at']        = $wnews['waiver_notified_at'];
                $data['waiver_news'][$k]['waiver_is_deleted']         = $wnews['waiver_is_deleted'];
                $data['waiver_news'][$k]['waiver_edited_by_admin_id'] = $wnews['waiver_edited_by_admin_id']; 

                $data['waiver_news'][$k]['league_id']                 = $wnews['league_id'];            
                $data['waiver_news'][$k]['league_name']               = $wnews['league_name'];              
                $data['waiver_news'][$k]['league_logo']               = $wnews['league_logo'];
                
                $data['waiver_news'][$k]['channel_name']              = $wnews['channel_name'];
                //$data['waiver_news'][$k]['news_category']              = $fltr['news_category'];


               
                $news_type = 'waiver';
                $admin_activity = $this-&gt;dashboard_model-&gt;get_activity_by_news($wnews['rss_waiver_id'],$news_type);
                $x=0;
                foreach($admin_activity as $val){
                    $data['waiver_news'][$k]['activity'][$x]['activity_user']     = $this-&gt;dashboard_model-&gt;get_username_by_id($val['activity_user_id']);
                    $data['waiver_news'][$k]['activity'][$x]['activity_action']   = $val['activity_action']; 
                    $x++;                
                }

                $k++;
            }            
            $this-&gt;load-&gt;view('waiver_listing',$data);
        }else{
            echo "END";
        }


        // header("Content-type: application/json");
        // echo json_encode($data['waiver_news']);

    }

    public function player_news_listing(){
        $fltr['leagueID']   =($this-&gt;input-&gt;post('leagueId'))?$this-&gt;input-&gt;post('leagueId'):'';
        $fltr['teamID']     =($this-&gt;input-&gt;post('teamId'))?$this-&gt;input-&gt;post('teamId'):'';
        $fltr['newsType']   =($this-&gt;input-&gt;post('news_type')!='')?$this-&gt;input-&gt;post('news_type'):'';
        $fltr['dateFrom']   =($this-&gt;input-&gt;post('from_date'))?$this-&gt;input-&gt;post('from_date'):'';
        $fltr['dateTo']     =($this-&gt;input-&gt;post('to_date'))?$this-&gt;input-&gt;post('to_date'):'';
        $fltr['name_abbr']  =($this-&gt;input-&gt;post('name_abbr'))?$this-&gt;input-&gt;post('name_abbr'):'';
        $fltr['position']  =($this-&gt;input-&gt;post('position'))?$this-&gt;input-&gt;post('position'):'';
        //$fltr['news_category']     = ($this-&gt;input-&gt;post('newsCategory'))?$this-&gt;input-&gt;post('newsCategory'):'';
        $kroo['player_news']=$this-&gt;dashboard_model-&gt;player_news_listing($fltr['leagueID'],$fltr['newsType'],$fltr['dateFrom'],$fltr['dateTo'],$fltr['teamID'],$fltr['name_abbr'],$fltr['position'] );

        $k=0;
        if(count($kroo['player_news'])&gt;0){
            foreach($kroo['player_news'] as $pnews){

                $dd = strtotime($pnews['rss_player_created_at']);

                $data['player_news'][$k]['rss_player_id']             = $pnews['rss_player_id'];               
                $data['player_news'][$k]['rss_player_title']          = $pnews['rss_player_title'];
                $data['player_news'][$k]['rss_player_summary']        = $pnews['rss_player_summary'];
                $data['player_news'][$k]['rss_player_image']          = $pnews['rss_player_image'];
                $data['player_news'][$k]['rss_player_url']            = $pnews['rss_player_url'];
                $data['player_news'][$k]['rss_player_created_at']     = date('D d M, Y  g:i a',$dd);                                          
                $data['player_news'][$k]['rss_player_source']         = $pnews['rss_player_source'];
                $data['player_news'][$k]['rss_player_is_deleted']     = $pnews['rss_player_is_deleted'];

                
                $data['player_news'][$k]['player_source']             = $pnews['rss_player_source'];
                $data['player_news'][$k]['player_id']                 = $pnews['player_id'];  
                $data['player_news'][$k]['rss_player_news_id']        = $pnews['rss_player_news_id'];              
                $data['player_news'][$k]['player_title']              = $pnews['player_title'];
                $data['player_news'][$k]['player_summary']            = $pnews['player_summary'];
                $data['player_news'][$k]['player_image']              = $pnews['player_image'];
                $data['player_news'][$k]['player_url']                = $pnews['player_url'];

                $data['player_news'][$k]['player_published_at']       = $pnews['player_published_at'];
                $data['player_news'][$k]['player_notified_at']        = $pnews['player_notified_at'];
                $data['player_news'][$k]['player_is_deleted']         = $pnews['player_is_deleted'];
                $data['player_news'][$k]['player_edited_by_admin_id'] = $pnews['player_edited_by_admin_id']; 

                $data['player_news'][$k]['league_id']                 = $pnews['league_id'];            
                $data['player_news'][$k]['league_name']               = $pnews['league_name'];              
                $data['player_news'][$k]['league_logo']               = $pnews['league_logo'];

                $data['player_news'][$k]['team_id']                   = $pnews['team_id'];            
                $data['player_news'][$k]['team_name']                 = $pnews['team_name'];              
                $data['player_news'][$k]['team_logo']                 = $pnews['team_logo'];
                
                $data['player_news'][$k]['channel_name']              = $pnews['channel_name'];
                //$data['player_news'][$k]['news_category']              = $fltr['news_category'];


               
                $news_type = 'player';
                $admin_activity = $this-&gt;dashboard_model-&gt;get_activity_by_news($pnews['rss_player_id'],$news_type);
                $x=0;
                foreach($admin_activity as $val){
                    $data['player_news'][$k]['activity'][$x]['activity_user']     = $this-&gt;dashboard_model-&gt;get_username_by_id($val['activity_user_id']);
                    $data['player_news'][$k]['activity'][$x]['activity_action']   = $val['activity_action']; 
                    $x++;                
                }

                $k++;
            }
            $this-&gt;load-&gt;view('player_listing',$data);
        }else{
            echo "END";
        }

        // header("Content-type: application/json");
        // echo json_encode($data['player_news']);

    }
        
    // End of My code


    public function update_news(){ 

        $image_name = $this-&gt;input-&gt;post('news_img');        
        $tab_index = $this-&gt;input-&gt;post('edit_tab_index');
</codefragment>
  </duplication>
  <duplication lines="87" tokens="342">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="590"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/controllers/dashboard.php" line="586"/>
    <codefragment>        $user_id = $this-&gt;session-&gt;userdata("id");
        $this-&gt;dashboard_model-&gt;news_edit_activity($news_id, $tab_index, $user_id);
        
        if(!empty(trim($image_name))){
            $this-&gt;dashboard_model-&gt;update_image($news_id,$image_name,$tab_index);

            if($tab_index==3){
                echo articleimage.$image_name; 
                //$image_url = 'https://kroo-images.s3.amazonaws.com/articleimage/'.$image_name;
            }
            else{
                echo newsimage.$image_name; 
                //$image_url = 'https://kroo-images.s3.amazonaws.com/newsimages/'.$image_name;
            }

            /*$ch = curl_init();
            curl_setopt($ch, CURLOPT_URL, $image_url);
            curl_setopt($ch, CURLOPT_POST, 0);
            curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
            curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($fields));
            $result = curl_exec($ch);
            curl_close($ch);*/

        }else{
            echo 'false';  // false for not updating image
        }
    }

    public function add_news($tab_index){
        $news_title =  addslashes($this-&gt;input-&gt;post('news_title'));
        $news_summary = addslashes($this-&gt;input-&gt;post('news_summary'));
        $news_url = ($this-&gt;input-&gt;post('news_url'))?$this-&gt;input-&gt;post('news_url'):'';
        $league_id =($this-&gt;input-&gt;post('news_league_id'))? $this-&gt;input-&gt;post('news_league_id'):0;
        $team_id = ($this-&gt;input-&gt;post('news_team_id'))?$this-&gt;input-&gt;post('news_team_id'):0;
        $img = ($this-&gt;input-&gt;post('news_img'))?$this-&gt;input-&gt;post('news_img'):'';
        $responce = $this-&gt;dashboard_model-&gt;add_news($tab_index,$news_title,$news_summary,$news_url,$league_id,$team_id,$img);

        header("Content-type: application/json");
        echo json_encode($responce);
    }

    public function add_player_news($tab_index){
        $news_title =  addslashes($this-&gt;input-&gt;post('news_title'));
        $news_summary = addslashes($this-&gt;input-&gt;post('news_summary'));
        $news_url = $this-&gt;input-&gt;post('news_url');
        $league_id = $this-&gt;input-&gt;post('news_league_id');
        $player_name = $this-&gt;input-&gt;post('txt_player_name');
        $team_code = $this-&gt;input-&gt;post('txt_player_code');
        $name_abbr = strtolower(str_replace(" ","-",$player_name));
        $img = ($this-&gt;input-&gt;post('news_img'))?$this-&gt;input-&gt;post('news_img'):'';

        $responce = $this-&gt;dashboard_model-&gt;add_player_news($tab_index,$news_title,$news_summary,$news_url,$league_id,$name_abbr,$team_code,$img);

        header("Content-type: application/json");
        echo json_encode($responce);
    }

    public function get_player_suggestion(){
        $keyword = $this-&gt;input-&gt;post('keyword');
        $responce = $this-&gt;dashboard_model-&gt;get_player_suggestion($keyword);

        header("Content-type: application/json");
        echo json_encode($responce);
    }

    public function update_fantasy_news(){
        $news_id = $this-&gt;input-&gt;post('edit_news_id');
        $news_title =  addslashes($this-&gt;input-&gt;post('edit_news_title'));
        $news_summary = addslashes($this-&gt;input-&gt;post('edit_news_summary'));
        $news_url = $this-&gt;input-&gt;post('edit_news_url');
        $edited_by_id = $this-&gt;session-&gt;userdata('id');
        $responce = $this-&gt;dashboard_model-&gt;update_fantasy_news($news_id,$news_title,$news_summary,$news_url,$edited_by_id);

        header("Content-type: application/json");
        echo json_encode($responce);
    }

    public function newspublished($news_id,$tab_index){                           
        $user_id = $this-&gt;session-&gt;userdata('id');
        $this-&gt;dashboard_model-&gt;news_publish_activity($news_id, $tab_index, $user_id);
        $result = $this-&gt;dashboard_model-&gt;newsPublish($news_id,$user_id);
        if($result != 'update'){
            foreach($result as $val){ 
                $team_id = $val['team_id']; 
                $league_id = $val['league_id']; 
</codefragment>
  </duplication>
  <duplication lines="28" tokens="72">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="691"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/controllers/dashboard.php" line="744"/>
    <codefragment>                $result = $this-&gt;dashboard_model-&gt;insert_published_news($news_data,$news_id,$team_id,$newsCategory,$league_id);         
            }            
        }

        header("Content-type: application/json");
        echo json_encode($result);  
    }

    public function hide_kroo_news($news_id,$tab_index){ //1282  
        $user_id = $this-&gt;session-&gt;userdata('id');
        $this-&gt;dashboard_model-&gt;news_hide_activity($news_id, $tab_index, $user_id);
        $result = $this-&gt;dashboard_model-&gt;hide_kroo_news($news_id, $tab_index);
        //$result = "kroo";
        header("Content-type: application/json");
        echo json_encode($result);
    }

    public function get_league_team($news_id){
        $result = $this-&gt;dashboard_model-&gt;get_league_team($news_id);

        header("Content-type: application/json");
        echo json_encode($result);
    }

    public function copy_news(){
        $news_id = $this-&gt;input-&gt;post('news_id');
        $team_id = $this-&gt;input-&gt;post('team_id');
        $news_category = $this-&gt;input-&gt;post('news_category');
</codefragment>
  </duplication>
  <duplication lines="41" tokens="97">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="789"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/controllers/dashboard.php" line="891"/>
    <codefragment>            $registrationIds = array();
            foreach ($contentAry as $key =&gt; $value) {
                if($value['device_type'] == 'Android' ){
                    $registrationIds[] = $value['device_token'];
                    unset($contentAry[$key]['device_token']);
                }
            }

            $msg = array(
                'title' =&gt; $contentAry[0]['title'],
                'data' =&gt; $contentAry[0],
                'vibrate' =&gt; 1,
                'sound' =&gt; 1,
                'largeIcon' =&gt; 'large_icon',
                'image_url'=&gt;'image_url',
                'description'=&gt;'news_description',
                'smallIcon' =&gt; 'small_icon'
            );

            $fields = array(
                'registration_ids' =&gt; $registrationIds,
                'data' =&gt; $msg
            );

            $headers = array(
                'Authorization: key=' . API_ACCESS_KEY,
                'Content-Type: application/json'
            );

            $ch = curl_init();
            curl_setopt($ch, CURLOPT_URL, 'https://android.googleapis.com/gcm/send');
            curl_setopt($ch, CURLOPT_POST, true);
            curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
            curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($fields));
            $result = curl_exec($ch);
            curl_close($ch);

            $android_res = json_decode($result);

</codefragment>
  </duplication>
  <duplication lines="61" tokens="132">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="854"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/controllers/dashboard.php" line="954"/>
    <codefragment>        $data['ios_res'] = $ios_res;


        header("Content-type: application/json");
        echo json_encode($data);   

    }


    public function checkAppleErrorResponse($fp) {

        $apple_error_response = fread($fp, 6);

        if ($apple_error_response) {

                $error_response = unpack('Ccommand/Cstatus_code/Nidentifier', $apple_error_response); 

                if ($error_response['status_code'] == '0') {
                $error_response['status_code'] = '0-No errors encountered';

                } else if ($error_response['status_code'] == '1') {
                $error_response['status_code'] = '1-Processing error';

                } else if ($error_response['status_code'] == '2') {
                $error_response['status_code'] = '2-Missing device token';

                } else if ($error_response['status_code'] == '3') {
                $error_response['status_code'] = '3-Missing topic';

                } else if ($error_response['status_code'] == '4') {
                $error_response['status_code'] = '4-Missing payload';

                } else if ($error_response['status_code'] == '5') {
                $error_response['status_code'] = '5-Invalid token size';

                } else if ($error_response['status_code'] == '6') {
                $error_response['status_code'] = '6-Invalid topic size';

                } else if ($error_response['status_code'] == '7') {
                $error_response['status_code'] = '7-Invalid payload size';

                } else if ($error_response['status_code'] == '8') {
                $error_response['status_code'] = '8-Invalid token';

                } else if ($error_response['status_code'] == '255') {
                $error_response['status_code'] = '255-None (unknown)';

                } else {
                $error_response['status_code'] = $error_response['status_code'].'-Not listed';

                }

                echo 'Response Command:- ' . $error_response['command'] . ', Identifier:- ' . $error_response['identifier'] . ', Status:&lt;b&gt;' . $error_response['status_code'] . '';

                return true;
        }

        return false;
    }

    public function mass_publish(){
</codefragment>
  </duplication>
  <duplication lines="163" tokens="511">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/controllers/dashboard.php" line="940"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/controllers/dashboard.php" line="1083"/>
    <codefragment>                    $result = $this-&gt;dashboard_model-&gt;insert_published_news($news_data,$news_id,$team_id,$newsCategory,$league_id);       
                }          
            }       
        }           

       if(!empty($ids)){

            header("Content-type: application/json");
            echo json_encode(true);
       }else{
            header("Content-type: application/json");
            echo json_encode(false);
       }

    }

    public function news_read_activity(){
        $news_id = $this-&gt;input-&gt;post('news_id');
        $tab_index = $this-&gt;input-&gt;post('tab_index');
        $user_id = $this-&gt;session-&gt;userdata('id');

        $result = $this-&gt;dashboard_model-&gt;news_read_activity($news_id, $tab_index, $user_id);

        header("Content-type: application/json");
        echo json_encode($result);
    }

    public function get_news_team_detail($team_id){           

        $responce = $this-&gt;dashboard_model-&gt;get_news_team_detail($team_id);
        $k=0;
        foreach($responce as $val){
            $data['league_id'] = $val['league_id'];
            $data['league_name'] = $val['name'];
            $responce['league_teams'] = $this-&gt;dashboard_model-&gt;league_teams($val['league_id']);
                $i=0;
                foreach($responce['league_teams'] as $league_teams){
                    $data['team'][$i]['league_team_id']     = $league_teams['id'];
                    $data['team'][$i]['league_team_name']   = $league_teams['name'];
                    $data['team'][$i]['league_team_logo']   = $league_teams['logo'];
                    $i++;
                }
            $k++;
        }

        header("Content-type: application/json");
        echo json_encode($data);

    }

    public function select_news_league($league_id){
        $responce['league_teams'] = $this-&gt;dashboard_model-&gt;league_teams($league_id);
        $i=0;
        foreach($responce['league_teams'] as $league_teams){
            $data['team'][$i]['league_team_id']     = $league_teams['id'];
            $data['team'][$i]['league_team_name']   = $league_teams['name'];
            $data['team'][$i]['league_team_logo']   = $league_teams['logo'];
            $i++;
        }

        header("Content-type: application/json");
        echo json_encode($data);            
    }

    public function getrssdata(){

        $xml=("http://espn.go.com/espn/rss/nfl/news");
        $xmlDoc = new DOMDocument();
        $xmlDoc-&gt;load($xml);
        $channel=$xmlDoc-&gt;getElementsByTagName('item');
        $news_count = $channel-&gt;length;           
       // echo $news_count;            
       for($i=0;$i&lt;$news_count;$i++){
            $channel=$xmlDoc-&gt;getElementsByTagName('item')-&gt;item($i);

            $data[$i]['title']      = $channel-&gt;getElementsByTagName('title')-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;
            $data[$i]['link']         = $channel-&gt;getElementsByTagName('link')-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;
            $data[$i]['description']       = $channel-&gt;getElementsByTagName('description')-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;
            $data[$i]['publish_at']     = $channel-&gt;getElementsByTagName('pubDate')-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;
            $data[$i]['rss_news_id']     = $channel-&gt;getElementsByTagName('guid')-&gt;item(0)-&gt;childNodes-&gt;item(0)-&gt;nodeValue;
       }       

        header("Content-type: application/json");
        echo json_encode($data);   
    }

    /* Getty Image */
    public function gettyauth(){
        /**
        * Authenticate with the OAuth2 client credentials flow
        */

        $endpoint = "https://api.gettyimages.com/oauth2/token";
        $curl = getCurlForFormPost($endpoint);
        setFormData($curl, array("grant_type" =&gt; "client_credentials",
                                 "client_id" =&gt; $this-&gt;apiKey,
                                 "client_secret" =&gt; $this-&gt;apiSecret));

        $resultObj = executeCurl($curl);
        $response = json_decode($resultObj['body'],true);

        $this-&gt;token = $response["access_token"];
        $this-&gt;tokenType = $response["token_type"];
    }

    public function searchgetty($search_text){  
        if($search_text==''){
            echo json_encode(array('responseText' =&gt; "Search Text Empty!" ));  
            exit;
        }
        $endpoint = "https://api.gettyimages.com/v3/search/images/editorial";
        $queryParams = array("phrase" =&gt; $search_text,"fields"=&gt;"detail_set");
        //$queryParams = array("phrase" =&gt; $search_text,"editorial_segments" =&gt; "sport","fields" =&gt; "product_types,editorial_segments,asset_family,call_for_image,caption, collection_code,collection_id,collection_name, copyright,date_created,editorial_segments,event_ids,title,uri_oembed");
        $endpoint = $endpoint. (strpos($endpoint, '?') === FALSE ? '?' : ''). http_build_query($queryParams);

        $curl = getCurl($endpoint);
        curl_setopt($curl,CURLOPT_HTTPHEADER,array("Api-Key:".$this-&gt;apiKey));

        $response = json_decode(executeCurl($curl)['body'],true);
        echo json_encode(array('payload'=&gt;$response));
    }

    public function downloadImage($imageIdToGet) {
        if($imageIdToGet==''){
            echo json_encode(array('responseText' =&gt; "Invalid Download!"));  
            exit;
        }

        $this-&gt;gettyauth(); // reset the token and tokenType

        $endpoint = "https://api.gettyimages.com/v3/downloads/images/$imageIdToGet?height=2000&amp;auto_download=false";

        $headersToSend = array(CURLOPT_HTTPHEADER =&gt; array("Api-Key:".$this-&gt;apiKey,
                               "Authorization: ".$this-&gt;tokenType." ".$this-&gt;token,"Content-Type:"),
                                CURLOPT_FOLLOWLOCATION =&gt; TRUE); //this lets curl follow the 303

        $curl = getCurlForPost($endpoint,$headersToSend);
        $response = executeCurl($curl);

        $filename  = 'uploads/'. $imageIdToGet .'.jpg';
        file_put_contents($filename, json_decode($response['body'])-&gt;uri);
         echo json_encode(array('responseText' =&gt; "Downloaded successfully!"));
    }

    public function update_news_detail(){ 
        $news_detail = $this-&gt;input-&gt;post('editor1');      
        $news_id = $this-&gt;input-&gt;post('detail_id'); //echo $news_detail.$news_id ; die; 
        $responce = $this-&gt;dashboard_model-&gt;update_news_detail($news_detail,$news_id); 

            header("Content-type: application/json");
            echo json_encode($responce);
    }

    // get news details field for edit/ update details
    public function get_detail($news_id,$tab_index){
        $result = $this-&gt;dashboard_model-&gt;get_detail($news_id,$tab_index);

        header("Content-type: application/json");
        echo json_encode($result);
   }
   // get news row
   public function get_rss_news_detail($news_id){
        $result = $this-&gt;dashboard_model-&gt;get_rss_news_detail($news_id);
</codefragment>
  </duplication>
  <duplication lines="21" tokens="85">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="76"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="25"/>
    <codefragment>        if($leagueID&gt;0){
            $this-&gt;db-&gt;where('lg.id',$leagueID);
            $maxId+=500;
        }
        if($teamID&gt;0){
            $this-&gt;db-&gt;where('rsn.team_id',$teamID);
            $maxId=$max;
        }
        if($newsType &gt;= '0'){
            if($newsType == '0')
                $this-&gt;db-&gt;where('sn.published_at IS NULL', null, false);
            if($newsType == '1')
                 $this-&gt;db-&gt;where('sn.published_at !=', '0');
            if($newsType == '3')
                $this-&gt;db-&gt;where('sn.notified_at !=', '0');
            $maxId+=500;
        }
        $lmt=50+$this-&gt;input-&gt;post('lmt');
        $maxId=($lmt/50)*$maxId;
        $maxId=$max-$maxId;
        $maxId=($maxId&gt;1)?$maxId:1;
</codefragment>
  </duplication>
  <duplication lines="231" tokens="942">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="71"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="72"/>
    <codefragment>        $this-&gt;db-&gt;join('game as g','g.news_id = rsn.id','left');
        if($channelID &gt; 0){
            $this-&gt;db-&gt;where('rsn.channel',$channelID);
            $maxId=1000;
        }
        if($leagueID&gt;0){
            $this-&gt;db-&gt;where('lg.id',$leagueID);
            $maxId+=500;
        }
        if($teamID&gt;0){
            $this-&gt;db-&gt;where('rsn.team_id',$teamID);
            $maxId=$max;
        }
        if($newsType &gt;= '0'){
            if($newsType == '0')
                $this-&gt;db-&gt;where('sn.published_at IS NULL', null, false);
            if($newsType == '1')
                 $this-&gt;db-&gt;where('sn.published_at !=', '0');
            if($newsType == '3')
                $this-&gt;db-&gt;where('sn.notified_at !=', '0');
            $maxId+=500;
        }
        $lmt=50+$this-&gt;input-&gt;post('lmt');
        $maxId=($lmt/50)*$maxId;
        $maxId=$max-$maxId;
        $maxId=($maxId&gt;1)?$maxId:1;
        $maxId=($maxId&gt;1 &amp;&amp; $news_category==2)?$maxId:1;

        if(!empty($dateFrom) &amp;&amp; !empty($dateTo)){
            $this-&gt;db-&gt;where("(FROM_UNIXTIME(rsn.channel_published_at) BETWEEN '". $dateFrom . "' AND '" . $dateTo ."')");
        }
        //$this-&gt;db-&gt;where('rsn.id &gt;=',$maxId);
        $this-&gt;db-&gt;where("( rsn.is_deleted !='1' AND rsn.news_category = $news_category AND rsn.content_type = $content_type)");
        $this-&gt;db-&gt;order_by('FROM_UNIXTIME(rsn.channel_published_at)','DESC');
        $this-&gt;db-&gt;limit(50,$this-&gt;input-&gt;post('lmt'));
        $query=$this-&gt;db-&gt;get();
        //echo $this-&gt;db-&gt;last_query();
        return $query-&gt;result_array();
    }



    public function kroo_news_search($search_key, $tab_index){    
        $maxId=1;
        if($tab_index == 0){
            $this-&gt;db-&gt;select("rsn.id as rss_sports_id, rsn.team_id as rss_team_id,t.name as rss_team_name,t.logo as rss_team_logo, l.id as rss_league_id, l.name as rss_league_name, rsn.title as rss_sports_title,rsn.summary as rss_sports_summary, rsn.image as rss_sports_image, FROM_UNIXTIME(rsn.channel_published_at) as rss_sports_created_at, rsn.url as rss_sports_url, rsn.source as rss_sports_source, rsn.is_deleted as rss_sports_is_deleted, sn.source as sports_source,
               sn.id as sports_id,sn.rss_sports_news_id,sn.title as sports_title,sn.summary as sports_summary, sn.image as sports_image, sn.published_at as sports_published_at, 
               sn.updated_at as sports_updated_at, sn.url as sports_url, sn.notified_at as sports_notified_at, sn.edited_by_admin_id as sports_edited_by_admin_id, sn.is_deleted as sports_is_deleted,tm.value as channel_name");
            $this-&gt;db-&gt;from('rss_sports_news rsn');
            $this-&gt;db-&gt;join('sports_news as sn','sn.rss_sports_news_id = rsn.id','left');
            $this-&gt;db-&gt;join('teams as t','rsn.team_id=t.id','left');
            $this-&gt;db-&gt;join('leagues as l','t.league_id=l.id','left');
            $this-&gt;db-&gt;join('type_master as tm','rsn.channel = tm.id','left');
            $this-&gt;db-&gt;where('rsn.content_type !=','26');
            $this-&gt;db-&gt;where('rsn.id &gt;=',$maxId);
            $this-&gt;db-&gt;where("( rsn.is_deleted !='1' AND rsn.news_category = 2)");
            $this-&gt;db-&gt;where("sn.title LIKE '%$search_key%' OR rsn.title LIKE '%$search_key%' ");
            $this-&gt;db-&gt;order_by('FROM_UNIXTIME(rsn.channel_published_at)','DESC');
            //$this-&gt;db-&gt;limit(50,$this-&gt;input-&gt;post('lmt'));
            $query=$this-&gt;db-&gt;get();
            //echo $this-&gt;db-&gt;last_query();
            return $query-&gt;result_array();
            
        }else if($tab_index == 1){
             $this-&gt;db-&gt;select("rsn.id as rss_sports_id, rsn.team_id as rss_team_id,t.name as rss_team_name,t.logo as rss_team_logo, l.id as rss_league_id, l.name as rss_league_name, rsn.title as rss_sports_title,rsn.summary as rss_sports_summary, rsn.image as rss_sports_image, FROM_UNIXTIME(rsn.channel_published_at) as rss_sports_created_at, rsn.url as rss_sports_url, rsn.source as rss_sports_source, rsn.is_deleted as rss_sports_is_deleted, sn.source as sports_source,
               sn.id as sports_id,sn.rss_sports_news_id,sn.title as sports_title,sn.summary as sports_summary, sn.image as sports_image, sn.published_at as sports_published_at, 
               sn.updated_at as sports_updated_at, sn.url as sports_url, sn.notified_at as sports_notified_at, sn.edited_by_admin_id as sports_edited_by_admin_id, sn.is_deleted as sports_is_deleted,tm.value as channel_name");
            $this-&gt;db-&gt;from('rss_sports_news rsn');
            $this-&gt;db-&gt;join('sports_news as sn','sn.rss_sports_news_id = rsn.id','left');
            $this-&gt;db-&gt;join('teams as t','rsn.team_id=t.id','left');
            $this-&gt;db-&gt;join('leagues as l','t.league_id=l.id','left');
            $this-&gt;db-&gt;join('type_master as tm','rsn.channel = tm.id','left');
            $this-&gt;db-&gt;where('rsn.content_type !=','26');
            $this-&gt;db-&gt;where('rsn.id &gt;=',$maxId);
            $this-&gt;db-&gt;where("( rsn.is_deleted !='1' AND rsn.news_category = 31)");
            $this-&gt;db-&gt;where("sn.title LIKE '%$search_key%' OR rsn.title LIKE '%$search_key%' ");
            $this-&gt;db-&gt;order_by('FROM_UNIXTIME(rsn.channel_published_at)','DESC');
            //$this-&gt;db-&gt;limit(50,$this-&gt;input-&gt;post('lmt'));
            $query=$this-&gt;db-&gt;get();
            //echo $this-&gt;db-&gt;last_query();
            return $query-&gt;result_array();

        }else if($tab_index == 2){
            $this-&gt;db-&gt;select("rpn.id as rss_player_id,rpn.league_id as league_id,l.name as league_name,l.logo as league_logo,t.id as team_id,t.name as team_name,t.logo as team_logo,  rpn.title as rss_player_title, rpn.summary as rss_player_summary,rpn.image as rss_player_image, rpn.team_code as    rss_player_team_code, rpn.name_abbr as rss_player_name_abbr, rpn.created_at as rss_player_created_at, rpn.url as rss_player_url, rpn.source as rss_player_source, rpn.is_deleted as rss_player_is_deleted,pn.id as player_id, pn.rss_player_news_id, pn.title as player_title, pn.summary as player_summary, pn.image as player_image, pn.published_at as player_published_at,pn.url as player_url, pn.source as player_source, pn.notified_at as player_notified_at, pn.edited_by_admin_id as player_edited_by_admin_id, pn.is_deleted as player_is_deleted,tm.value as channel_name 
                FROM rss_player_news as rpn
                LEFT JOIN player_news as pn ON pn.rss_player_news_id= rpn.id
                LEFT JOIN leagues as l on l.id=rpn.league_id
                LEFT JOIN type_master as tm ON rpn.channel = tm.id
                LEFT JOIN teams as t on t.code = rpn.team_code AND t.league_id = rpn.league_id
                LEFT JOIN players as p on p.name_abbr = rpn.name_abbr");
                $this-&gt;db-&gt;where('rpn.id &gt;=',$maxId);
                $this-&gt;db-&gt;where("rpn.is_deleted !='1'");
                $this-&gt;db-&gt;where("pn.title LIKE '%$search_key%' OR rpn.title LIKE '%$search_key%' ");
                $this-&gt;db-&gt;order_by('FROM_UNIXTIME(rpn.channel_published_at)','DESC');
                $query=$this-&gt;db-&gt;get();
                echo $this-&gt;db-&gt;last_query();
                return $query-&gt;result_array();

        }else if($tab_index == 3){
            $this-&gt;db-&gt;select("rwn.id as rss_waiver_id,rwn.league_id as league_id,l.name as league_name,l.logo as league_logo, rwn.title as rss_waiver_title, rwn.summary as rss_waiver_summary, rwn.image as rss_waiver_image, rwn.team_code as    rss_waiver_team_code, rwn.name_abbr as rss_waiver_name_abbr, rwn.created_at as rss_waiver_created_at, rwn.url as rss_waiver_url, rwn.source as rss_waiver_source,rwn.is_deleted as rss_waiver_is_deleted, wn.id as waiver_id, wn.rss_waiver_news_id, wn.title as waiver_title, wn.summary as waiver_summary, wn.image as waiver_image, wn.published_at as waiver_published_at,wn.url as waiver_url, wn.source as waiver_source, wn.notified_at as waiver_notified_at, wn.edited_by_admin_id as waiver_edited_by_admin_id, wn.is_deleted as waiver_is_deleted,tm.value as channel_name
                FROM rss_waiver_news as rwn
                LEFT JOIN waiver_news as wn ON wn.rss_waiver_news_id= rwn.id
                LEFT JOIN leagues as l ON l.id = rwn.league_id
                LEFT JOIN type_master as tm ON rwn.channel = tm.id");
                $this-&gt;db-&gt;where('rwn.id &gt;=',$maxId);
                $this-&gt;db-&gt;where("rwn.is_deleted !='1'");
                $this-&gt;db-&gt;where("wn.title LIKE '%$search_key%' OR rwn.title LIKE '%$search_key%' ");
                $this-&gt;db-&gt;order_by('FROM_UNIXTIME(rwn.channel_published_at)','DESC');
                $query=$this-&gt;db-&gt;get();
                //echo $this-&gt;db-&gt;last_query();
                return $query-&gt;result_array();
        }
    }

    public function waiver_news_listing($leagueID,$newsType,$dateFrom,$dateTo){
        $maxId=1;
        $this-&gt;db-&gt;select("rwn.id as rss_waiver_id,rwn.league_id as league_id,l.name as league_name,l.logo as league_logo, rwn.title as rss_waiver_title, rwn.summary as rss_waiver_summary, rwn.image as rss_waiver_image, rwn.team_code as    rss_waiver_team_code, rwn.name_abbr as rss_waiver_name_abbr, rwn.created_at as rss_waiver_created_at, rwn.url as rss_waiver_url, rwn.source as rss_waiver_source,rwn.is_deleted as rss_waiver_is_deleted, wn.id as waiver_id, wn.rss_waiver_news_id, wn.title as waiver_title, wn.summary as waiver_summary, wn.image as waiver_image, wn.published_at as waiver_published_at,wn.url as waiver_url, wn.source as waiver_source, wn.notified_at as waiver_notified_at, wn.edited_by_admin_id as waiver_edited_by_admin_id, wn.is_deleted as waiver_is_deleted,tm.value as channel_name
            FROM rss_waiver_news as rwn
            LEFT JOIN waiver_news as wn ON wn.rss_waiver_news_id= rwn.id
            LEFT JOIN leagues as l ON l.id = rwn.league_id
            LEFT JOIN type_master as tm ON rwn.channel = tm.id");
        $this-&gt;db-&gt;where('rwn.id &gt;=',$maxId);
        if($leagueID &gt; 0){
             $this-&gt;db-&gt;where('rwn.league_id',$leagueID);
        }
        if($newsType &gt;= '0'){
            if($newsType == '0')
                $this-&gt;db-&gt;where('wn.published_at IS NULL', null, false);
            if($newsType == '1')
                 $this-&gt;db-&gt;where('wn.published_at !=', '0');
            if($newsType == '3')
                $this-&gt;db-&gt;where('wn.notified_at !=', '0');
        }
        if(!empty($dateFrom) &amp;&amp; !empty($dateTo)){
            $this-&gt;db-&gt;where("rwn.created_at BETWEEN '". $dateFrom . "' AND '" . $dateTo ."'");
        }
        $this-&gt;db-&gt;order_by('rwn.created_at','DESC');
        $this-&gt;db-&gt;limit(50,$this-&gt;input-&gt;post('lmt'));
        $query = $this-&gt;db-&gt;get();

        return $query-&gt;result_array();
    }

    public function player_news_listing_old($leagueID,$newsType,$dateFrom,$dateTo,$teamID,$name_abbr,$position){
        $maxId=1;
        $this-&gt;db-&gt;select("rpn.id as rss_player_id,rpn.league_id as league_id,l.name as league_name,l.logo as league_logo,t.id as team_id,t.name as team_name,t.logo as team_logo,  rpn.title as rss_player_title, rpn.summary as rss_player_summary,rpn.image as rss_player_image, rpn.team_code as    rss_player_team_code, rpn.name_abbr as rss_player_name_abbr, rpn.created_at as rss_player_created_at, rpn.url as rss_player_url, rpn.source as rss_player_source, rpn.is_deleted as rss_player_is_deleted,pn.id as player_id, pn.rss_player_news_id, pn.title as player_title, pn.summary as player_summary, pn.image as player_image, pn.published_at as player_published_at,pn.url as player_url, pn.source as player_source, pn.notified_at as player_notified_at, pn.edited_by_admin_id as player_edited_by_admin_id, pn.is_deleted as player_is_deleted,tm.value as channel_name 
                FROM rss_player_news as rpn
                LEFT JOIN player_news as pn ON pn.rss_player_news_id= rpn.id
                LEFT JOIN leagues as l on l.id=rpn.league_id
                LEFT JOIN type_master as tm ON rpn.channel = tm.id
                LEFT JOIN teams as t on t.code = rpn.team_code AND t.league_id = rpn.league_id
                LEFT JOIN players as p on p.name_abbr = rpn.name_abbr");
        //$this-&gt;db-&gt;where('rpn.id &gt;=',$maxId);
        $this-&gt;db-&gt;where("p.name_abbr = rpn.name_abbr AND p.league_id=rpn.league_id AND t.code = rpn.team_code");
        if($leagueID &gt; 0){
             $this-&gt;db-&gt;where('rpn.league_id',$leagueID);
        }
        if($teamID &gt; 0){
            $this-&gt;db-&gt;where('t.id',$teamID);   
        }
        if($name_abbr != ''){
            $this-&gt;db-&gt;where('rpn.name_abbr',$name_abbr);
        }
        if($position != ''){
            $this-&gt;db-&gt;where('p.position',$position);
        }
        if($newsType &gt;= '0'){
            if($newsType == '0')
                $this-&gt;db-&gt;where('pn.published_at IS NULL', null, false);
            if($newsType == '1')
                 $this-&gt;db-&gt;where('pn.published_at !=', '0');
            if($newsType == '3')
                $this-&gt;db-&gt;where('pn.notified_at !=', '0');
        }
        if(!empty($dateFrom) &amp;&amp; !empty($dateTo)){
            $this-&gt;db-&gt;where("rpn.created_at BETWEEN '". $dateFrom . "' AND '" . $dateTo ."'");
        }
        $this-&gt;db-&gt;order_by('rpn.created_at','DESC');
        $this-&gt;db-&gt;limit(50,$this-&gt;input-&gt;post('lmt'));
        $query = $this-&gt;db-&gt;get();
        echo $this-&gt;db-&gt;last_query();
        return $query-&gt;result_array();
    }


    public function player_news_listing($leagueID,$newsType,$dateFrom,$dateTo,$teamID,$name_abbr,$position){
        $maxId=1;
        $this-&gt;db-&gt;select("rpn.id as rss_player_id,rpn.league_id as league_id,l.name as league_name,l.logo as league_logo,t.id as team_id,t.name as team_name,t.logo as team_logo,  rpn.title as rss_player_title, rpn.summary as rss_player_summary,rpn.image as rss_player_image, rpn.team_code as    rss_player_team_code, rpn.name_abbr as rss_player_name_abbr, rpn.created_at as rss_player_created_at, rpn.url as rss_player_url, rpn.source as rss_player_source, rpn.is_deleted as rss_player_is_deleted,pn.id as player_id, pn.rss_player_news_id, pn.title as player_title, pn.summary as player_summary, pn.image as player_image, pn.published_at as player_published_at,pn.url as player_url, pn.source as player_source, pn.notified_at as player_notified_at, pn.edited_by_admin_id as player_edited_by_admin_id, pn.is_deleted as player_is_deleted,tm.value as channel_name");
        $this-&gt;db-&gt;from("rss_player_news as rpn");
        $this-&gt;db-&gt;join("leagues as l","rpn.league_id=l.id","left");
        $this-&gt;db-&gt;join("type_master as tm","rpn.channel = tm.id","left");
        $this-&gt;db-&gt;join("teams as t","rpn.team_code = t.code AND rpn.league_id = t.league_id","left");
        $this-&gt;db-&gt;join("players as p","rpn.name_abbr=p.name_abbr and rpn.league_id=p.league_id","left");        
        $this-&gt;db-&gt;join("player_news as pn","rpn.id = pn.rss_player_news_id","left");
        //$this-&gt;db-&gt;where('rpn.id &gt;=',$maxId);
        //$this-&gt;db-&gt;where("p.name_abbr = rpn.name_abbr AND p.league_id=rpn.league_id AND t.code = rpn.team_code");
        $this-&gt;db-&gt;where("p.team_id = t.id");
        if($leagueID &gt; 0){
             $this-&gt;db-&gt;where('rpn.league_id',$leagueID);
        }
        if($teamID &gt; 0){
            $this-&gt;db-&gt;where('t.id',$teamID);   
        }
        if($name_abbr != ''){
            $this-&gt;db-&gt;where('rpn.name_abbr',$name_abbr);
        }
        if($position != ''){
            $this-&gt;db-&gt;where('p.position',$position);
        }
        if($newsType &gt;= '0'){
            if($newsType == '0')
                $this-&gt;db-&gt;where('pn.published_at IS NULL', null, false);
            if($newsType == '1')
                 $this-&gt;db-&gt;where('pn.published_at !=', '0');
            if($newsType == '3')
                $this-&gt;db-&gt;where('pn.notified_at !=', '0');
        }
        if(!empty($dateFrom) &amp;&amp; !empty($dateTo)){
            $this-&gt;db-&gt;where("rpn.created_at BETWEEN '". $dateFrom . "' AND '" . $dateTo ."'");
        }
        $this-&gt;db-&gt;order_by('rpn.created_at','DESC');
        $this-&gt;db-&gt;limit(50,$this-&gt;input-&gt;post('lmt'));
        $query = $this-&gt;db-&gt;get();
        //echo $this-&gt;db-&gt;last_query();
        return $query-&gt;result_array();
    }



    public function check_team($news_id,$tab_index){
        if($tab_index==2){
</codefragment>
  </duplication>
  <duplication lines="32" tokens="95">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="302"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="303"/>
    <codefragment>            $query = $this-&gt;db-&gt;query("SELECT team_id FROM rss_sports_news WHERE id=$news_id");
            if($query-&gt;num_rows()&gt;0){
                $row = $query-&gt;row();
                $team_id = $row-&gt;team_id;
                return $team_id;
            }
        }
    }



    public function get_league_team($news_id){
        $query = $this-&gt;db-&gt;query("SELECT league_id FROM rss_sports_news WHERE id=$news_id AND news_category = 31");
        if($query-&gt;num_rows()&gt;0){
            $row = $query-&gt;row();
            $league_id = $row-&gt;league_id;
            $query = $this-&gt;db-&gt;query("SELECT * FROM teams WHERE league_id = $league_id");
            return $query-&gt;result_array();
        }else{
            $query = $this-&gt;db-&gt;query("SELECT * FROM teams");
            return $query-&gt;result_array();
        }
        
    }

    public function get_all_channels($news_category){
        $query = $this-&gt;db-&gt;query("SELECT a.channel,b.value FROM `rss_sports_news` a LEFT join type_master b on a.channel=b.id 
                                    where a.news_category=$news_category group by a.channel");
        return $query-&gt;result_array();
    }

    public function copy_news($news_id,$team_id,$news_category){
</codefragment>
  </duplication>
  <duplication lines="31" tokens="97">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="340"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="341"/>
    <codefragment>            $check = $this-&gt;db-&gt;query("SELECT * FROM rss_sports_news WHERE rss_item_id = '$rss_item_id' AND news_category = 31");
            if($check-&gt;num_rows() == 0){
                $query = $this-&gt;db-&gt;query("INSERT INTO rss_sports_news (league_id,title,summary,details,image,channel_published_at,url,image_status,rss_item_id,
                                        source,channel,is_deleted,news_category)
                                        SELECT t.league_id as league_id,rsn.title,rsn.summary,rsn.details,rsn.image,rsn.channel_published_at,rsn.url,rsn.image_status,rsn.rss_item_id,
                                        rsn.source,rsn.channel,rsn.is_deleted,31 FROM rss_sports_news as rsn
                                        LEFT JOIN teams as t on t.id = rsn.team_id
                                        WHERE rsn.id=$news_id ");
                $insert_id_rsn = $this-&gt;db-&gt;insert_id(); 
                $check_in_sn = $this-&gt;db-&gt;query("SELECT * FROM sports_news WHERE rss_sports_news_id=$insert_id_rsn AND news_category=31");
                if($check_in_sn-&gt;num_rows()== 0){
                    $this-&gt;db-&gt;query("INSERT INTO sports_news (rss_sports_news_id,title,summary,details,image,published_at,channel_published_at,url,
                                        source,channel,news_category)
                                        SELECT $insert_id_rsn,title,summary,details,image,UNIX_TIMESTAMP(),channel_published_at,url,source,channel,31 FROM rss_sports_news
                                        WHERE id=$news_id ");
                    $insert_id_sn = $this-&gt;db-&gt;insert_id(); 
                    $league_id = $this-&gt;db-&gt;query("SELECT t.league_id as league_id FROM rss_sports_news as rsn LEFT JOIN teams as t on t.id = rsn.team_id
                                        WHERE rsn.id=$news_id ");
                    foreach($league_id-&gt;result() as $row){
                        $league_id = $row-&gt;league_id;
                    }
                    $this-&gt;db-&gt;query("INSERT INTO sports_news_leagues (news_id,league_id) VALUES ($insert_id_sn,$league_id)");     

                }

                return $query;
            }else{
                return false;
            }
        }else if($news_category == 31){
            $check = $this-&gt;db-&gt;query("SELECT * FROM rss_sports_news WHERE rss_item_id = '$rss_item_id' AND news_category = 2");
</codefragment>
  </duplication>
  <duplication lines="79" tokens="211">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="370"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="372"/>
    <codefragment>            $check = $this-&gt;db-&gt;query("SELECT * FROM rss_sports_news WHERE rss_item_id = '$rss_item_id' AND news_category = 2");
            if($check-&gt;num_rows() == 0){
                $query = $this-&gt;db-&gt;query("INSERT INTO rss_sports_news (team_id,title,summary,details,image,channel_published_at,url,image_status,rss_item_id,
                                        source,channel,is_deleted,news_category)
                                        SELECT $team_id,rsn.title,rsn.summary,rsn.details,rsn.image,rsn.channel_published_at,rsn.url,rsn.image_status,rsn.rss_item_id,
                                        rsn.source,rsn.channel,rsn.is_deleted,2 FROM rss_sports_news as rsn
                                        LEFT JOIN teams as t on t.id = rsn.team_id
                                        WHERE rsn.id=$news_id ");
                $insert_id_rsn = $this-&gt;db-&gt;insert_id();

                $check_in_sn = $this-&gt;db-&gt;query("SELECT * FROM sports_news WHERE rss_sports_news_id=$insert_id_rsn AND news_category = 2");
                if($check_in_sn-&gt;num_rows()== 0){
                    $this-&gt;db-&gt;query("INSERT INTO sports_news (rss_sports_news_id,title,summary,details,image,published_at,channel_published_at,url,
                                        source,channel,news_category)
                                        SELECT $insert_id_rsn,title,summary,details,image,UNIX_TIMESTAMP(),channel_published_at,url,source,channel,2 FROM rss_sports_news
                                        WHERE id=$news_id ");
                    $insert_id_sn = $this-&gt;db-&gt;insert_id();
                    $this-&gt;db-&gt;query("INSERT INTO sports_news_teams (news_id,team_id) VALUES ($insert_id_sn,$team_id)");    
                }

                return $query;
            }else{
                return false;
            }
        }

        //return $rss_item_id;
    }
    
    public function league_teams($league_id){
        $query = $this-&gt;db-&gt;query("SELECT * FROM teams WHERE league_id='$league_id' order by name");
        return $query-&gt;result_array();
    }

    public function league_players($league_id,$team_id){
        $query = $this-&gt;db-&gt;query("SELECT DISTINCT name_full,name_abbr,position FROM players WHERE league_id = $league_id AND team_id = $team_id order by name_full");
        return $query-&gt;result_array();
    }

    public function player_news(){
        $query = $this-&gt;db-&gt;query("SELECT rpn.id as rss_player_id, rpn.title as rss_player_title, rpn.summary as rss_player_summary, rpn.image as rss_player_image, rpn.team_code as    rss_player_team_code, rpn.name_abbr as rss_player_name_abbr, rpn.created_at as rss_player_created_at, rpn.url as rss_player_url, rpn.source as rss_player_source,
                pn.id as player_id, pn.rss_player_news_id, pn.title as player_title, pn.summary as player_summary, pn.image as player_image, pn.published_at as player_published_at,pn.url as player_url, pn.source as player_source, pn.notified_at as player_notified_at, pn.edited_by_admin_id as player_edited_by_admin_id, pn.is_deleted as player_is_deleted FROM rss_player_news as rpn
                LEFT JOIN player_news as pn ON pn.rss_player_news_id= rpn.id");
        return $query-&gt;result_array();
    }

    public function waiver_news(){
        $query = $this-&gt;db-&gt;query("SELECT rwn.id as rss_waiver_id, rwn.title as rss_waiver_title, rwn.summary as rss_waiver_summary, rwn.image as rss_waiver_image, rwn.team_code as    rss_waiver_team_code, rwn.name_abbr as rss_waiver_name_abbr, rwn.created_at as rss_waiver_created_at, rwn.url as rss_waiver_url, rwn.source as rss_waiver_source,
                wn.id as waiver_id, wn.rss_waiver_news_id, wn.title as waiver_title, wn.summary as waiver_summary, wn.image as waiver_image, wn.published_at as waiver_published_at,wn.url as waiver_url, wn.source as waiver_source, wn.notified_at as waiver_notified_at, wn.edited_by_admin_id as waiver_edited_by_admin_id, wn.is_deleted as waiver_is_deleted FROM rss_waiver_news as rwn
                LEFT JOIN waiver_news as wn ON wn.rss_waiver_news_id= rwn.id");
        return $query-&gt;result_array();
    }


    public function league_team_logo($league_team_id){
        $query = $this-&gt;db-&gt;query("SELECT logo FROM teams WHERE id=$league_team_id");
        return $query-&gt;result();
    }
    public function all_leagues(){
        $query = $this-&gt;db-&gt;query("SELECT * FROM leagues");
        return $query-&gt;result();
    }

    public function sponser(){
        $query = $this-&gt;db-&gt;query("SELECT * FROM sponser");
        return $query-&gt;result();
    }

    public function getNewsSummary() {
        $data = $this-&gt;db-&gt;query('SELECT  (SELECT COUNT(id) FROM   rss_sports_news) AS total_Feeds, (SELECT COUNT(published_at) FROM   sports_news WHERE published_at != 0) AS total_Published,(SELECT COUNT(notified_at) FROM   sports_news WHERE notified_at != 0) AS total_Notifieds');
        if ($data-&gt;num_rows() &gt; 0) {            
            return $data-&gt;result();
        } else {
            return null;
        }
    }

    public function getArticleSummary() {
        $data = $this-&gt;db-&gt;query('SELECT  (SELECT COUNT(id) FROM   rss_waiver_news) AS total_w_feeds, (SELECT COUNT(published_at) FROM   waiver_news WHERE published_at != 0) AS total_w_published');
</codefragment>
  </duplication>
  <duplication lines="27" tokens="74">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="480"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="520"/>
    <codefragment>                $this-&gt;db-&gt;query("INSERT INTO sports_news_leagues (news_id,league_id) VALUES ($insert_id,$league_id)");    
            }            
            return $query;
        }
        
    }



    public function add_news($tab_index,$news_title,$news_summary,$news_url,$league_id,$team_id,$img){
        if($tab_index == 0 || $tab_index == 1 || $tab_index == 4){
            if($tab_index == 0 || $tab_index == 4){
                $query = $this-&gt;db-&gt;query("INSERT INTO rss_sports_news (team_id, title, summary, url, image, channel_published_at, channel,news_category) 
                VALUES ($team_id,'$news_title', '$news_summary', '$news_url', '$img',UNIX_TIMESTAMP(),64,2)");                      
                return $query;
            }
            else{
                $query = $this-&gt;db-&gt;query("INSERT INTO rss_sports_news (league_id, title, summary, url, image, channel_published_at, channel,news_category) 
                VALUES ($league_id,'$news_title', '$news_summary', '$news_url', '$img', UNIX_TIMESTAMP(),64,31)");                      
                return $query;
            }           
        }
    }

    public function newsNotifify($newsIdForNotify){
        
        $sval='1';
</codefragment>
  </duplication>
  <duplication lines="27" tokens="83">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="499"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="582"/>
    <codefragment>                return $query;
            }           
        }
    }

    public function newsNotifify($newsIdForNotify){
        
        $sval='1';
        $qry = 'select league_team_id from league_team_news where news_id = ?';
        $data=  $this-&gt;db-&gt;query($qry,$newsIdForNotify);
        $teamId = $data-&gt;result_array()[0]['league_team_id'];
       
        $qryUid = 'select user_id from user_league_teams where league_team_id = ?';
        $data=  $this-&gt;db-&gt;query($qryUid,$teamId);
        $teamIdAry = $data-&gt;result_array();
        
        foreach( $teamIdAry as $key =&gt;$val){
            
            $this-&gt;db-&gt;query ( 'INSERT INTO `notifications` ( `user_id`, `news_id`, `status`) VALUES (?, ?, ?)',[ $val['user_id'], $newsIdForNotify, $sval] );
        }

        $data = array('publish' =&gt; $sval, 'notified' =&gt; $sval);
        return $this-&gt;db-&gt;update('league_team_news', $data, array('news_id' =&gt; $newsIdForNotify, 'notified' =&gt; 0));
    }

    public function newsPublish($newsIdFor,$user_id,$tab_index){
        $query = $this-&gt;db-&gt;query("SELECT * FROM sports_news WHERE rss_sports_news_id='$newsIdFor'");
</codefragment>
  </duplication>
  <duplication lines="40" tokens="154">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="558"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="683"/>
    <codefragment>            $this-&gt;db-&gt;insert('sports_news', $news_data); 
            $insert_id = $this-&gt;db-&gt;insert_id();
            $result = $this-&gt;db-&gt;query("SELECT * FROM sports_news_leagues WHERE news_id=$insert_id AND league_id=$league_id");
            if($result-&gt;num_rows() &gt; 0){
                return 'true';
            }else{
                return $this-&gt;db-&gt;query("INSERT INTO sports_news_leagues (news_id, league_id) VALUES ($insert_id,$league_id)");
            }   
        }
    }

    public function insert_publishedArticle_news($news_data, $tab_index,$league_id){
        if($tab_index == 3){
            $this-&gt;db-&gt;insert('waiver_news', $news_data); 
            $insert_id = $this-&gt;db-&gt;insert_id();
            $result = $this-&gt;db-&gt;query("SELECT * FROM waiver_news_leagues WHERE news_id=$insert_id AND league_id=$league_id");
            if($result-&gt;num_rows() &gt; 0){
                return 'true';
            }else{
                return $this-&gt;db-&gt;query("INSERT INTO waiver_news_leagues (news_id, league_id) VALUES ($insert_id,$league_id)");
            }
            return 'true';
        }else{
            $this-&gt;db-&gt;insert('player_news', $news_data); 
            $news_id = $news_data['rss_player_news_id'];
            $insert_id = $this-&gt;db-&gt;insert_id();
            $player = $this-&gt;db-&gt;query("SELECT rpn.name_abbr,p.id as player_id,p.league_id, p.team_id FROM rss_player_news as rpn 
                                        LEFT JOIN players as p on p.name_abbr = rpn.name_abbr
                                        WHERE rpn.id = $news_id AND p.name_abbr = rpn.name_abbr");
            $row = $player-&gt;row();
            $player_id = $row-&gt;player_id;
            $league_id = $row-&gt;league_id;
            $team_id = $row-&gt;team_id;
            $this-&gt;db-&gt;query("INSERT INTO player_news_teams (news_id,team_id,player_id) VALUES ($insert_id,$team_id,$player_id)");    
            return 'true';
        }
        
    }

    public function getPlayerIdByName($player_name){
</codefragment>
  </duplication>
  <duplication lines="33" tokens="108">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="658"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="851"/>
    <codefragment>                WHERE sn.rss_sports_news_id = ?  AND (". $notilevel .") AND d.device_token IS NOT NULL AND d.device_token != '' GROUP BY device_token ORDER BY news_id ";
                $data = $this-&gt;db-&gt;query($qry,$newsIdForNotify);

            if ($data-&gt;num_rows() &gt; 0) {
                return $data-&gt;result_array();
            } else {
                return null;
            }
        }
        /*elseif($tab_index==2){
            $qry="SELECT pn.id AS news_id, pn.title, pn.summary, pn.details, pn.image, pn.url, pn.source, pn.author, pn.total_likes, pn.total_comments, pn.total_read, pn.total_shares, pn.channel_published_at, pnt.team_id, utf.user_id as user_id , utf.notification_status as notification_status, u.notification_level as notification_level , d.device_token as device_token, d.os as device_type, d.aws_arn as aws_arn, 4 as news_category
                FROM player_news_teams as pnt 
                LEFT JOIN player_news as pn ON pn.id = pnt.news_id 
                LEFT JOIN user_teams_follow as utf ON utf.team_id = pnt.team_id
                LEFT JOIN user_devices as ud on (ud.user_id = utf.user_id and ud.is_logged_in = '1')
                LEFT JOIN users as u on (u.id = utf.user_id and utf.notification_status = '1')
                LEFT JOIN devices as d on d.id = ud.devices_id
                WHERE pn.rss_player_news_id = ? AND (". $notilevel .") AND d.device_token IS NOT NULL AND d.device_token != '' GROUP BY device_token ORDER BY news_id ";
                $data = $this-&gt;db-&gt;query($qry,$newsIdForNotify);

            if ($data-&gt;num_rows() &gt; 0) {
                return $data-&gt;result_array();
            } else {
                return null;
            }
        }elseif($tab_index==3){    
            $qry="SELECT wn.id AS news_id, wn.title, wn.summary, wn.details, wn.image, wn.url, wn.source, wn.author, wn.total_likes, wn.total_comments, wn.total_read, wn.total_shares, wn.channel_published_at, wnt.league_id, ulf.user_id as user_id , ulf.notification_status as notification_status, u.notification_level as notification_level , d.device_token as device_token, d.os as device_type, d.aws_arn as aws_arn, 3 as news_category
                FROM waiver_news_leagues as wnt 
                LEFT JOIN waiver_news as wn ON wn.id = wnt.news_id 
                LEFT JOIN user_leagues_follow as ulf ON ulf.league_id = wnt.league_id
                LEFT JOIN user_devices as ud on (ud.user_id = ulf.user_id and ud.is_logged_in = '1')
                LEFT JOIN users as u on (u.id = ulf.user_id and ulf.notification_status = '1')
                LEFT JOIN devices as d on d.id = ud.devices_id
</codefragment>
  </duplication>
  <duplication lines="128" tokens="416">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="731"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="899"/>
    <codefragment>    public function getNewsByType($tab_index,$news_type){
        if($news_type == 2){
            $query = $this-&gt;db-&gt;query("SELECT rsn.id as rss_sports_id, rsn.team_id as rss_team_id, rsn.title as rss_sports_title,rsn.summary as rss_sports_summary, rsn.image as rss_sports_image, rsn.created_at as rss_sports_created_at, rsn.url as rss_sports_url,rsn.source as rss_sports_source, sn.source as sports_source,
            sn.id as sports_id,sn.rss_sports_news_id,sn.title as sports_title,sn.summary as sports_summary, sn.image as sports_image, sn.published_at as sports_published_at,
            sn.updated_at as sports_updated_at, sn.url as sports_url, sn.notified_at as sports_notified_at, sn.edited_by_admin_id as sports_edited_by_admin_id, sn.is_deleted as sports_is_deleted FROM rss_sports_news as rsn
            LEFT JOIN sports_news as sn on sn.rss_sports_news_id = rsn.id");
            return $query-&gt;result_array();
        }else if($news_type == 1){
            $query = $this-&gt;db-&gt;query("SELECT rsn.id as rss_sports_id, rsn.team_id as rss_team_id, rsn.title as rss_sports_title,rsn.summary as rss_sports_summary, rsn.image as rss_sports_image, rsn.created_at as rss_sports_created_at, rsn.url as rss_sports_url,rsn.source as rss_sports_source, sn.source as sports_source,
            sn.id as sports_id,sn.rss_sports_news_id,sn.title as sports_title,sn.summary as sports_summary, sn.image as sports_image, sn.published_at as sports_published_at,
            sn.updated_at as sports_updated_at, sn.url as sports_url, sn.notified_at as sports_notified_at, sn.edited_by_admin_id as sports_edited_by_admin_id, sn.is_deleted as sports_is_deleted FROM rss_sports_news as rsn
            LEFT JOIN sports_news as sn on sn.rss_sports_news_id = rsn.id
            WHERE sn.published_at != 0 ");
            return $query-&gt;result_array();
        }else if($news_type == 0){
            $query = $this-&gt;db-&gt;query("SELECT rsn.id as rss_sports_id, rsn.team_id as rss_team_id, rsn.title as rss_sports_title,rsn.summary as rss_sports_summary, rsn.image as rss_sports_image, rsn.created_at as rss_sports_created_at, rsn.url as rss_sports_url,rsn.source as rss_sports_source, sn.source as sports_source,
            sn.id as sports_id,sn.rss_sports_news_id,sn.title as sports_title,sn.summary as sports_summary, sn.image as sports_image, sn.published_at as sports_published_at,
            sn.updated_at as sports_updated_at, sn.url as sports_url, sn.notified_at as sports_notified_at, sn.edited_by_admin_id as sports_edited_by_admin_id, sn.is_deleted as sports_is_deleted FROM rss_sports_news as rsn
            LEFT JOIN sports_news as sn on sn.rss_sports_news_id = rsn.id
            WHERE sn.published_at = 0 ");
            return $query-&gt;result_array();
        }else if($news_type == 3){
            $query = $this-&gt;db-&gt;query("SELECT rsn.id as rss_sports_id, rsn.team_id as rss_team_id, rsn.title as rss_sports_title,rsn.summary as rss_sports_summary, rsn.image as rss_sports_image, rsn.created_at as rss_sports_created_at, rsn.url as rss_sports_url,rsn.source as rss_sports_source, sn.source as sports_source,
            sn.id as sports_id,sn.rss_sports_news_id,sn.title as sports_title,sn.summary as sports_summary, sn.image as sports_image, sn.published_at as sports_published_at,
            sn.updated_at as sports_updated_at, sn.url as sports_url, sn.notified_at as sports_notified_at, sn.edited_by_admin_id as sports_edited_by_admin_id, sn.is_deleted as sports_is_deleted FROM rss_sports_news as rsn
            LEFT JOIN sports_news as sn on sn.rss_sports_news_id = rsn.id
            WHERE sn.notified_at != 0 ");
            return $query-&gt;result_array();
        }
    }

    public function mass_publish($news_id,$tab_index){
        if($tab_index == 0){
                $query = $this-&gt;db-&gt;query("SELECT * FROM sports_news WHERE rss_sports_news_id='$news_id'");
                if($query-&gt;num_rows() &gt; 0){
                    $this-&gt;db-&gt;query("UPDATE sports_news SET published_at = UNIX_TIMESTAMP() WHERE rss_sports_news_id='$news_id'");
                    return 'update';
                }else{
                    $result = $this-&gt;db-&gt;query("SELECT * FROM rss_sports_news WHERE id='$news_id'");
                    return $result-&gt;result_array();
                }  
        }else if($tab_index == 2){
            return $this-&gt;db-&gt;query("UPDATE fantasy_news SET published =  1 WHERE fnews_id= $news_id ");
        }else if($tab_index == 3){
            return $this-&gt;db-&gt;query("UPDATE fantasy_news SET published =  1 WHERE fnews_id= $news_id ");
        }
        
    }


    public function league_teams_position($league_id){
        $query = $this-&gt;db-&gt;query("SELECT player_id,position FROM players WHERE league_id='$league_id'");
        return $query-&gt;result();
    }

    public function update_image($news_id,$image_name,$tab_index){
        if($tab_index == 3){
            return $this-&gt;db-&gt;query("UPDATE waiver_news SET image='$image_name' WHERE rss_waiver_news_id=$news_id");
        }else if($tab_index == 2){
            return $this-&gt;db-&gt;query("UPDATE player_news SET image='$image_name' WHERE rss_player_news_id=$news_id");
        }else{
            return $this-&gt;db-&gt;query("UPDATE sports_news SET image='$image_name' WHERE rss_sports_news_id=$news_id");
        }
    }

    public function news_read_activity($news_id, $tab_index, $user_id){

        if($tab_index == 0){

            $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id = $news_id AND activity_user_id=$user_id AND activity_news_type='kroo' AND activity_action='read'");
            if($query-&gt;num_rows() == 0 ){
                return $this-&gt;db-&gt;query("INSERT INTO admin_activity (activity_news_id, activity_user_id, activity_news_type, activity_action) 
                                        VALUES ($news_id, $user_id, 'kroo', 'read') ");
            }
            
        }
        else if($tab_index == 2){

            $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id = $news_id AND activity_user_id=$user_id AND activity_news_type='fantasy'  AND activity_action='read'");
            if($query-&gt;num_rows() == 0){
                return $this-&gt;db-&gt;query("INSERT INTO admin_activity (activity_news_id, activity_user_id, activity_news_type, activity_action) 
                                        VALUES ($news_id, $user_id, 'fantasy', 'read') ");
            }
            
        }
        else{

            $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id = $news_id AND activity_user_id=$user_id AND activity_news_type='waiver' AND activity_action='read'");
            if($query-&gt;num_rows() == 0){
                return $this-&gt;db-&gt;query("INSERT INTO admin_activity (activity_news_id, activity_user_id, activity_news_type, activity_action) 
                                        VALUES ($news_id, $user_id, 'waiver', 'read') ");
            }
            
        }
    }

    public function news_edit_activity($news_id, $tab_index, $user_id){

        if($tab_index == 0 || $tab_index == 4){

            $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id = $news_id AND activity_user_id=$user_id AND activity_news_type='kroo'  AND activity_action='edit'");
            if($query-&gt;num_rows() == 0 ){
                return $this-&gt;db-&gt;query("INSERT INTO admin_activity (activity_news_id, activity_user_id, activity_news_type, activity_action) 
                                        VALUES ($news_id, $user_id, 'kroo', 'edit') ");
            }
            
        }
        else if($tab_index == 2){

            $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id = $news_id AND activity_user_id=$user_id AND activity_news_type='fantasy' AND activity_action='edit'");
            if($query-&gt;num_rows() == 0){
                return $this-&gt;db-&gt;query("INSERT INTO admin_activity (activity_news_id, activity_user_id, activity_news_type, activity_action) 
                                        VALUES ($news_id, $user_id, 'fantasy', 'edit') ");
            }
            
        }
        else{

            $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id = $news_id AND activity_user_id=$user_id AND activity_news_type='waiver' AND activity_action='edit'");
            if($query-&gt;num_rows() == 0){
                return $this-&gt;db-&gt;query("INSERT INTO admin_activity (activity_news_id, activity_user_id, activity_news_type, activity_action) 
                                        VALUES ($news_id, $user_id, 'waiver', 'edit') ");
            }
            
        }
    }

    public function news_publish_activity($news_id, $tab_index, $user_id){
</codefragment>
  </duplication>
  <duplication lines="43" tokens="147">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="868"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="1058"/>
    <codefragment>    public function news_notify_activity($news_id, $tab_index, $user_id){

        if($tab_index == 0 || $tab_index == 4){

            $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id = $news_id AND activity_user_id=$user_id AND activity_news_type='kroo' AND activity_action='notify'");
            if($query-&gt;num_rows() == 0 ){
                return $this-&gt;db-&gt;query("INSERT INTO admin_activity (activity_news_id, activity_user_id, activity_news_type, activity_action) 
                                        VALUES ($news_id, $user_id, 'kroo', 'notify') ");
            }
            
        }
        else if($tab_index == 1){

            $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id = $news_id AND activity_user_id=$user_id AND activity_news_type='headlines' AND activity_action='notify'");
            if($query-&gt;num_rows() == 0 ){
                return $this-&gt;db-&gt;query("INSERT INTO admin_activity (activity_news_id, activity_user_id, activity_news_type, activity_action) 
                                        VALUES ($news_id, $user_id, 'headlines', 'notify') ");
            }
            
        }
        else if($tab_index == 2){

            $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id = $news_id AND activity_user_id=$user_id AND activity_news_type='fantasy' AND activity_action='notify'");
            if($query-&gt;num_rows() == 0){
                return $this-&gt;db-&gt;query("INSERT INTO admin_activity (activity_news_id, activity_user_id, activity_news_type, activity_action) 
                                        VALUES ($news_id, $user_id, 'fantasy', 'notify') ");
            }
            
        }
        else{

            $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id = $news_id AND activity_user_id=$user_id AND activity_news_type='waiver' AND activity_action='notify'");
            if($query-&gt;num_rows() == 0){
                return $this-&gt;db-&gt;query("INSERT INTO admin_activity (activity_news_id, activity_user_id, activity_news_type, activity_action) 
                                        VALUES ($news_id, $user_id, 'waiver', 'notify') ");
            }
            
        }
    }

    public function news_hide_activity($news_id, $tab_index, $user_id){

        if($tab_index == 0 || $tab_index == 1){
</codefragment>
  </duplication>
  <duplication lines="67" tokens="279">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard/models/dashboard_model.php" line="922"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/dashboard_before_game_change/models/dashboard_model.php" line="1129"/>
    <codefragment>    public function get_news_team_detail($team_id){
        $query = $this-&gt;db-&gt;query("SELECT t.league_id,l.name FROM teams as t
                                    LEFT JOIN leagues as l on l.id = t.league_id
                                    WHERE t.id=$team_id");
        return $query-&gt;result_array();
    }

    public function get_activity_by_news($news_id,$news_type){
        $query = $this-&gt;db-&gt;query("SELECT * FROM admin_activity WHERE activity_news_id='$news_id' AND activity_news_type= '$news_type'");
        return $query-&gt;result_array();
    }

    public function get_username_by_id($user_id){
        $query = $this-&gt;db-&gt;query("SELECT name FROM admin_users WHERE id='$user_id'");
        return $query-&gt;result_array();   
    }

    public function update_news_detail($news_detail,$news_id){
        $query = $this-&gt;db-&gt;query("SELECT *  FROM sports_news WHERE rss_sports_news_id='$news_id'"); 
        if($query-&gt;num_rows() &gt; 0) {
            $query = $this-&gt;db-&gt;query("UPDATE sports_news SET details='$news_detail' WHERE rss_sports_news_id='$news_id'");
            return $query;
        }else{
                    $query = $this-&gt;db-&gt;query("UPDATE rss_sports_news SET details='$news_detail' WHERE id='$news_id'");
                    return $query;
        }   
        
    }


    public function get_detail($news_id,$tab_index){
        $query = $this-&gt;db-&gt;query("SELECT details  FROM sports_news WHERE rss_sports_news_id='$news_id'"); 
        if($query-&gt;num_rows()&gt;0){
            return $query-&gt;result();
        }else{
            $query = $this-&gt;db-&gt;query("SELECT *  FROM rss_sports_news WHERE id='$news_id'"); 
            $row = $query-&gt;row(); //print_r($row); die;  
            $news_detail = $row-&gt;details; 
            $news_title = addslashes($row-&gt;title);
            $news_summary = addslashes($row-&gt;summary);
            $news_url = $row-&gt;url;
            $image = $row-&gt;image;
            $news_source = $row-&gt;source;
            $channel = $row-&gt;channel;
            $news_category = $row-&gt;news_category;
            $team_id = $row-&gt;team_id;
            $league_id = $row-&gt;league_id;
            $this-&gt;db-&gt;query("INSERT INTO sports_news (rss_sports_news_id,title,image,summary,details,url,source,channel_published_at,channel,news_category) 
            VALUES ('$news_id', '$news_title', '$image', '$news_summary','$news_detail','$news_url','$news_source',UNIX_TIMESTAMP(),'$channel','$news_category')");
             $insert_id = $this-&gt;db-&gt;insert_id();

            if($tab_index == 0 || $tab_index == 4){
                $this-&gt;db-&gt;query("INSERT INTO sports_news_teams (news_id,team_id) VALUES ('$insert_id','$team_id')");
            }else if($tab_index == 1){  
                $this-&gt;db-&gt;query("INSERT INTO sports_news_leagues (news_id,league_id) VALUES ('$insert_id','$league_id')");  
            }
            $query = $this-&gt;db-&gt;query("SELECT details  FROM sports_news WHERE rss_sports_news_id='$news_id'");
            return $query-&gt;result();
        }        
    }

    public function get_rss_news_detail($news_id){
        $query = $this-&gt;db-&gt;query("SELECT *  FROM rss_sports_news WHERE id='$news_id'"); 
        if($query-&gt;num_rows()&gt;0){
            return $query-&gt;result();
        }else{
            return array();
</codefragment>
  </duplication>
  <duplication lines="292" tokens="162">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/views/game_tickets_listing.php" line="75"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/views/game_tickets_listing.php" line="75"/>
    <codefragment>                                        if(!empty($info)){ $i =1;
                                            foreach($info as $user){

                                                    echo '&lt;tr id="row_'.$user['id'].'"&gt;';
                                                        echo '&lt;td class="col-md-1"&gt;';
                                                            echo '&lt;p&gt;'.$i.'&lt;/p&gt;'; 
                                                        echo '&lt;input type="hidden" value="'.$user['email'].'" id="email'.$user['id'].'"&gt;';     
                                                              
                                                        echo '&lt;/td&gt;';
                                                      
                                                        echo '&lt;td class="col-md-2"&gt;';
                                                            echo '&lt;p id="teams'.$user['id'].'"&gt;&lt;b&gt;Match &amp;nbsp;&lt;/b&gt;: &amp;nbsp;'.$user['t1name'].'  &amp;nbsp; V/S  &amp;nbsp; '.$user['t2name'].'&lt;br&gt;&lt;b&gt;Venue &amp;nbsp;&lt;/b&gt;: &amp;nbsp;'.$user['venue'].'&lt;br&gt;&lt;b&gt;Country &amp;nbsp;&lt;/b&gt;:United States of America&lt;br&gt;&lt;b&gt;Date &amp;nbsp;&lt;/b&gt;:'.$user['date'].'&lt;br&gt;&lt;b&gt;Time &amp;nbsp;&lt;/b&gt;:'.$user['time'].' &lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';


                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="user'.$user['id'].'"&gt;'.$user['name'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="tickets'.$user['id'].'"&gt;'.$user['tickets'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';


                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="total_credits'.$user['id'].'"&gt;'.$user['total_credits'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="status'.$user['id'].'"&gt;'.$user['status'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="update_date'.$user['id'].'"&gt;'.$user['tdate'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="msg'.$user['id'].'"&gt;'.$user['msg'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;'; 



                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                          echo '&lt;p&gt;';
                                                            if($user['status'] =="Pending"  ){
                                                                echo'&lt;button data-id="'.$user['id'].'" id="edit'.$user['id'].'" name="singlebutton" class="btn btn-primary edit-ticketsform-btn" data-toggle="modal" data-target="#myTicketsModal"&gt;Edit&lt;/button&gt;';
                                                            }else{
                                                                 echo'&lt;button data-id="'.$user['id'].'" id="view'.$user['id'].'" name="singlebutton" class="btn btn-primary view-ticketsform-btn" data-toggle="modal" data-target="#myviewTicketsModal"&gt;View&lt;/button&gt;';
                                                              }
                                                                     
                                                          echo'&lt;/p&gt;';
                                                               
                                                        echo '&lt;/td&gt;';
                                                    echo '&lt;/tr&gt;';
                                              $i++;  } 
                                            }
                                        ?&gt;

                                       &lt;/tbody&gt;
                                    &lt;/table&gt;
                                &lt;/div&gt;&lt;!-- /.box-body --&gt;
                            &lt;/div&gt;&lt;!-- /.box --&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/section&gt;&lt;!-- /.content --&gt;



                &lt;!-- Add game Modal start --&gt;
                  &lt;div class="modal fade" id="myTicketsModal" role="dialog"&gt;
                    &lt;div class="modal-dialog"&gt;
                    
                      &lt;!-- Modal content--&gt;
                      &lt;div class="modal-content" style="width: 126%;"&gt;
                        &lt;div class="modal-header"&gt;
                          &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                          &lt;h4 class="modal-title" id="addtickets"&gt;&lt;/h4&gt;
                        &lt;/div&gt;

                      &lt;div class=""&gt;


                              &lt;form class="form-horizontal" enctype="multipart/form-data" accept-charset="utf-8" name="ticketsinfo" id="ticketsAdd"  method="post" action=""&gt;

                              &lt;fieldset&gt;

                            
                              &lt;legend&gt;

                              &lt;/legend&gt;
                              &lt;!-- Text input--&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email" style="margin-top: -8px;"&gt;Match detail :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;
                                &lt;input type="hidden" name="id" id="ticketsId"&gt;
                                 &lt;input type="hidden" name="email" id="emailId"&gt;
                                &lt;p id="teams"&gt;&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email" style="margin-top: -8px;"&gt;User :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;                              
                               &lt;p id="username"&gt;&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email" style="margin-top: -8px;"&gt;Tickets :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;                              
                               &lt;p id="matchTickets"&gt;&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email" style="margin-top: -8px;"&gt;Total credits :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;                              
                               &lt;p id="totalCredits"&gt;&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Status :&lt;/label&gt;  
                                &lt;div class="col-md-9" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-4"&gt;
                                  &lt;select name="status" id="ticketsStatus" class="form-control sponser_class countryclass"&gt;
                                    &lt;option value=""&gt;select status&lt;/opton&gt;
                                    &lt;option value="Approved"&gt;Approved&lt;/opton&gt;
                                    &lt;option value="Rejected"&gt;Rejected&lt;/opton&gt;

                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Message :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;
                                  &lt;textarea id="message" class="form-control" rows="3" maxlength="500" name="message" &gt; &lt;/textarea&gt; 
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Upload :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;                              
                                  &lt;input type ="file" name="userfile" id="img" &gt;  
                                &lt;div style="color: red;"&gt;Upload only pdf&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;/fieldset&gt;
                              &lt;/form&gt;

                              &lt;div class="form-group" style="margin-left: 3%; margin-top:5px;"&gt;

                              &lt;/div&gt;

                        &lt;/div&gt;
                        &lt;div class="modal-footer" style="text-align: left;"&gt;
                          &lt;button class="btn btn-primary"  id="submit_tickets_form" style="width: 75px;" &gt;Save&lt;/button&gt;
                      
                          &lt;button type="button" class=" btn btn-default" style="width: 75px; margin-left: 2px;" data-dismiss="modal"&gt;Close&lt;/button&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                      
                    &lt;/div&gt;
                  &lt;/div&gt; 
                &lt;!-- Add game modal End----------------&gt; 


                &lt;!-- view game Modal start --&gt;
                  &lt;div class="modal fade" id="myviewTicketsModal" role="dialog"&gt;
                    &lt;div class="modal-dialog"&gt;
                    
                      &lt;!-- Modal content--&gt;
                      &lt;div class="modal-content" style="width: 126%;"&gt;
                        &lt;div class="modal-header"&gt;
                          &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                          &lt;h4 class="modal-title" id="addticketsView"&gt;&lt;/h4&gt;
                        &lt;/div&gt;

                      &lt;div class=""&gt;


                              &lt;form class="form-horizontal" enctype="multipart/form-data" accept-charset="utf-8" name="ticketsinfo" id="ticketsView"  method="post" action=""&gt;

                              &lt;fieldset&gt;

                            
                              &lt;legend&gt;

                              &lt;/legend&gt;
                              &lt;!-- Text input--&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email" style="margin-top: -8px;"&gt;Match detail :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;
                                &lt;input type="hidden" name="id" id="ticketsIdView"&gt;
                                 &lt;input type="hidden" name="email" id="emailIdView"&gt;
                                &lt;p id="teamsView"&gt;&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email" style="margin-top: -8px;"&gt;user :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;                              
                               &lt;p id="usernameView"&gt;&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email" style="margin-top: -8px;"&gt;Tickets :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;                              
                               &lt;p id="matchTicketsView"&gt;&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email" style="margin-top: -8px;"&gt;Total credits :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;                              
                               &lt;p id="totalCreditsView"&gt;&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Status :&lt;/label&gt;  
                                &lt;div class="col-md-9" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-4"&gt;
                                  &lt;select name="status" id="ticketsStatus" class="form-control sponser_class countryclass" disabled&gt;
                                    &lt;option value=""&gt;select status&lt;/opton&gt;
                                    &lt;option value="Approved"&gt;Approved&lt;/opton&gt;
                                    &lt;option value="Rejected"&gt;Rejected&lt;/opton&gt;

                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Message :&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;
                                  &lt;textarea id="messageView" class="form-control" rows="3" maxlength="500" name="message" disabled&gt; &lt;/textarea&gt; 
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 


                              &lt;/fieldset&gt;
                              &lt;/form&gt;

                              &lt;div class="form-group" style="margin-left: 3%; margin-top:5px;"&gt;

                              &lt;/div&gt;

                        &lt;/div&gt;
                        &lt;div class="modal-footer" style="text-align: left;"&gt;
                      
                          &lt;button type="button" class=" btn btn-default" style="width: 75px; margin-left: 2px;" data-dismiss="modal"&gt;Close&lt;/button&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                      
                    &lt;/div&gt;
                  &lt;/div&gt; 
                &lt;!-- view game modal End----------------&gt; 




                &lt;div class="footer-main" style="bottom: 0; position: fixed; width: 100%;"&gt;
                    Copyright &amp;copy Kroo, 2015
                &lt;/div&gt;
            &lt;/aside&gt;&lt;!-- /.right-side --&gt;

        &lt;/div&gt;&lt;!-- ./wrapper --&gt;

&lt;script type="text/javascript"&gt;
 
        $(document).on("click","#submit_tickets_form",function(e){ 
                var ticketsid= $('#ticketsId').val(); 
                var message = $('#message').val();
                var ticketsStatus = $('#ticketsStatus').val();
                var img = $('#img').val();
                //alert('Hello');
               // e.preventDefault();
               if(ticketsStatus ==""){
                alert("select status");
               }else{               
                  if(ticketsid !=0){

                    $('.error').html('');               
                    var url   = "&lt;?php echo SITEURL;?&gt;game/update_tickets";
</codefragment>
  </duplication>
  <duplication lines="261" tokens="181">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/views/game_store_listing.php" line="83"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/views/game_store_listing.php" line="83"/>
    <codefragment>                                        if(!empty($store)){ $i =1;
                                            foreach($store as $user){

                                                    echo '&lt;tr id="row_'.$user['id'].'"&gt;';
                                                        echo '&lt;td class="col-md-1"&gt;';
                                                            echo '&lt;p&gt;'.$i.'&lt;/p&gt;'; 
                                                               
                                                        echo '&lt;/td&gt;';
                                                      
                                                        echo '&lt;td class="col-md-1"&gt;';
                                                            echo '&lt;p id="team1name'.$user['id'].'"&gt;'.$user['team1'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';


                                                        echo '&lt;td class="col-md-1"&gt;';
                                                            echo '&lt;p id="team2name'.$user['id'].'"&gt;'.$user['team2'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-2"&gt;';
                                                            echo '&lt;p id="venue'.$user['id'].'"&gt;&lt;b&gt;Venue: &amp;nbsp;&lt;/b&gt;'.$user['venue'].'&lt;br&gt;&lt;b&gt;Date: &amp;nbsp;&lt;/b&gt;'.$user['date'].'&lt;br&gt;&lt;b&gt;Time: &amp;nbsp;&lt;/b&gt;'.$user['time'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';


                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="country'.$user['id'].'"&gt;'.$user['country'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="points'.$user['id'].'"&gt;'.$user['points'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="pending'.$user['id'].'"&gt;'.$user['pending'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="approved'.$user['id'].'"&gt;'.$user['approved'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="rejected'.$user['id'].'"&gt;'.$user['rejected'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';                                                        

                                                        echo '&lt;/td&gt;'; 

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="channel_p'.$user['id'].'"&gt;'.$user['published_at'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';                                                          

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p&gt;&lt;button data-id="'.$user['id'].'" id="edit'.$user['id'].'" name="singlebutton" class="btn btn-primary edit-storeform-btn" data-toggle="modal" data-target="#myStoreModal"&gt;Edit&lt;/button&gt;

                                                            &lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';
                                                    echo '&lt;/tr&gt;';
                                              $i++;  } 
                                            }
                                        ?&gt;

                                       &lt;/tbody&gt;
                                    &lt;/table&gt;
                                &lt;/div&gt;&lt;!-- /.box-body --&gt;
                            &lt;/div&gt;&lt;!-- /.box --&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/section&gt;&lt;!-- /.content --&gt;



                &lt;!-- Add game Modal start --&gt;
                  &lt;div class="modal fade" id="myStoreModal" role="dialog"&gt;
                    &lt;div class="modal-dialog"&gt;
                    
                      &lt;!-- Modal content--&gt;
                      &lt;div class="modal-content" style="width: 126%;"&gt;
                        &lt;div class="modal-header"&gt;
                          &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                          &lt;h4 class="modal-title" id="addStore"&gt;&lt;/h4&gt;
                        &lt;/div&gt;

                      &lt;div class=""&gt;

                              &lt;form class="form-horizontal" id="storeAdd" name="storeinfo"&gt;
                              &lt;fieldset&gt;

                            
                              &lt;legend&gt;

                              &lt;/legend&gt;
                              &lt;!-- Text input--&gt;


                              &lt;div class="form-group"&gt;
                                &lt;input type="hidden" name="id" id="storeid"&gt;
                                &lt;input type="hidden" name="country" id="country" value="United States of America"&gt;

                                &lt;label class="col-md-2 control-label" for="user_email"&gt;League&lt;/label&gt;  
                                &lt;div class="col-md-5" style=""&gt;
                                  
                                  &lt;select name="news_league_id" id="new_league_store" class="form-control news_league"&gt;
                                    &lt;option value="0"&gt;select league&lt;/opton&gt;
                                       &lt;?php
                                          if(!empty($kroo_news['all_leagues'])){
                                            foreach($kroo_news['all_leagues'] as $news){
                                              echo '&lt;option class="select_leagues" id="select_news_league" data-id="'.$news-&gt;id.'" value="'.$news-&gt;id.'"&gt;'.$news-&gt;name.'&lt;/option&gt;';
                                              }

                                           }
                                      ?&gt;

                                  &lt;/select&gt; 
                                 
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 
                              &lt;!-- Text input--&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Team1&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;
                                    &lt;select id="add_store_team1" name="add_store_team1" class="form-control team1class"&gt;

                                  &lt;/select&gt;  
                                    &lt;/select&gt;                                
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Team2&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;                              
                                    &lt;select id="add_store_team2" name="add_store_team2" class="form-control team2class"&gt; 
                                    &lt;/select&gt;                                
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Match Venue&lt;/label&gt;  
                                &lt;div class="col-md-7"&gt;
                                  &lt;textarea id="venue" class="form-control" rows="3" maxlength="500" name="venue"&gt;&lt;/textarea&gt; 
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Credits Per Ticket&lt;/label&gt;  
                                &lt;div class="col-md-5"&gt;
                                &lt;input id="points" name="points" placeholder="Credits" class="form-control input-md" type="text" value=""&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 

                              &lt;div class="form-group"&gt;                                   
                                     &lt;label class="col-md-2 control-label" for="user_email"&gt;Match Date&lt;/label&gt;
                                     &lt;div class="col-md-5"&gt;
                                           &lt;input type='text' name="date" placeholder="Date" class="form-control" id='datepicker' /&gt;
                                           &lt;div id="login_datepicker_err" class="error"&gt;&lt;/div&gt;
                                    &lt;/div&gt;
                              &lt;/div&gt;
                              &lt;div class="form-group"&gt;                                   
                                     &lt;label class="col-md-2 control-label" for="user_email"&gt;Match Time&lt;/label&gt;
                                     &lt;div class="col-md-5"&gt;
                                           &lt;input type='text' name="time" placeholder="time" class="form-control" id='datetimepicker3' /&gt;
                                           &lt;div id="login_datepicker_err" class="error"&gt;&lt;/div&gt;
                                    &lt;/div&gt;
                              &lt;/div&gt;


                              &lt;/fieldset&gt;
                              &lt;/form&gt;

                              &lt;div class="form-group" style="margin-left: 3%; margin-top:5px;"&gt;

                              &lt;/div&gt;

                        &lt;/div&gt;
                        &lt;div class="modal-footer" style="text-align: left;"&gt;
                          &lt;button class="btn btn-primary"  id="submit_store_form" style="width: 75px;" &gt;Save&lt;/button&gt;
                      
                          &lt;button type="button" class=" btn btn-default" style="width: 75px; margin-left: 2px;" data-dismiss="modal"&gt;Close&lt;/button&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                      
                    &lt;/div&gt;
                  &lt;/div&gt; 
                &lt;!-- Add game modal End----------------&gt; 










                &lt;div class="footer-main" style="bottom: 0; position: fixed; width: 100%;"&gt;
                    Copyright &amp;copy Kroo, 2015
                &lt;/div&gt;
            &lt;/aside&gt;&lt;!-- /.right-side --&gt;

        &lt;/div&gt;&lt;!-- ./wrapper --&gt;

&lt;script type="text/javascript"&gt;
 
        $(document).on("click","#submit_store_form",function(e){ new_league_store
          var new_league_store = $('#new_league_store').val();
          var add_store_team1 = $('#add_store_team1').val();
          var add_store_team2 = $('#add_store_team2').val();
          var venue = $('#venue').val();
          var country = $('#country').val();
          var points = $('#points').val();
          var datepicker = $('#datepicker').val();
          var datetimepicker = $('#datetimepicker').val();
          var creditsNum= $.isNumeric($('#points').val());

          if(new_league_store==0 || new_league_store=="" ){
              alert("Select league");
          }else if(add_store_team1==0 || add_store_team1=="" ){ 
              alert("Select team1"); 
          }else if(add_store_team2==0 || add_store_team2=="" ){ 
              alert("Select team2");              
          }else if(venue==0 || venue=="" ){ 
              alert("Fill venue"); 
          }else if(country==0 || country=="" ){ 
              alert("Select country"); 
          }else if(points==0 || points=="" ){ 
              alert("Fill points");
          }else if(creditsNum==false){ 
              alert("Points should be number");                
          }else if(datepicker==0 || datepicker=="" ){ 
              alert("Select date");
          }else if(datetimepicker3==0 || datetimepicker3=="" ){ 
              alert("Select time");
          }else if(add_store_team1 == add_store_team2){ 
              alert("team1 and team2 should not same");                   

          }else{
               // e.preventDefault();
                var storeid= $('#storeid').val(); 
                if(storeid==0){
                    $('.error').html('');               
                    var ele   = $('#storeAdd');
                    var data  = ele.serialize();
                    var url   = "&lt;?php echo SITEURL;?&gt;game/insert_store";
                    $.ajax({
                       data : data,
                       url : url,
                       type: 'POST'
                    }).done(function(data){  
                      $('#myStoreModal').modal('hide');
                      location.reload();
                      $('#message_success_insert').css({'display':''});
                      $('#message_success_insert').delay(3000).fadeOut(400);                      
                               
                    });

                 }else{
                    $('.error').html('');               
                    var ele   = $('#storeAdd');
                    var data  = ele.serialize();
                    var url   = "&lt;?php echo SITEURL;?&gt;game/update_store";
</codefragment>
  </duplication>
  <duplication lines="304" tokens="208">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/views/game_qustionlist_view.php" line="80"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/views/game_qustionlist_view.php" line="80"/>
    <codefragment>                                        if(!empty($game)){  $i=0;
                                            foreach($game as $user){ 


                                                    echo '&lt;tr id=""&gt;';

                                                      echo '&lt;td class="col-md-1"&gt;&lt;p&gt;'.$i.'&lt;/p&gt;';
                                                      echo '&lt;/td&gt;';


                                                        echo '&lt;td class="col-md-1"&gt;';

                                                            echo '&lt;p id="qus'.$user['id'].'"&gt;'.$user['questions'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';


                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="cre'.$user['id'].'"&gt;'.$user['credits'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="league'.$user['id'].'"&gt;'.$user['lname'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';


                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="team'.$user['id'].'"&gt;'.$user['tname'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                        $ptime=strtotime($user['time_to_publish']) + ($this-&gt;session-&gt;userdata('timezoneoffset')*60*-1);
                                                            echo '&lt;p id="time_to_publish'.$user['id'].'"&gt;'.date('Y-m-d H:i:s',$ptime).'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';


                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="won'.$user['id'].'"&gt;'.$user['won'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="lost'.$user['id'].'"&gt;'.$user['lost'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                            echo '&lt;p id="timeout'.$user['id'].'"&gt;'.$user['timeout'].'&lt;/p&gt;';   
                                                        echo '&lt;/td&gt;';

                                                        
                                                        echo '&lt;td class="col-md-1 "&gt;';
                                                          echo '&lt;p&gt;';
                                                            if($user['status']==0) {
                                                             echo '&lt;button data-id="'.$user['id'].'" id="edit'.$user['id'].'" name="singlebutton" class="btn btn-primary edit-form-btn" data-toggle="modal" data-target="#myAddModal"&gt;Edit&lt;/button&gt;
                                                                &lt;button id="delete'.$user['id'].'" name="singlebutton" data-id="'.$user['id'].'" class="btn btn-primary delete-form-btn"&gt;Delete&lt;/button&gt;';
                                                           }else{
                                                               echo '&lt;button id="view'.$user['id'].'" name="singlebutton" data-id="'.$user['id'].'" class="btn btn-primary view-form-btn" data-toggle="modal" data-target="#myviewModal"&gt;view&lt;/button&gt;';
                                                           }

                                                      echo '&lt;/p&gt;';
                                                    echo '&lt;/td&gt;';

                                                   
                                                    echo '&lt;/tr&gt;';
                                               $i++; } 
                                            }
                                        ?&gt;

                                       &lt;/tbody&gt;
                                    &lt;/table&gt;
                                &lt;/div&gt;&lt;!-- /.box-body --&gt;
                            &lt;/div&gt;&lt;!-- /.box --&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/section&gt;&lt;!-- /.content --&gt;



                &lt;!-- Add game Modal start --&gt;
                &lt;div id="imgModal" class="reveal-modal modal fade" align="center"&gt;
                  &lt;h2&gt;Select Image To Crop&lt;/h2&gt;
                  &lt;div&gt;
                    &lt;img src="" id="thumbnail" alt="Edit Image" /&gt;
                    &lt;div id="thumb_preview_holder"&gt;
                      &lt;img src=""  alt="Thumbnail Preview" id="thumb_preview" /&gt;
                    &lt;/div&gt;
                    &lt;div class="clear"&gt;&lt;/div&gt;
                    &lt;input type="hidden" name="filename" value="" id="filename" /&gt;
                    &lt;input type="hidden" name="x1" value="" id="x1" /&gt;
                    &lt;input type="hidden" name="y1" value="" id="y1" /&gt;
                    &lt;input type="hidden" name="x2" value="" id="x2" /&gt;
                    &lt;input type="hidden" name="y2" value="" id="y2" /&gt;
                    &lt;input type="hidden" name="w" value="" id="w" /&gt;
                    &lt;input type="hidden" name="h" value="" id="h" /&gt;
                    &lt;input type="submit" name="upload_thumbnail" value="Crop &amp; Save" id="save_thumb" class="button" /&gt;
                    &lt;input type="button" name="cancel" value="X" class="close-reveal-modal" id="cancel_button"/&gt;
                  &lt;/div&gt;
                &lt;/div&gt; &lt;!-- end modal box--&gt;
                  &lt;div class="modal fade" id="myAddModal" role="dialog"&gt;
                    &lt;div class="modal-dialog"&gt;
                    
                      &lt;!-- Modal content--&gt;
                      &lt;div class="modal-content" style="width: 128%;"&gt;
                        &lt;div class="modal-header"&gt;
                          &lt;button type="button" class="close" data-dismiss="modal"&gt;&amp;times;&lt;/button&gt;
                          &lt;h4 class="modal-title" id="add"&gt;&lt;/h4&gt;
                        &lt;/div&gt;

                        &lt;div class=""&gt;

                              &lt;form class="form-horizontal" id="gameAdd" name="gameinfo"&gt;
                              &lt;fieldset&gt;                            
                              &lt;legend&gt;   &lt;/legend&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label"&gt;Game Type&lt;/label&gt;  
                                &lt;div class="col-md-9" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-4"&gt;
                                  &lt;select name="select_game_category" id="select_game_category" class="form-control"&gt;
                                    &lt;option class="select_leagues" data-id="1" value="1" selected="selected"&gt;LevelUp&lt;/option&gt;
                                    &lt;option class="select_leagues" data-id="2" value="2"&gt;News Feed Based&lt;/option&gt;
                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;!-- Text input--&gt;
                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Question&lt;/label&gt;  
                                &lt;div class="col-md-7"&gt;
                                &lt;input type="hidden" name="id" id="gameid"&gt;
                                &lt;input type="hidden" name="publish_id" id="publish_id"&gt;
                                &lt;input type="hidden" name="NowPublishDate" id="NowPublishDate"&gt;
                                &lt;input type="hidden" name="NowPublishTime" id="NowPublishTime"&gt;
                                
                                &lt;textarea id="question" name="question" class="form-control" placeholder="question" rows="3" maxlength="500" value="" onKeyDown="limitText(this,100);" onKeyUp="limitText(this,300);"&gt;&lt;/textarea&gt;
                                &lt;p style="font-size: 11px;"&gt;Max 100 characters allowed&lt;/p&gt;
                                &lt;div id="login_question_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="col-md-8" style="margin-left: 30px;" id="radio_list"&gt;

                                  &lt;label class="" style="width: 55px;"&gt;Options&lt;/label&gt;

                                  &lt;label id="option_1" class="radio-inline"&gt;
                                      &lt;span&gt;1&lt;/span&gt;
                                      &lt;input id="ansTxtOpt1" name="ans_opt1" placeholder="option1" class="" type="text" value="" style="height: 35px; margin-left: 12px;width: 381px; border: 1px solid #ccc; border-radius: 4px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,100);"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;
                                  &lt;label id="option_2" class="radio-inline"&gt;
                                    &lt;span&gt;2&lt;/span&gt;
                                      &lt;input id="ansTxtOpt2" type="text" name="ans_opt2" placeholder="option2" style="height
                                    : 35px; margin-left: 12px;width: 381px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 12px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,40);"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;
                                  &lt;label id="option_3" class="radio-inline"&gt;
                                    &lt;span&gt;3&lt;/span&gt;
                                    &lt;input id="ansTxtOpt3" type="text" name="ans_opt3" placeholder="option3" style="height
                                    : 35px; margin-left: 12px;width: 381px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 12px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,40);"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;                
                                  &lt;label id="option_4" class="radio-inline" style="margin-bottom: 6px;"&gt;
                                    &lt;span&gt;4&lt;/span&gt;
                                    &lt;input id="ansTxtOpt4" type="text" name="ans_opt4" placeholder="option4" style="height
                                    : 35px; margin-left: 12px;width: 381px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 3px;" onKeyDown="limitText(this,40);" onKeyUp="limitText(this,40);"&gt;
                                   &lt;div style="font-size: 9px; margin-left: 21px;"&gt;Max 40 characters allowed&lt;/div&gt;
                                  &lt;/label&gt;
                                  
                                  &lt;br&gt;
                              &lt;/div&gt; 
                              
                              &lt;div&gt; 
                                &lt;label class="" style="width: 139px; margin-top: 6px;"&gt;Choose answer&lt;/label&gt; 
                                &lt;br&gt;
                                  &lt;label id="option_1" class="radio-inline" style=""&gt;
                                    &lt;input id="option1" type="radio" class="chexbox" name="optradio" value="1" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt;
                                  &lt;label id="option_2" class="radio-inline" style="margin-top: 22px;"&gt;
                                    &lt;input id="option2" type="radio" class="chexbox" name="optradio" value="2" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt;
                                  &lt;br&gt; 
                                  &lt;label id="option_3" class="radio-inline " style="margin-top: 28px;"&gt;
                                    &lt;input id="option3" type="radio" class="chexbox" name="optradio" value="3" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt; 
                                  &lt;br&gt;                              
                                  &lt;label id="option_4" class="radio-inline" style="margin-top: 26px;"&gt;
                                    &lt;input id="option4" type="radio" class="chexbox" name="optradio" value="4" style="margin-left: 11px;"&gt;
                                  &lt;/label&gt; 
                                
                              &lt;/div&gt;
                              &lt;hr&gt;



                              &lt;div class="form-group" style="display:none;"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Image&lt;/label&gt;  
                                &lt;div class="col-md-4"&gt;
                                  &lt;!-- &lt;input type ="file" name="userfiles" id="imgs" &gt;  
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt; --&gt;
                                &lt;div class="product_image"&gt;
                                &lt;img class="thumbnl" src="assets/Artboard1.png"&gt;
                                &lt;input type="hidden" name="news_img" value=""&gt;
                              &lt;/div&gt;
                              &lt;div id="file-uploader"&gt;
                                  &lt;button id="upload"&gt;Change Image&lt;/button&gt;
                                  &lt;noscript&gt; &lt;p&gt;Please enable JavaScript to use file uploader.&lt;/p&gt; &lt;/noscript&gt; 
                                 &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 

                              &lt;div class="form-group" style="display:none;"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Credits&lt;/label&gt;  
                                &lt;div class="col-md-4"&gt;
                                &lt;select name="credits" id="credits" class="form-control"&gt;&lt;/select&gt; 
                                &lt;/div&gt;
                              &lt;/div&gt; 


                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;League&lt;/label&gt;  
                                &lt;div class="col-md-9" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-4"&gt;
                                  &lt;select name="news_league_id" id="" class="form-control news_leagues "&gt;
                                    &lt;option value="0"&gt;select league&lt;/opton&gt;
                                       &lt;?php
                                          if(!empty($kroo_news['all_leagues'])){
                                            foreach($kroo_news['all_leagues'] as $news){
                                              echo '&lt;option class="select_leagues" id="select_news_league" data-id="'.$news-&gt;id.'" value="'.$news-&gt;id.'"&gt;'.$news-&gt;name.'&lt;/option&gt;';
                                              }

                                           }
                                      ?&gt;

                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                  &lt;label class="col-md-2 control-label" for="user_email"&gt;Team&lt;/label&gt;
                                  &lt;div class="col-md-4"&gt;
                                    &lt;select id="add_news_team" name="news_team_id" class="form-control new_team"&gt;   
                                    &lt;/select&gt;                                

                                  &lt;/div&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 

                              &lt;div class="form-group" style="display:none;"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Sponsor&lt;/label&gt;  
                                &lt;div class="col-md-9" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-4"&gt;
                                  &lt;select name="sponser" id="sponser_id" class="form-control sponser_class"&gt;
                                    &lt;option value="0"&gt;select sponsor&lt;/opton&gt;
                                       &lt;?php
                                          if(!empty($sponser)){
                                            foreach($sponser as $spon){ 
                                              echo '&lt;option class="" id="" data-id="'.$spon[id].'" value="'.$spon[id].'"&gt;'.$spon[label].'&lt;/option&gt;';
                                              }

                                           }
                                      ?&gt;

                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 

                              &lt;div id="ques_hint"&gt;
                                &lt;div class="form-group"&gt;
                                  &lt;label class="col-md-2 control-label" for="hint1"&gt;Hint 1&lt;/label&gt;  
                                  &lt;div class="col-md-6"&gt;
                                    &lt;input id="hint1" name="hint1" placeholder="Hint" class="form-control input-md" type="text" value=""&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;

                                &lt;div class="form-group"&gt;
                                  &lt;label class="col-md-2 control-label" for="hint2"&gt;Hint 2&lt;/label&gt;  
                                  &lt;div class="col-md-6"&gt;
                                    &lt;input id="hint2" name="hint2" placeholder="Hint" class="form-control input-md" type="text" value=""&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;

                                &lt;div class="form-group"&gt;
                                  &lt;label class="col-md-2 control-label" for="hint3"&gt;Hint 3&lt;/label&gt;  
                                  &lt;div class="col-md-6"&gt;
                                    &lt;input id="hint3" name="hint3" placeholder="Hint" class="form-control input-md" type="text" value=""&gt;
                                  &lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Link&lt;/label&gt;  
                                &lt;div class="col-md-6"&gt;
                                  &lt;input id="linkid" name="link" placeholder="Link" class="form-control input-md" type="text" value=""&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="tagid"&gt;Tags&lt;/label&gt;  
                                &lt;div class="col-md-6" id="tags"&gt;
                                  &lt;input id="tagid" name="tags" placeholder="Tags" class="form-control input-md" type="text" value=""&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

</codefragment>
  </duplication>
  <duplication lines="94" tokens="82">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/views/game_qustionlist_view.php" line="315"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/views/game_qustionlist_view.php" line="598"/>
    <codefragment>                                          if(!empty($kroo_news['all_leagues'])){
                                            foreach($kroo_news['all_leagues'] as $news){
                                              echo '&lt;option class="select_leagues" id="select_news_league" data-id="'.$news-&gt;id.'" value="'.$news-&gt;id.'"&gt;'.$news-&gt;name.'&lt;/option&gt;';
                                              }

                                           }
                                      ?&gt;

                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                  &lt;label class="col-md-2 control-label" for="user_email"&gt;Team&lt;/label&gt;
                                  &lt;div class="col-md-4"&gt;
                                    &lt;select id="add_news_team" name="news_team_id" class="form-control new_team"&gt;   
                                    &lt;/select&gt;                                

                                  &lt;/div&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 

                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Sponsor&lt;/label&gt;  
                                &lt;div class="col-md-9" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-4"&gt;
                                  &lt;select name="sponser" id="sponser_id" class="form-control sponser_class"&gt;
                                    &lt;option value="0"&gt;select sponsor&lt;/opton&gt;
                                       &lt;?php
                                          if(!empty($sponser)){
                                            foreach($sponser as $spon){ 
                                              echo '&lt;option class="" id="" data-id="'.$spon[id].'" value="'.$spon[id].'"&gt;'.$spon[label].'&lt;/option&gt;';
                                              }

                                           }
                                      ?&gt;

                                  &lt;/select&gt; 
                                  &lt;/div&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt; 


                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Link&lt;/label&gt;  
                                &lt;div class="col-md-6"&gt;
                                  &lt;input id="linkid" name="link" placeholder="Link" class="form-control input-md" type="text" value=""&gt;
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;


                              &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Explaination&lt;/label&gt;  
                                &lt;div class="col-md-7"&gt;
                                  &lt;textarea id="explanation_answer" class="form-control" rows="3" maxlength="500" name="exp_answer" onKeyDown="limitText(this,100);" onKeyUp="limitText(this,300);"&gt;&lt;/textarea&gt; 
                                &lt;p style="font-size: 11px;"&gt;Max 100 characters allowed&lt;/p&gt;  
                                &lt;div id="login_credits_err" class="error"&gt;&lt;/div&gt;
                                &lt;/div&gt;
                              &lt;/div&gt;

                               &lt;div class="form-group"&gt;
                                &lt;label class="col-md-2 control-label" for="user_email"&gt;Time to live(TTL)&lt;/label&gt;  
                                &lt;div class="col-md-10" style="padding-left: 0px;"&gt;
                                  &lt;div class="col-md-5" style="padding-left: 0px;"&gt;
                                    &lt;div class="col-md-6"&gt;
                                      &lt;select id="TTL-hour" name="TTL-hour" class="form-control TTL-hour"&gt;
                                      &lt;option  value="0"&gt;hour&lt;/option&gt;
                                        &lt;?php
                                        $i=1;
                                        for($i=1; $i&lt;=24; $i++){
                                          echo'&lt;option value="'.str_pad($i, 2, "0", STR_PAD_LEFT) .'"&gt;'.$i.' hour&lt;/option&gt;'; 
                                        }
                                        ?&gt;
                                      &lt;/select&gt;
                                    &lt;/div&gt;
                                    &lt;div class="col-md-6"&gt;
                                      &lt;select id="TTL-min" name="TTL-min" class="form-control TTL-min"&gt;
                                        &lt;option value="0"&gt;min&lt;/option&gt;   
                                        &lt;?php
                                        $i=1;
                                        for($i=1; $i&lt;=60; $i++){
                                          echo'&lt;option value="'.str_pad($i, 2, "0", STR_PAD_LEFT) .'"&gt;'.$i.' min&lt;/option&gt;'; 
                                        }
                                        ?&gt;
                                      &lt;/select&gt;
                                    &lt;/div&gt;
                                  &lt;/div&gt;

                                  &lt;div class="col-md-6" style="margin-left: 27px; width: 54%;"&gt;
                                    &lt;label class="col-md-8 control-label" for="user_email" style="margin-left: -55px;"&gt;Time to Answer (TTA)&lt;/label&gt;
                                    &lt;div class="col-md-6" style="width: 38%;"&gt;
                                    &lt;input type="hidden" id="TTA-min" name="TTA-min" value="00"&gt;
                                      &lt;select id="TTA-sec" name="TTA-sec" class="form-control TTA-sec"&gt; 
                                        &lt;option value="0"&gt;sec&lt;/option&gt;
</codefragment>
  </duplication>
  <duplication lines="34" tokens="104">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="3"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/controllers/game.php" line="3"/>
    <codefragment>class Game extends Controller {
    
    function __construct()
    {
        parent::__construct();
        //$this-&gt;load-&gt;model('game_model');
        $this-&gt;load-&gt;helper(array('form', 'url'));
        $this-&gt;load-&gt;library('form_validation');
        $this-&gt;load-&gt;model('game_model');
        $this-&gt;load-&gt;library('s3server');
        $this-&gt;load-&gt;library('upload');
        $this-&gt;load-&gt;model('dashboard/dashboard_model');

    }

    public function index(){
        if($this-&gt;session-&gt;userdata('id'))
        {         

            $query = $this-&gt;db-&gt;get('sponser');
            $data['sponser']= $query-&gt;result_array(); 
            $data['game']=$this-&gt;game_model-&gt;game_listing();
            $data['kroo_news']['all_leagues'] = $this-&gt;dashboard_model-&gt;all_leagues(); 
            $data['main_content']='game_qustionlist_view';
            $this-&gt;load-&gt;view('layout/admin_template',$data);
        }else{
            $this-&gt;load-&gt;view('home/home');
        }

 

    }

    public function game_add(){
</codefragment>
  </duplication>
  <duplication lines="29" tokens="110">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="50"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/controllers/game.php" line="81"/>
    <codefragment>        $publish_id=$this-&gt;input-&gt;post('publish_id');
        if($publish_id==3){
            $publish=2;
            $notified = "1";
        }else{
           $publish= $this-&gt;input-&gt;post('publish_id');
        }                

        $news_id=($this-&gt;input-&gt;post('news_id'))?$this-&gt;input-&gt;post('news_id'):'0';

        if($publish_id==3){
            $dateTTP= $this-&gt;input-&gt;post('NowPublishDate');
            $timeTTP= $this-&gt;input-&gt;post('NowPublishTime');
            /*$datetimeTTP=$dateTTP." ".$timeTTP; 
            $dt = strtotime("$datetimeTTP GMT");*/
            $timezone = $this-&gt;input-&gt;post('timezoneoffset') * 60;
            $datetimeTTP=$dateTTP." ".$timeTTP; 
            $dt = strtotime("$datetimeTTP")+($timezone);
            $TTP=date("Y-m-d H:i:s", $dt); 
        }else{

            $dateTTP= $this-&gt;input-&gt;post('time_to_publish_date');
            $timeTTP= $this-&gt;input-&gt;post('time_to_publish_time');
            /*$datetimeTTP=$dateTTP." ".$timeTTP; 
            $dt = strtotime("$datetimeTTP GMT");*/
            $timezone = $this-&gt;input-&gt;post('timezoneoffset') * 60;
            $datetimeTTP=$dateTTP." ".$timeTTP; 
            $dt = strtotime("$datetimeTTP")+($timezone);
            $TTP=date("Y-m-d H:i:s", $dt); 
</codefragment>
  </duplication>
  <duplication lines="12" tokens="75">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="85"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/controllers/game.php" line="116"/>
    <codefragment>        $hourTTA=00;
        $minTTA= $this-&gt;input-&gt;post('TTA-min');
        $secTTA= $this-&gt;input-&gt;post('TTA-sec'); 
        $TTA= date("H:i:s", strtotime("$hourTTA:$minTTA:$secTTA")); 

        $data = array(
        'questions' =&gt; $this-&gt;input-&gt;post('question'),
        'options' =&gt; $this-&gt;input-&gt;post('optradio'),
        'ans_opt1' =&gt; $this-&gt;input-&gt;post('ans_opt1'),
        'ans_opt2' =&gt; $this-&gt;input-&gt;post('ans_opt2'),
        'ans_opt3' =&gt; $this-&gt;input-&gt;post('ans_opt3'),
        'ans_opt4' =&gt; $this-&gt;input-&gt;post('ans_opt4'),
</codefragment>
  </duplication>
  <duplication lines="37" tokens="152">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="146"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/controllers/game.php" line="174"/>
    <codefragment>        $publish_id=$this-&gt;input-&gt;post('publish_id');
        if($publish_id==3){
            $publish=2;
            $notified="1";
        }else{
             $publish= $this-&gt;input-&gt;post('publish_id');
        }        

        if($publish_id==3){
            $dateTTP= $this-&gt;input-&gt;post('NowPublishDate');
            $timeTTP= $this-&gt;input-&gt;post('NowPublishTime');
            $timezone = $this-&gt;input-&gt;post('timezoneoffset') * 60;
            $datetimeTTP=$dateTTP." ".$timeTTP; 
            $dt = strtotime("$datetimeTTP")+($timezone);
            $TTP=date("Y-m-d H:i:s", $dt); 
        }else{

            $dateTTP= $this-&gt;input-&gt;post('time_to_publish_date');
            $timeTTP= $this-&gt;input-&gt;post('time_to_publish_time');
            $timezone = $this-&gt;input-&gt;post('timezoneoffset') * 60;
            $datetimeTTP=$dateTTP." ".$timeTTP; 
            $dt = strtotime("$datetimeTTP")+($timezone);
            $TTP=date("Y-m-d H:i:s", $dt); 

        }

        //$hourTTL= $this-&gt;input-&gt;post('TTL-hour');
        //$minuteTTL= $this-&gt;input-&gt;post('TTL-min'); 
        //$TTl= date("H:i:s", strtotime("$hourTTL:$minuteTTL"));
        $hourTTA=00;
        $minTTA= $this-&gt;input-&gt;post('TTA-min');
        $secTTA= $this-&gt;input-&gt;post('TTA-sec'); 
        $TTA= date("H:i:s", strtotime("$hourTTA:$minTTA:$secTTA")); 


        $data = array(
            'questions' =&gt; $this-&gt;input-&gt;post('question'),
</codefragment>
  </duplication>
  <duplication lines="59" tokens="150">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="225"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/controllers/game.php" line="236"/>
    <codefragment>        header("Content-type: application/json");
        echo json_encode($response);

    }

    public function game_qustions_delete($qustion_id){
        $status=1;
        $data = array(
            'status' =&gt;$status
        ); 

        $this-&gt;game_model-&gt;qustion_delete($qustion_id,$data);

    }


    public function get_news_id($news_id){
 
         $responce=$this-&gt;game_model-&gt;get_news_id($news_id);
         $ptime=strtotime($responce[0]['time_to_publish']) + ($this-&gt;session-&gt;userdata('timezoneoffset')*60*-1);
         $responce[0]['max_credits']=$this-&gt;game_model-&gt;getMaxCredit();
         $responce[0]['news_id']=$responce[0]['news_id'];
         $responce[0]['pdate'] = date('Y-m-d',$ptime);
         $responce[0]['ptime'] = date('g:i a',$ptime);
         
         header("Content-type: application/json");
         echo json_encode($responce);
    }

    public function get_league_team($news_id){
 
        $league = $this-&gt;game_model-&gt;get_league($news_id);
        $teams = $this-&gt;dashboard_model-&gt;league_teams($league['league_id']);
        $data['league_id'] = $league['league_id'];
        $i=0;
        foreach($teams as $league_teams){
            $data['team'][$i]['league_team_id']     = $league_teams['id'];
            $data['team'][$i]['league_team_name']   = $league_teams['name'];
            $data['team'][$i]['league_team_logo']   = $league_teams['logo'];
            $i++;
        }
         
         header("Content-type: application/json");
         echo json_encode($data);
    }


    public function get_news($news_id){
 
         $responce=$this-&gt;game_model-&gt;get_news($news_id);       
         header("Content-type: application/json");
         echo json_encode($responce);

    }

    public function gethints($game_id){
 
         $responce=$this-&gt;game_model-&gt;get_hints($game_id);       
         header("Content-type: application/json");
</codefragment>
  </duplication>
  <duplication lines="359" tokens="927">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="283"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/controllers/game.php" line="287"/>
    <codefragment>         header("Content-type: application/json");
         echo json_encode($responce);

    }

    public function game_detail($game_id){
 
         $responce=$this-&gt;game_model-&gt;game_detail($game_id);
         $ptime=strtotime($responce[0]['time_to_publish']) + ($this-&gt;session-&gt;userdata('timezoneoffset')*60*-1);
         $responce[0]['pdate'] = date('Y-m-d',$ptime);
         $responce[0]['ptime'] = date('g:i a',$ptime);

         header("Content-type: application/json");
         echo json_encode($responce);

    }


    public function store_detail($store_id){
 
        $responce=$this-&gt;game_model-&gt;store_detail($store_id);
        $ptime=strtotime($responce[0]['time']);
        $responce[0]['time'] = date('g:i a',$ptime);
        header("Content-type: application/json");
        echo json_encode($responce);
                 
         

    }   


    public function game_store(){ 
        if($this-&gt;session-&gt;userdata('id'))
        {           
            $query = $this-&gt;db-&gt;get('country');
            $data['country']= $query-&gt;result_array();
            $query = $this-&gt;db-&gt;get('teams');
            $data['teams']= $query-&gt;result_array();  
            $data['store']=$this-&gt;game_model-&gt;store_listing(); 
            $data['kroo_news']['all_leagues'] = $this-&gt;dashboard_model-&gt;all_leagues();
            $data['main_content']='game_store_listing';
            $this-&gt;load-&gt;view('layout/admin_template',$data);
        }else{
            $this-&gt;load-&gt;view('home/home');
        }   

    }

    public function insert_store(){
        $storeDate= $this-&gt;input-&gt;post('date');
        $dt = strtotime("$storeDate");
        $dateStore=date("Y-m-d", $dt); 
        $storeTime= $this-&gt;input-&gt;post('time'); 
        $timeStore= date("H:i:s", strtotime("$storeTime"));
        $channel_published_at=  date("Y-m-d H:i:s");


        $data = array(
            'league'               =&gt; $this-&gt;input-&gt;post('news_league_id'),
            'team1'                =&gt; $this-&gt;input-&gt;post('add_store_team1'),
            'team2'                =&gt; $this-&gt;input-&gt;post('add_store_team2'),
            'venue'                =&gt; $this-&gt;input-&gt;post('venue'),
            'country'              =&gt; $this-&gt;input-&gt;post('country'),
            'points'               =&gt; $this-&gt;input-&gt;post('points'),
            'date'                 =&gt; $dateStore,
            'time'                 =&gt; $timeStore,
            'channel_published_at' =&gt; $channel_published_at,
        ); 

        $this-&gt;game_model-&gt;insert_store($data);
        header("Content-type: application/json");
        echo json_encode($responce);

    }



    public function update_store(){
        $id= $this-&gt;input-&gt;post('id');
        $storeDate= $this-&gt;input-&gt;post('date');
        $dt = strtotime("$storeDate");
        $dateStore=date("Y-m-d", $dt); 
        $storeTime= $this-&gt;input-&gt;post('time'); 
        $timeStore= date("H:i:s", strtotime("$storeTime"));
        $channel_published_at=  date("Y-m-d H:i:s");

        $data = array(
            'league'               =&gt; $this-&gt;input-&gt;post('news_league_id'),
            'team1'                =&gt; $this-&gt;input-&gt;post('add_store_team1'),
            'team2'                =&gt; $this-&gt;input-&gt;post('add_store_team2'),
            'venue'                =&gt; $this-&gt;input-&gt;post('venue'),
            'country'              =&gt; $this-&gt;input-&gt;post('country'),
            'points'               =&gt; $this-&gt;input-&gt;post('points'),
            'date'                 =&gt; $dateStore,
            'time'                 =&gt; $timeStore,
            'channel_published_at' =&gt; $channel_published_at,
        ); 

        $this-&gt;game_model-&gt;update_store($data,$id);
        header("Content-type: application/json");
        echo json_encode($responce);

    }


    public function tickets(){ 
         if($this-&gt;session-&gt;userdata('id'))
         {

            $responce=$this-&gt;game_model-&gt;tickets_listing(); 
                $k=0;
                foreach($responce as $ticket){ 
                        $data['info'][$k]['id']             = $ticket['id'];
                        $data['info'][$k]['store_id']       = $ticket['store_id'];
                        $data['info'][$k]['user_id']        = $ticket['user_id'];
                        $data['info'][$k]['tickets']        = $ticket['tickets'];
                        $data['info'][$k]['total_credits']  = $ticket['total_credits'];
                        $data['info'][$k]['status']         = $ticket['status'];
                        $data['info'][$k]['update_date']    = $ticket['update_date'];
                        $data['info'][$k]['msg']            = $ticket['msg'];
                        $data['info'][$k]['name']           = $ticket['name'];
                        $data['info'][$k]['t1name']         = $ticket['t1name'];
                        $data['info'][$k]['t2name']         = $ticket['t2name'];
                        $data['info'][$k]['venue']          = $ticket['venue'];
                        $data['info'][$k]['country']        = $ticket['country'];
                        $data['info'][$k]['date']           = $ticket['date'];
                        $data['info'][$k]['time']           = $ticket['time'];
                        $data['info'][$k]['email']          = $ticket['email'];
                        $data['info'][$k]['tdate']           = $ticket['tdate'];


                        $k++;
                }


            $data['main_content']='game_tickets_listing';
            $this-&gt;load-&gt;view('layout/admin_template',$data);

       }else{
            $this-&gt;load-&gt;view('home/home');
        }
    }

    public function mail_trial(){ 
            $message='&lt;table style="min-width:600px;background-color: #fff;margin:0 auto;border-collapse: collapse;" border="0" cellspacing="0"&gt;
            &lt;tbody&gt;
            &lt;tr style="background-color: #005adc;"&gt;
                &lt;td style="width:30%;"&gt;
                    &lt;img src="'.ADMIN_PATH.'assets/logo.png" alt="" style="margin:0 auto;display: block;"&gt;
                &lt;/td&gt;
                &lt;td style="width:70%;"&gt;
                    &lt;h1 style="color:#fff;font-weight: 700;padding:10% 60px 8% 60px; font-size:2.5em"&gt;The Kroo&lt;/h1&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr style="background-color: #fff;"&gt;
                &lt;td colspan="2" align="center"&gt;';


            $message.='&lt;p style="color:#8C95A1;font-weight: 500;text-align: left; margin-left: 25px; font-size:1.2em;"&gt;Dear User, &lt;/p&gt; 
            &lt;p style="color:#8C95A1;font-weight: 500;text-align: center; font-size:1.2em;"&gt; You ticket has been &lt;b&gt;Approved&lt;/b&gt; from admin.';
            $message.='&lt;br&gt;&lt;br&gt;Regards&lt;br&gt;&lt;b&gt;Kroo Games Team&lt;/b&gt;&lt;/p&gt;';

            $message.='&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr style="text-align: center;background-color: #e1e4e9;"&gt;
                &lt;td colspan="2"&gt;
                    &lt;p style="color:#A0A5B4;font-size: 1.2em; padding:6%;font-weight: 400;"&gt;
                    Kroo helps you to re-connect with your favourite&lt;br&gt;teams,
                    players and fans ever you met.&lt;br&gt;@2016 The Kroo&lt;/p&gt; 
                &lt;/td&gt;
            &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;';
            
            $from_email = "kroogames@kroo.com"; 
            //$to_email = $this-&gt;input-&gt;post('email'); 
            $to_email = 'vikram.jaiswal@cliffex.com';
               
            $this-&gt;load-&gt;library('email');
            $config['protocol']    = 'smtp';
            $config['smtp_host']    = 'ssl://smtp.gmail.com';
            $config['smtp_port']    = '465';
            $config['smtp_timeout'] = '7';
            $config['smtp_user']    = 'thekrooapp@gmail.com';
            $config['smtp_pass']    = 'mTrjw+?jMwM_5L!m';
            $config['charset']    = 'utf-8';
            $config['newline']    = "\r\n";
            $config['mailtype'] = 'html'; // or html
            $config['validation'] = TRUE; // bool whether to validate email or not      


            /*$config['mailtype'] = 'html';
            $config['charset'] = 'iso-8859-1';
            $config['wordwrap'] = TRUE;*/

            $this-&gt;email-&gt;initialize($config);
            $this-&gt;email-&gt;from($from_email, 'Kroo Games');
            $this-&gt;email-&gt;to($to_email); 
            //$this-&gt;email-&gt;cc('manishpanwarthakur@gmail.com'); 
            //$this-&gt;email-&gt;bcc('manishpanwarthakur@gmail.com'); 
            $this-&gt;email-&gt;subject('Ticket status');
            $this-&gt;email-&gt;message($message);  
            $stt = $this-&gt;email-&gt;send();
            var_dump($stt);
            echo $this-&gt;email-&gt;print_debugger();
            $to = $to_email;
            $subject = "HTML email";

            $message = "
            &lt;html&gt;
            &lt;head&gt;
            &lt;title&gt;HTML email&lt;/title&gt;
            &lt;/head&gt;
            &lt;body&gt;
            &lt;p&gt;This email contains HTML Tags!&lt;/p&gt;
            &lt;table&gt;
            &lt;tr&gt;
            &lt;th&gt;Firstname&lt;/th&gt;
            &lt;th&gt;Lastname&lt;/th&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
            &lt;td&gt;John&lt;/td&gt;
            &lt;td&gt;Doe&lt;/td&gt;
            &lt;/tr&gt;
            &lt;/table&gt;
            &lt;/body&gt;
            &lt;/html&gt;
            ";

            // Always set content-type when sending HTML email
            $headers = "MIME-Version: 1.0" . "\r\n";
            $headers .= "Content-type:text/html;charset=UTF-8" . "\r\n";

            // More headers
            $headers .= 'From: &lt;admin@thekroo.com&gt;' . "\r\n";

            mail($to,$subject,$message,$headers);
    }

    public function update_tickets(){ 
        $id=$this-&gt;input-&gt;post('id');
        $date = date('Y-m-d H:i:s');
        $status=$this-&gt;input-&gt;post('status');
        $file='';
        $downloadfile='';
        if($status=="Approved"){
            $config = array(
                      'upload_path'     =&gt; "uploads/tickets/",
                      'allowed_types'   =&gt; "pdf",
                      'overwrite'       =&gt; false 
                    );

            $this-&gt;upload-&gt;initialize($config);
            $upld = $this-&gt;upload-&gt;do_upload('userfile');
            if($upld==true){
                $data=$this-&gt;upload-&gt;data();
                $file=$data['file_name'];
                $downloadfile = md5($file);
                $this-&gt;s3server-&gt;uploadons3('uploads/tickets/'.$file,$file,"usertickets");
            }else{
                $response['error']=strip_tags($this-&gt;upload-&gt;display_errors());
                $response['upload_data']=$this-&gt;upload-&gt;data();
                $response['config']=$config;
                $response['status'] = false;
                header("Content-type: application/json");
                echo json_encode($response);
                exit;
            }
            $message='&lt;table style="min-width:600px;background-color: #fff;margin:0 auto;border-collapse: collapse;" border="0" cellspacing="0"&gt;
            &lt;tbody&gt;
            &lt;tr style="background-color: #005adc;"&gt;
                &lt;td style="width:30%;"&gt;
                    &lt;img src="'.ADMIN_PATH.'assets/logo.png" alt="" style="margin:0 auto;display: block;"&gt;
                &lt;/td&gt;
                &lt;td style="width:70%;"&gt;
                    &lt;h1 style="color:#fff;font-weight: 700;padding:10% 60px 8% 60px; font-size:2.5em"&gt;The Kroo&lt;/h1&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr style="background-color: #fff;"&gt;
                &lt;td colspan="2" align="center"&gt;';


            $message.='&lt;p style="color:#8C95A1;font-weight: 500;text-align: left; margin-left: 25px; font-size:1.2em;"&gt;Dear User, &lt;/p&gt; 
            &lt;p style="color:#8C95A1;font-weight: 500;text-align: center; font-size:1.2em;"&gt; You ticket has been &lt;b&gt;'.strtoupper($this-&gt;input-&gt;post('status')).'&lt;/b&gt; from admin.';
            if($this-&gt;input-&gt;post('status')=='Approved' &amp;&amp; $downloadfile!=''){
                $message.='&lt;br&gt;&lt;br&gt;Kindly download the ticket by clicking the the given link:';
                $message.='&lt;br&gt;&lt;br&gt;&lt;a href="'.NOTIFICATION_API_PATH.'downloadticket/'.$downloadfile.'"&gt;Click Here&lt;/a&gt;';
            }elseif($this-&gt;input-&gt;post('status')=='Approved'){
                $message.='&lt;br&gt;&lt;br&gt;Kindly download the ticket from app download ticket section.';
            }
            $message.='&lt;br&gt;&lt;br&gt;Regards&lt;br&gt;&lt;b&gt;Kroo Games Team&lt;/b&gt;&lt;/p&gt;';

            $message.='&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr style="text-align: center;background-color: #e1e4e9;"&gt;
                &lt;td colspan="2"&gt;
                    &lt;p style="color:#A0A5B4;font-size: 1.2em; padding:6%;font-weight: 400;"&gt;
                    Kroo helps you to re-connect with your favourite&lt;br&gt;teams,
                    players and fans ever you met.&lt;br&gt;@2016 The Kroo&lt;/p&gt; 
                &lt;/td&gt;
            &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;';
            
            $from_email = "kroogames@kroo.com"; 
            $to_email = $this-&gt;input-&gt;post('email'); 
            //$to_email = 'vikram.jaiswal@cliffex.com';
               
            $this-&gt;load-&gt;library('email');
            /*$config['mailtype'] = 'html';
            $config['charset'] = 'iso-8859-1';
            $config['wordwrap'] = TRUE;*/
            $config['protocol']    = 'smtp';
            $config['smtp_host']    = 'ssl://smtp.gmail.com';
            $config['smtp_port']    = '465';
            $config['smtp_timeout'] = '7';
            $config['smtp_user']    = 'thekrooapp@gmail.com';
            $config['smtp_pass']    = 'mTrjw+?jMwM_5L!m';
            $config['charset']    = 'utf-8';
            $config['newline']    = "\r\n";
            $config['mailtype'] = 'html'; // or html
            $config['validation'] = TRUE; // bool whether to validate email or not   

            $this-&gt;email-&gt;initialize($config);
            $this-&gt;email-&gt;from($from_email, 'Kroo Games');
            $this-&gt;email-&gt;to($to_email); 
            //$this-&gt;email-&gt;cc('manishpanwarthakur@gmail.com'); 
            //$this-&gt;email-&gt;bcc('manishpanwarthakur@gmail.com'); 
            $this-&gt;email-&gt;subject('Ticket status');
            $this-&gt;email-&gt;message($message);  
            $this-&gt;email-&gt;send();
       }

        $data = array(
            'message'      =&gt; $this-&gt;input-&gt;post('message'),
            'status'       =&gt; $this-&gt;input-&gt;post('status'),
            'ticket_image' =&gt; $file,
            'update_date'  =&gt; $date,
        ); 
         

        $this-&gt;game_model-&gt;update_tickets($data,$id);

        if($this-&gt;input-&gt;post('status')=="Rejected"){
            $this-&gt;game_model-&gt;update_ticket_user($id);
        }

        //$response['status'] = true; 
        //header("Content-type: application/json");
        //echo json_encode($response);
        $this-&gt;push_notification_ticket($id,'1');
    }

    public function push_notification_game($gameid){
        if($_SERVER['HTTP_HOST']=='live.krooadmin.com' || $_SERVER['HTTP_HOST']=='test.krooadmin.com'){
            echo "localhost";
            exit;
        }else{
            echo "server";
</codefragment>
  </duplication>
  <duplication lines="164" tokens="401">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/controllers/game.php" line="642"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/controllers/game.php" line="645"/>
    <codefragment>            exit;
        }
        $contentAry = $this-&gt;game_model-&gt;getGameDesciption($gameid);
        $points = $this-&gt;game_model-&gt;getGamePointsForUser($contentAry['credits']);

        //get ios devices
        $iosarn = $this-&gt;game_model-&gt;getDeviceInfoIOS($contentAry['team'], $points);
        $iosDeviceidAry = array();
        $ios_res = '';
        foreach($iosarn as $arn){
            $iosDeviceidAry[]=$arn['aws_arn'];
        }

        //get android devices
        $androidDeviceidAry = $this-&gt;game_model-&gt;getDeviceInfoAndroid($contentAry['team'], $points);
        $registrationIds = array();
        $android_res = '';
        foreach($androidDeviceidAry as $value){
            $registrationIds[] = $value['device_token'];
        }
        //print_r($registrationIds); exit;
        if ( count($registrationIds)&gt;0) {
            $msg = array(
                'title' =&gt; $contentAry['title'],
                'data' =&gt; $contentAry,
                'vibrate' =&gt; 1,
                'sound' =&gt; 1,
                'largeIcon' =&gt; 'large_icon',
                'image_url'=&gt;'image_url',
                'description'=&gt;'news_description',
                'smallIcon' =&gt; 'small_icon'
            );

            $fields = array(
                'registration_ids' =&gt; $registrationIds,
                'data' =&gt; $msg
            );

            $headers = array(
                'Authorization: key=' . API_ACCESS_KEY,
                'Content-Type: application/json'
            );

            $ch = curl_init();
            curl_setopt($ch, CURLOPT_URL, 'https://android.googleapis.com/gcm/send');
            curl_setopt($ch, CURLOPT_POST, true);
            curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
            curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($fields));
            $result = curl_exec($ch);
            curl_close($ch);

            $android_res = json_decode($result);

        }

        if(count($iosDeviceidAry)&gt;0){
            $CurlConnect = curl_init();
            $req = json_encode(array('ios_arn_arr'=&gt;$iosDeviceidAry,'ios_content'=&gt;$contentAry));
            curl_setopt($CurlConnect, CURLOPT_URL, NOTIFICATION_API_PATH.'ios_push');
            curl_setopt($CurlConnect, CURLOPT_POST,   1);
            curl_setopt($CurlConnect, CURLOPT_RETURNTRANSFER, 1 );
            curl_setopt($CurlConnect, CURLOPT_POSTFIELDS, $req);

            curl_setopt($CurlConnect, CURLOPT_HTTPHEADER, array(                                                                          
               'Content-Type: application/json',                                                                                
               'Content-Length: ' . strlen($req))                                                                       
            );

            $Result = curl_exec($CurlConnect);
            $ios_res = $Result;
        }
        
        $data['contentAry']     = $contentAry;
        $data['android_res']    = $android_res;
        $data['ios_res']        = $ios_res;

        header("Content-type: application/json");
        echo json_encode($data);   
    }

    public function push_notification_ticket($ticketid,$level){
        $contentAry = $this-&gt;game_model-&gt;getTicketStatus($ticketid);
        $user_id=$contentAry['user_id'];
        //print_r($contentAry); exit;
        $iosarn = $this-&gt;game_model-&gt;getDeviceInfoIOS(0,array(),$user_id);
        $iosDeviceidAry = array();
        $ios_res = '';
        //print_r($iosarn); exit;
        foreach($iosarn as $arn){
            $iosDeviceidAry[]=$arn['aws_arn'];
        }
        $androidDeviceidAry = $this-&gt;game_model-&gt;getDeviceInfoAndroid(0,array(),$user_id);
        $registrationIds = array();
        $android_res = '';
        foreach($androidDeviceidAry as $value){
            $registrationIds[] = $value['device_token'];
        }
        //print_r($registrationIds); exit;
        if ( count($registrationIds)&gt;0) {

            $msg = array(
                'title' =&gt; $contentAry['title'],
                'data' =&gt; $contentAry,
                'vibrate' =&gt; 1,
                'sound' =&gt; 1,
                'largeIcon' =&gt; 'large_icon',
                'image_url'=&gt;'image_url',
                'description'=&gt;'news_description',
                'smallIcon' =&gt; 'small_icon'
            );

            $fields = array(
                'registration_ids' =&gt; $registrationIds,
                'data' =&gt; $msg
            );

            $headers = array(
                'Authorization: key=' . API_ACCESS_KEY,
                'Content-Type: application/json'
            );

            $ch = curl_init();
            curl_setopt($ch, CURLOPT_URL, 'https://android.googleapis.com/gcm/send');
            curl_setopt($ch, CURLOPT_POST, true);
            curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
            curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($fields));
            $result = curl_exec($ch);
            curl_close($ch);

            $android_res = json_decode($result);
        }

        if(count($iosDeviceidAry)&gt;0){
            $CurlConnect = curl_init();
            $req = json_encode(array('ios_arn_arr'=&gt;$iosDeviceidAry,'ios_content'=&gt;$contentAry));
            curl_setopt($CurlConnect, CURLOPT_URL, NOTIFICATION_API_PATH.'ios_push');
            curl_setopt($CurlConnect, CURLOPT_POST,   1);
            curl_setopt($CurlConnect, CURLOPT_RETURNTRANSFER, 1 );
            curl_setopt($CurlConnect, CURLOPT_POSTFIELDS, $req);

            curl_setopt($CurlConnect, CURLOPT_HTTPHEADER, array(                                                                          
               'Content-Type: application/json',                                                                                
               'Content-Length: ' . strlen($req))                                                                       
            );

            $Result = curl_exec($CurlConnect);
            $ios_res = $Result;
        }
        
        $data['contentAry']     = $contentAry;
        $data['android_res']    = $android_res;
        $data['ios_res']        = $ios_res;

        header("Content-type: application/json");
        echo json_encode($data);   
    }

    public function getmaxcredit(){
        $str = $this-&gt;game_model-&gt;getMaxCredit();
        echo ($str&gt;0)?$str:0;
</codefragment>
  </duplication>
  <duplication lines="48" tokens="154">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/models/game_model.php" line="32"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/models/game_model.php" line="22"/>
    <codefragment>        $this-&gt;db-&gt;update($table, $data);
        return $id;
    }

    function update_store($data,$id){ 
        $this-&gt;db-&gt;where('id', $id);
        $this-&gt;db-&gt;update('store', $data);
    }


    function update_tickets($data,$id){ 
        $this-&gt;db-&gt;where('id', $id);
        $this-&gt;db-&gt;update('user_tickets', $data);
    }    
    
    function qustion_delete($qustion_id,$data){ 
        $this-&gt;db-&gt;where('id', $qustion_id);
        $this-&gt;db-&gt;update('game',$data);
    }


    function get_news_id($news_id){ 
        $this-&gt;db-&gt;select("*");
        $this-&gt;db-&gt;from('game');
        $this-&gt;db-&gt;where('news_id', $news_id);
        $query=$this-&gt;db-&gt;get();
        return $query-&gt;result_array();
    }

    function get_league($news_id){ 
        $this-&gt;db-&gt;select("league_id");
        $this-&gt;db-&gt;from('rss_sports_news');
        $this-&gt;db-&gt;where('id', $news_id);
        $query=$this-&gt;db-&gt;get();
        return $query-&gt;row_array();
    }

    function get_news($news_id){ 
        $this-&gt;db-&gt;select("*");
        $this-&gt;db-&gt;from('game');
        $this-&gt;db-&gt;where('news_id', $news_id);
        $query=$this-&gt;db-&gt;get();
        return $query-&gt;result_array();
        
    }

    function get_hints($game_id){ 
        $this-&gt;db-&gt;select("*");
</codefragment>
  </duplication>
  <duplication lines="29" tokens="82">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/models/game_model.php" line="82"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/models/game_model.php" line="63"/>
    <codefragment>        $query=$this-&gt;db-&gt;get();
        return $query-&gt;result_array();
        
    }

    function game_detail($game_id){ 
        $this-&gt;db-&gt;select("g.*");
        $this-&gt;db-&gt;from('game as g');
        $this-&gt;db-&gt;where('id', $game_id);
        $query=$this-&gt;db-&gt;get();
        return $query-&gt;result_array();
        
    }

    function store_detail($store_id){ 
        $this-&gt;db-&gt;select("*");
        $this-&gt;db-&gt;from('store');
        $this-&gt;db-&gt;where('id',$store_id);
        $query=$this-&gt;db-&gt;get();
        return $query-&gt;result_array();
        
    }



    function game_listing(){ 
        /*$query=$this-&gt;db-&gt;query("SELECT a.*,t.name as tname,l.name as lname ,count(ug0.id) as not_played,count(ug1.id) as won,count(ug2.id) as lost,count(ug3.id) as timeout,count(ug4.id) as playing FROM `game` a LEFT join user_game ug0 on a.id=ug0.game_id and ug0.status='0' LEFT join user_game ug1 on a.id=ug1.game_id and ug1.status='1' LEFT join user_game ug2 on a.id=ug2.game_id and ug2.status='2' LEFT join user_game ug3 on a.id=ug3.game_id and ug3.status='3' LEFT join user_game ug4 on a.id=ug4.game_id and ug4.status='4' LEFT join teams as t on a.team=t.id LEFT join leagues as l on t.league_id=l.id where a.status='0' OR a.status='2'  group by a.id");*/
        $query=$this-&gt;db-&gt;query("SELECT a.*,if(t.name is null,'All Teams',t.name) as tname,l.name as lname ,count(ug0.id) as not_played,count(ug1.id) as won,count(ug2.id) as lost,count(ug3.id) as timeout,count(ug4.id) as playing FROM `game` a LEFT join user_game ug0 on a.id=ug0.game_id and ug0.status='0' LEFT join user_game ug1 on a.id=ug1.game_id and ug1.status='1' LEFT join user_game ug2 on a.id=ug2.game_id and ug2.status='2' LEFT join user_game ug3 on a.id=ug3.game_id and ug3.status='3' LEFT join user_game ug4 on a.id=ug4.game_id and ug4.status='4' LEFT join teams as t on a.team=t.id LEFT join leagues as l on a.league=l.id where a.status='0' OR a.status='2'  group by a.id");

</codefragment>
  </duplication>
  <duplication lines="188" tokens="429">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game/models/game_model.php" line="111"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/game_before_game_change/models/game_model.php" line="93"/>
    <codefragment>        $result = $query-&gt;result_array();
        return $result;

    }


    function store_listing(){ 
        $query=$this-&gt;db-&gt;query("SELECT s.*,t1.name as team1,t2.name as team2,SUM(IF(tk1.status = 'pending',1,0))   AS pending,SUM(IF(tk1.status = 'Approved',1,0 ) )AS approved,SUM(IF(tk1.status = 'Rejected',1,0 )) AS rejected FROM store   AS s LEFT JOIN user_tickets AS tk1 ON (s.id = tk1.store_id) LEFT join teams t1 on s.team1=t1.id LEFT join teams t2 on s.team2=t2.id GROUP BY s.id");

        $result = $query-&gt;result_array(); 
        return $result;

    }
  

    function tickets_listing(){ 
        $this-&gt;db-&gt;select("ut.id as id, ut.store_id as store_id,ut.user_id as user_id,ut.tickets as tickets,ut.total_credits as total_credits,ut.status as status,ut.update_date as update_date,ut.message as msg,u.name as name,u.email as email,tm.name as t1name,t.name as t2name,s.venue as venue,c.name as country,s.date as date,s.time as time,ut.date as tdate");
        $this-&gt;db-&gt;from('user_tickets ut');
        $this-&gt;db-&gt;join('users as u','ut.user_id=u.id','left');
        $this-&gt;db-&gt;join('store as s','ut.store_id=s.id','left');
        $this-&gt;db-&gt;join('teams as tm','s.team1=tm.id','left');
        $this-&gt;db-&gt;join('teams as t','s.team2=t.id','left');
        $this-&gt;db-&gt;join('country as c','s.country=c.id','left');
        $this-&gt;db-&gt;order_by('ut.id','asc');
        $query=$this-&gt;db-&gt;get();  
       return $query-&gt;result_array();
    }

    function getGamePointsForUser($credits){
        $qry = "select points_start, points_end from activity_credits where credits &gt;= $credits order by credits asc limit 1";
        $data = $this-&gt;db-&gt;query($qry);
       // echo $this-&gt;db-&gt;last_query();
        if ($data-&gt;num_rows() &gt; 0) {
            return $data-&gt;row_array();
        } else {
            return null;
        }
    }

    function getGameDesciption($id){
        $qry="SELECT g.id as game_id, team, credits, 'New Game Arrived' as title from game as g where g.id=".$id;
        $data = $this-&gt;db-&gt;query($qry);
       // echo $this-&gt;db-&gt;last_query();
        if ($data-&gt;num_rows() &gt; 0) {
            return $data-&gt;row_array();
        } else {
            return null;
        }
    }

    function getDeviceInfoIOS($team=0, $points=array(), $user_id='') {    
        //SELECT ud.id,ud.user_id,d.*,u.notification_level FROM `user_devices` ud left join `devices` d on ud.devices_id=d.id left join users u on u.id=ud.user_id WHERE d.aws_arn!='' and ud.is_logged_in='1'
        $notilevel=" d.os='ios' ";
        if($team &gt; 0){
            $notilevel=" utf.team_id = ". $team;
        }

        if($user_id !='' &amp;&amp; $user_id &gt; 0){
            $notilevel .= " AND u.id = $user_id ";
        }
        
        if(count($points) &gt; 0){
            $notilevel .=" AND u.points &gt;= ".$points['points_start'];
        }elseif($user_id &gt; 0){

        }else{
            return null;
        }
        
        //$qry="SELECT aws_arn  FROM user_devices as ud 
        $qry="SELECT ud.id as user_device_id,ud.user_id as user_id,ud.is_logged_in,u.id as uid,d.* ,u.notification_level
            FROM user_devices as ud 
            LEFT JOIN `devices` d on ud.devices_id=d.id
            LEFT JOIN users u on u.id=ud.user_id
            LEFT JOIN user_teams_follow utf on u.id=utf.user_id
            WHERE ". $notilevel ." AND d.aws_arn IS NOT NULL AND d.aws_arn != '' AND ud.is_logged_in='1' GROUP BY aws_arn";
            //return $sql; exit;
            $data = $this-&gt;db-&gt;query($qry);
            //echo $this-&gt;db-&gt;last_query();
        if ($data-&gt;num_rows() &gt; 0) {
            return $data-&gt;result_array();
        } else {
            return null;
        }
    }

    function getDeviceInfoAndroid($team=0, $points=array(), $user_id='') {    
        //SELECT ud.id,ud.user_id,d.*,u.notification_level FROM `user_devices` ud left join `devices` d on ud.devices_id=d.id left join users u on u.id=ud.user_id WHERE d.device_token!='' and ud.is_logged_in='1'
        $notilevel=" d.os='Android' ";
        if($team &gt; 0){
            $notilevel=" utf.team_id = ". $team;
        }

        if($user_id !='' &amp;&amp; $user_id &gt; 0){
            $notilevel .= " AND u.id = $user_id ";
        }

        if(count($points) &gt; 0){
            $notilevel .=" AND u.points &gt;= ".$points['points_start'];
        }elseif($user_id &gt; 0){

        }else{
            return null;
        }

        $qry="SELECT ud.id as user_device_id,ud.user_id as user_id ,d.* ,u.notification_level
            FROM user_devices as ud 
            LEFT JOIN `devices` d on ud.devices_id=d.id
            LEFT JOIN users u on u.id=ud.user_id
            LEFT JOIN user_teams_follow utf on u.id=utf.user_id
            WHERE ". $notilevel ." AND d.device_token IS NOT NULL AND d.device_token != '' AND ud.is_logged_in='1' GROUP BY device_token";
            $data = $this-&gt;db-&gt;query($qry);
           // echo $this-&gt;db-&gt;last_query();
        if ($data-&gt;num_rows() &gt; 0) {
            return $data-&gt;result_array();
        } else {
            return null;
        } 
    }

    function getDeviceInfoIOSTest($user_id='') {    
        //SELECT ud.id,ud.user_id,d.*,u.notification_level FROM `user_devices` ud left join `devices` d on ud.devices_id=d.id left join users u on u.id=ud.user_id WHERE d.aws_arn!='' and ud.is_logged_in='1'
        $notilevel="";
        if($user_id !=''){
            $notilevel .= " u.id in ($user_id) AND ";
        }

        //$qry="SELECT aws_arn  FROM user_devices as ud 
        $qry="SELECT ud.id as user_device_id,ud.user_id as user_id,ud.is_logged_in,u.id as uid,d.* ,u.notification_level
            FROM user_devices as ud 
            LEFT JOIN `devices` d on ud.devices_id=d.id
            LEFT JOIN users u on u.id=ud.user_id
            WHERE ". $notilevel ." d.os='ios' AND d.aws_arn IS NOT NULL AND d.aws_arn != '' AND ud.is_logged_in='1' GROUP BY aws_arn";
            //return $sql; exit;
            $data = $this-&gt;db-&gt;query($qry);
            //echo $this-&gt;db-&gt;last_query();
        if ($data-&gt;num_rows() &gt; 0) {
            return $data-&gt;result_array();
        } else {
            return null;
        }
    }

    function getDeviceInfoAndroidTest($user_id='') {    
        //SELECT ud.id,ud.user_id,d.*,u.notification_level FROM `user_devices` ud left join `devices` d on ud.devices_id=d.id left join users u on u.id=ud.user_id WHERE d.device_token!='' and ud.is_logged_in='1'
        $notilevel="";
        if($user_id !=''){
            $notilevel .= " u.id in ($user_id) AND ";
        }

        $qry="SELECT ud.id as user_device_id,ud.user_id as user_id ,d.* ,u.notification_level
            FROM user_devices as ud 
            LEFT JOIN `devices` d on ud.devices_id=d.id
            LEFT JOIN users u on u.id=ud.user_id
            WHERE ". $notilevel ." d.os='Android' AND d.device_token IS NOT NULL AND d.device_token != '' AND ud.is_logged_in='1' GROUP BY device_token";
            $data = $this-&gt;db-&gt;query($qry);
           // echo $this-&gt;db-&gt;last_query();
        if ($data-&gt;num_rows() &gt; 0) {
            return $data-&gt;result_array();
        } else {
            return null;
        } 
    }

    function getTicketStatus($userTicketid){
        $qry="SELECT id as user_ticket_id,concat('Your ticket has been ',status,' by Admin') as title,user_id FROM `user_tickets` where id=".$userTicketid;
            $data = $this-&gt;db-&gt;query($qry);
           // echo $this-&gt;db-&gt;last_query();
        if ($data-&gt;num_rows() &gt; 0) {
            return $data-&gt;row_array();
        } else {
            return null;
        }
    }

    function getMaxCredit(){
        $qry="SELECT credits FROM `activity_credits` order by credits desc limit 1";
        $data = $this-&gt;db-&gt;query($qry);
        $data = $data-&gt;row_array();
        return $data['credits'];
    }

    function update_ticket_user($ticketid){
        $this-&gt;db-&gt;where('id',$ticketid);
        $query = $this-&gt;db-&gt;get('user_tickets');
        $row = $query-&gt;row_array();
        $sql = "update users set points = points + ". $row['total_credits'] . " where id='". $row['user_id'] ."'";
        $this-&gt;db-&gt;query($sql);
</codefragment>
  </duplication>
  <duplication lines="29" tokens="73">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/stats/views/stats_listing - Copy.php" line="2"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/stats/views/stats_listing.php" line="2"/>
    <codefragment>    if(!empty($result)){
        foreach($result as $user){

            echo '&lt;tr id="user_row_'.$user['id'].'"&gt;';                    


            echo '&lt;td class="col-md-2 "&gt;';
                if($user['league_logo']!='')
                    echo '&lt;a href="javascript:void(0);"&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$user['league_logo'].'"&gt; &lt;/a&gt;';   
                else
                    echo '&lt;p&gt;&amp;nbsp;&lt;/p&gt;';
                   
            echo '&lt;/td&gt;';

            echo '&lt;td class="col-md-1 "&gt;';
                if($user['team_logo']!='')
                    echo '&lt;p&gt;&lt;img style="width:45px;" class="media-object" src="'.teamlogo.''.$user['team_logo'].'"&gt; '.$user['team_name'].'&lt;/p&gt;';   
                else
                    echo '&lt;p&gt;&amp;nbsp;&lt;/p&gt;';
            echo '&lt;/td&gt;';

            echo '&lt;td class="col-md-1 "&gt;';
                echo '&lt;p&gt;'.$user['channel_date'].'&lt;/p&gt;';   
            echo '&lt;/td&gt;';

            echo '&lt;td class="col-md-1 "&gt;';
                echo '&lt;p&gt;'.$user['count'].'&lt;/p&gt;';   
            echo '&lt;/td&gt;';
            echo '&lt;/tr&gt;';
</codefragment>
  </duplication>
  <duplication lines="135" tokens="87">
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/stats/views/news_stats.php" line="37"/>
    <file path="/home/arun/Projects/Kroo_Admin-Redesign/application/modules/stats/views/news_stats.php" line="98"/>
    <codefragment>                                        if(!empty($leagues['all_leagues'])){
                                            echo '&lt;ul class="dropdown-menu"&gt;';
                                            echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';                                            
                                             foreach($leagues['all_leagues'] as $news){
                                                echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                            }
                                            echo '&lt;/ul&gt;';
                                        }
                                    ?&gt;
                                &lt;/div&gt;

                                
                                 &lt;div style="padding-left:10px;"&gt;
                                       &lt;form class="form-inline" id="news_date_form"&gt;
                                           &lt;div class="form-group"&gt;
                                               &lt;input type="text" class="form-control datepicker datepicker1" autocomplete="off" placeholder="From Date" id="datepicker1" name="datepicker1" /&gt;
                                           &lt;/div&gt;
                                           
                                           &lt;button id="btn_get_date" class="btn btn-default"&gt;Get News&lt;/button&gt;
                                       &lt;/form&gt;
                                &lt;/div&gt;
                                &lt;div style="padding-left:10px;" class="cronReports"&gt; &lt;/div&gt;
                                &lt;div style="padding-left:10px;" class="cronReportsToday"&gt; &lt;/div&gt;
                                &lt;div class="dropdown" style="padding-right:10px; float: right; margin-left:auto;"&gt;
                                    &lt;button class="btn btn-default clr-fltr" type="button"&gt;Clear Filter&lt;/button&gt;
                                &lt;/div&gt;
                               
                            &lt;/div&gt;

                            &lt;br&gt;
                               
                            &lt;div&gt;

                                 &lt;table class="table table-bordered table-striped example12 kroo_data_table"&gt;
                                     &lt;thead&gt;
                                        &lt;tr&gt;
                                            
                                            &lt;th class="col-md-3 "&gt;League&lt;/th&gt;
                                            &lt;th class="col-md-3 "&gt;Team&lt;/th&gt;
                                            &lt;th class="col-md-3 "&gt;Date&lt;/th&gt;
                                            &lt;th class="col-md-3"&gt;Count&lt;/th&gt;
                                             
                                        &lt;/tr&gt;       
                                    &lt;/thead&gt;
                                    &lt;tbody&gt;
                                        
                                    &lt;/tbody&gt;    
                                    &lt;/table&gt;
                                &lt;/div&gt;
                        &lt;/div&gt;

                        &lt;!-- HEADLINES CONTENT --&gt;
                        &lt;div role="tabpanel" class="tab-pane" id="headlines"&gt;

                            &lt;div style="display:flex; padding-top:20px; padding-left:20px;" id="left_filters"&gt;


                                &lt;div class="dropdown"&gt;
                                    &lt;button class="btn btn-default dropdown-toggle select_league_text" type="button" data-toggle="dropdown"&gt;Select League
                                    &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                                    &lt;?php
                                        if(!empty($leagues['all_leagues'])){
                                            echo '&lt;ul class="dropdown-menu"&gt;';
                                            echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';                                            
                                             foreach($leagues['all_leagues'] as $news){
                                                echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                            }
                                            echo '&lt;/ul&gt;';
                                        }
                                    ?&gt;
                                &lt;/div&gt;
                                
                                &lt;div style="padding-left:10px;"&gt;
                                    &lt;form class="form-inline" id="headline_date_form"&gt;
                                        &lt;div class="form-group"&gt;
                                            &lt;input type="text" class="form-control datepicker datepicker1" autocomplete="off" placeholder="From Date" id="datepicker1" name="datepicker1" /&gt;
                                        &lt;/div&gt;

                                        &lt;button id="btn_get_date" class="btn btn-default"&gt;Get News&lt;/button&gt;
                                    &lt;/form&gt;
                                &lt;/div&gt;     
                                &lt;div style="padding-left:10px;" class="cronReports"&gt; &lt;/div&gt;
                                &lt;div style="padding-left:10px;" class="cronReportsToday"&gt; &lt;/div&gt;
                                &lt;div class="dropdown" style="padding-right:10px; float: right; margin-left:auto;"&gt;
                                    &lt;button class="btn btn-default clr-fltr" type="button"&gt;Clear Filter&lt;/button&gt;
                                &lt;/div&gt;

                            &lt;/div&gt;

                            &lt;br&gt;
                               
                            &lt;div&gt;

                                 &lt;table class="table table-bordered table-striped example12 kroo_data_table"&gt;
                                     &lt;thead&gt;
                                        &lt;tr&gt;
                                            
                                            &lt;th class="col-md-5 "&gt;League&lt;/th&gt;
                                            &lt;th class="col-md-4 "&gt;Team&lt;/th&gt;
                                            &lt;th class="col-md-1 "&gt;Date&lt;/th&gt;
                                            &lt;th class="col-md-1"&gt;Count&lt;/th&gt;
                                             
                                        &lt;/tr&gt;       
                                    &lt;/thead&gt;
                                    &lt;tbody&gt;
                                        
                                    &lt;/tbody&gt;    
                                    &lt;/table&gt;
                                &lt;/div&gt;
                        &lt;/div&gt;


                        



                        &lt;div role="tabpanel" class="tab-pane" id="fantasy"&gt;

                            &lt;div style="display:flex; padding-top:20px; padding-left:20px;" id="left_filters"&gt;


                                &lt;div class="dropdown"&gt;
                                    &lt;button class="btn btn-default dropdown-toggle select_league_text" type="button" data-toggle="dropdown"&gt;Select League
                                    &lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;
                                    &lt;?php
                                        if(!empty($leagues['all_leagues'])){
                                            echo '&lt;ul class="dropdown-menu"&gt;';
                                            echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="" data-name="All League" href="javascript:void(0);"&gt;&lt;span&gt;All League&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';                                            
                                             foreach($leagues['all_leagues'] as $news){
                                                echo '&lt;li style="text-align:center"&gt;&lt;a class="select_league" data-id="'.$news-&gt;id.'" data-name="'.$news-&gt;name.'" href="javascript:void(0);"&gt;&lt;span&gt;'.$news-&gt;name.'&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;';
                                            }
                                            echo '&lt;/ul&gt;';
                                        }
                                    ?&gt;
                                &lt;/div&gt;
</codefragment>
  </duplication>
</pmd-cpd>
